%!PS-Adobe-2.0
%%Creator: dvips 5.58 Copyright 1986, 1994 Radical Eye Software
%%Title: paper.dvi
%%Pages: 16
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Bold Times-Roman Courier Times-Italic
%%EndComments
%DVIPSCommandLine: dvips -o final.ps paper.dvi
%DVIPSParameters: dpi=300, comments removed
%DVIPSSource:  TeX output 1995.08.25:1046
%%BeginProcSet: tex.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR[matrix currentmatrix{dup dup round sub abs 0.00001 lt{round}if}
forall round exch round exch]setmatrix}N /@landscape{/isls true N}B
/@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B
/FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{
/nn 8 dict N nn begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N
string /base X array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N
end dup{/foo setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{
/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]
N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data dup
length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{
128 ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub
get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data
dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N
/rc 0 N /gp 0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup
/base get 2 index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx
0 ch-xoff ch-yoff ch-height sub ch-xoff ch-width add ch-yoff
setcachedevice ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff
.1 sub]{ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}
if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup
length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{
cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul
add .99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore userdict
/eop-hook known{eop-hook}if showpage}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 .1 TR 1 1 scale rulex ruley false
RMat{BDot}imagemask grestore}}{{gsave TR -.1 .1 TR rulex ruley scale 1 1
false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave newpath transform
round exch round exch itransform moveto rulex 0 rlineto 0 ruley neg
rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N /tail
{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}
B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{
4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{
p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p
a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
%%BeginProcSet: texps.pro
TeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2
index /UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type /integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics /Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont /setfont load]cvx def}def
/ObliqueSlant{dup sin S cos div neg}B /SlantFont{4 index mul add}def
/ExtendFont{3 -1 roll mul exch}def /ReEncodeFont{/Encoding exch def}def
end
%%EndProcSet
%%BeginProcSet: special.pro
TeXDict begin /SDict 200 dict N SDict begin /@SpecialDefaults{/hs 612 N
/vs 792 N /ho 0 N /vo 0 N /hsc 1 N /vsc 1 N /ang 0 N /CLIP 0 N /rwiSeen
false N /rhiSeen false N /letter{}N /note{}N /a4{}N /legal{}N}B
/@scaleunit 100 N /@hscale{@scaleunit div /hsc X}B /@vscale{@scaleunit
div /vsc X}B /@hsize{/hs X /CLIP 1 N}B /@vsize{/vs X /CLIP 1 N}B /@clip{
/CLIP 2 N}B /@hoffset{/ho X}B /@voffset{/vo X}B /@angle{/ang X}B /@rwi{
10 div /rwi X /rwiSeen true N}B /@rhi{10 div /rhi X /rhiSeen true N}B
/@llx{/llx X}B /@lly{/lly X}B /@urx{/urx X}B /@ury{/ury X}B /magscale
true def end /@MacSetUp{userdict /md known{userdict /md get type
/dicttype eq{userdict begin md length 10 add md maxlength ge{/md md dup
length 20 add dict copy def}if end md begin /letter{}N /note{}N /legal{}
N /od{txpose 1 0 mtx defaultmatrix dtransform S atan/pa X newpath
clippath mark{transform{itransform moveto}}{transform{itransform lineto}
}{6 -2 roll transform 6 -2 roll transform 6 -2 roll transform{
itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll curveto}}{{
closepath}}pathforall newpath counttomark array astore /gc xdf pop ct 39
0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}if}N
/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1 -1
scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3 get
ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip yflip
not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub neg 0
TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{noflips{TR
pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop 90 rotate 1
-1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg
TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr 1 get neg
sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr 2 get ppr
0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4 -1 roll add
2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S TR}if}N /cp
{pop pop showpage pm restore}N end}if}if}N /normalscale{Resolution 72
div VResolution 72 div neg scale magscale{DVImag dup scale}if 0 setgray}
N /psfts{S 65781.76 div N}N /startTexFig{/psf$SavedState save N userdict
maxlength dict begin /magscale true def normalscale currentpoint TR
/psf$ury psfts /psf$urx psfts /psf$lly psfts /psf$llx psfts /psf$y psfts
/psf$x psfts currentpoint /psf$cy X /psf$cx X /psf$sx psf$x psf$urx
psf$llx sub div N /psf$sy psf$y psf$ury psf$lly sub div N psf$sx psf$sy
scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub TR
/showpage{}N /erasepage{}N /copypage{}N /p 3 def @MacSetUp}N /doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N /endTexFig{end psf$SavedState restore}N /@beginspecial{SDict
begin /SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count /ocount X /dcount countdictstack N}N /@setspecial
{CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if /showpage{}N /erasepage{}N /copypage{}N newpath
}N /@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{
end}repeat grestore SpecialSave restore end}N /@defspecial{SDict begin}
N /@fedspecial{end}B /li{lineto}B /rl{rlineto}B /rc{rcurveto}B /np{
/SaveX currentpoint /SaveY X N 1 setlinecap newpath}N /st{stroke SaveX
SaveY moveto}N /fil{fill SaveX SaveY moveto}N /ellipse{/endangle X
/startangle X /yrad X /xrad X /savematrix matrix currentmatrix N TR xrad
yrad scale 0 0 1 startangle endangle arc savematrix setmatrix}N end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 300 300
(/am/amsterdam/u2/engler/papers/sosp-95/paper.dvi) @start
/Fa 152[17 1[15 54[8 1[8 44[{}4 33.333332 /Times-Italic
rf /Fb 136[20 20 1[20 20 20 2[20 1[20 20 2[20 20 2[20
20 20 1[20 7[20 3[20 20 20 2[20 3[20 2[20 2[20 1[20 20
20 20 65[{}26 33.333332 /Courier rf /Fc 134[22 4[22 3[22
22 2[22 22 1[22 1[22 1[22 22 22 99[{}11 37.500000 /Courier
rf /Fd 1 25 df<0F00043F80047FC00470F00CC0780CC03C38800FF88007F08003C016
097E8C1B>24 D E /Fe 81[18 51[15 17 17 1[17 17 9 13 11
1[17 17 17 26 9 2[9 17 17 11 15 17 15 17 15 7[24 3[24
20 18 22 1[18 24 24 30 20 2[11 24 1[18 20 24 22 22 24
7[17 17 17 17 17 17 17 17 17 17 9 8 11 3[11 11 40[{}56
33.333332 /Times-Roman rf /Ff 80[18 52[15 17 17 24 17
18 11 13 15 1[18 17 18 28 9 2[9 18 17 11 15 18 15 1[17
9[33 2[22 18 24 1[20 26 1[31 3[13 26 1[20 22 24 24 16[17
17 17 6[11 11 11 39[{}42 33.333332 /Times-Bold rf /Fg
1 16 df<07801FE03FF07FF87FF8FFFCFFFCFFFCFFFCFFFCFFFC7FF87FF83FF01FE00780
0E107E9013>15 D E /Fh 169[22 2[17 3[22 6[22 2[18 22 20
1[22 65[{}8 29.999987 /Times-Roman rf /Fi 80[21 53[19
19 27 19 21 12 15 17 1[21 19 21 31 10 2[10 21 19 1[17
21 17 1[19 13[21 27 1[23 1[27 4[15 3[25 3[27 14[19 19
19 8[12 39[{}32 37.500000 /Times-Bold rf /Fj 2 63 df<0000C00003C0000700
001C0000780001E0000780000E0000380000F00000F000003800000E000007800001E000
007800001C000007000003C00000C012147D901A>60 D<C00000F000003800000E000007
800001E000007800001C000007000003C00003C0000700001C0000780001E0000780000E
0000380000F00000C0000012147D901A>62 D E /Fk 1 14 df<003F800000FFE00003C0
780007001C000C000600180003003000018030000180600000C0600000C0C0000060C000
0060C0000060C0000060C0000060C0000060600000C0600000C030000180300001801800
03000C00060007001C0003C0780000FFE000003F80001B1A7E9321>13
D E /Fl 81[16 52[15 15 21 15 15 8 11 10 15 15 15 15 23
8 15 8 8 15 15 10 13 15 13 15 13 7[21 1[27 2[18 16 19
1[16 21 21 26 1[21 1[10 2[16 1[21 19 1[21 27 6[15 15
1[15 15 15 1[15 15 15 8 7 10 7 16 1[10 10 40[{}57 29.166668
/Times-Roman rf /Fm 81[19 51[15 17 17 25 17 19 10 15
15 1[19 19 19 27 10 17 10 10 19 19 10 17 19 17 19 19
8[23 31 1[27 21 19 23 1[23 27 25 31 21 1[17 12 27 27
23 23 27 25 23 23 7[19 19 19 19 1[19 19 19 19 19 10 9
12 9 2[12 12 40[{}62 37.500000 /Times-Italic rf /Fn 47[37
21[17 8[19 1[21 21 3[17 47[17 19 19 27 19 19 10 15 12
19 19 19 19 29 10 19 10 10 19 19 12 17 19 17 19 17 3[12
1[12 23 27 27 35 27 27 23 21 25 1[21 27 27 33 23 27 15
12 27 27 21 23 27 25 25 27 1[17 3[10 10 19 19 19 19 19
19 19 19 19 19 10 9 12 9 21 1[12 12 12 1[31 37[{}81 37.500000
/Times-Roman rf /Fo 55 122 df<0003C003F7E007F7E00FF7E01F13C01F00001F0000
1F00001F00001F00007FF3E0FFF3E0FFF3E01F03E01F03E01F03E01F03E01F03E01F03E0
1F03E01F03E01F03E01F03E01F03E01F03E01F03E00F03E0131B809A16>12
D<00E001C0038007800F000F001E003E003C003C007C007C0078007800F800F800F800F8
00F800F800F800F800F800F800780078007C007C003C003C003E001E000F000F00078003
8001C000E00B267E9B10>40 D<E000700038003C001E001E000F000F800780078007C007
C003C003C003E003E003E003E003E003E003E003E003E003E003C003C007C007C0078007
800F800F001E001E003C0038007000E0000B267E9B10>I<FFE0FFE0FFE00B0380890E>
45 D<F8F8F8F8F805057D840B>I<01C003C01FC0FFC0FFC067C007C007C007C007C007C0
07C007C007C007C007C007C007C007C007C007C007C007C07FFCFFFC7FFC0E1A7D9915>
49 D<0FE01FF03FFC7FFEF87EF03F603F201F001F003F003F003E007C007C00F801F003
E007800F000E001C0038007FFFFFFFFFFF7FFF101A7E9915>I<0FE03FF87FFCFFFC707E
407E003E007E007E00FC07F807F007F8007E003E003F003F003F003F403F603FF87EFFFE
7FFC3FF80FE0101A7E9915>I<00FC0000FC0001FC0003FC0003BC0007BC00073C000F3C
000F3C001E3C001E3C003C3C003C3C00783C00783C00F03C00FFFFC0FFFFC0FFFFC0FFFF
C0003C00003C00003C00003C00003C00003C00121A7F9915>I<1FFF003FFF003FFF003F
FF003E00003E00003E00003E00003E00003E00003FF8003FFC003FFE003E1F001C1F8000
1F80001F80001F80201F80601F80701F80F83F007FFF003FFE001FFC0007F000111A7F99
15>I<01F007F81FF81FF83F087C007C007800F800F8F0FBFCFFFEFE3EFC1FF81FF81FF8
1FF81FF81F781F7C1F7C3E3FFE1FFC0FF807E0101A7E9915>I<FFFFFFFFFFFFFFFF001E
003C007C00F800F801F001F003E003E007E007C00FC00FC00FC00F801F801F801F801F80
1F801F801F80101A7E9915>I<0FF03FFC7FFE7FFEFC3FF81FF81FF81FF81F781E7FFE1F
F81FF87E7E7C3EF81FF81FF81FF81FF81FF81F7C3E7FFE3FFC1FF807E0101A7E9915>I<
07E01FF03FFC7FFC7C3EF83EF81EF81FF81FF81FF81FF81FF83F7C7F7FFF3FDF0F1F001F
001E003E003E307C3FFC7FF83FF00F80101A7E9915>I<F8F8F8F8F800000000000000F8
F8F8F8F805117D900B>I<00FC0001FE0001FE0003FF0003FF0003DF0007DF8007DF8007
9F80078F800F8FC00F8FC00F0FC01F07E01F07E01E07E03E03F03FFFF03FFFF07FFFF87C
01F87C01F8F800FCF800FCF800FCF0007C161A7E991B>65 D<7FFC00FFFF00FFFFC0FC1F
C0FC07E0FC07E0FC07E0FC07E0FC07E0FC07C0FC1FC0FFFF80FFFF00FFFFC0FC0FE0FC07
E0FC03F0FC03F0FC03F0FC03F0FC03F0FC03F0FC0FE0FFFFC0FFFF807FFE00141A7C991B
>I<007FC003FFF00FFFF01FFFF03FC0603F00207F00007E00007E0000FC0000FC0000FC
0000FC0000FC0000FC0000FC0000FC00007E00007E00007F00003F00083FC0781FFFF80F
FFF803FFF0007F80151A7E991A>I<7FFE00FFFFC0FFFFE0FC07F0FC03F8FC01F8FC00FC
FC00FCFC007EFC007EFC007EFC007EFC007EFC007EFC007EFC007EFC007EFC007EFC007C
FC00FCFC00FCFC01F8FC07F0FFFFE0FFFFC07FFE00171A7C991E>I<7FFF80FFFF80FFFF
80FFFF80FC0000FC0000FC0000FC0000FC0000FC0000FC0000FFFF00FFFF00FFFF00FFFF
00FC0000FC0000FC0000FC0000FC0000FC0000FC0000FFFF80FFFF80FFFF807FFF80111A
7C9918>I<7FFFFFFFFFFFFFFFFC00FC00FC00FC00FC00FC00FC00FFFEFFFEFFFEFFFEFC
00FC00FC00FC00FC00FC00FC00FC00FC00FC007C00101A7C9917>I<7C01F8FC01F8FC01
F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FFFFF8FFFFF8FFFFF8FFFFF8FC01
F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F87C01F8151A
7C991E>72 D<7CFCFCFCFCFCFCFCFCFCFCFCFCFCFCFCFCFCFCFCFCFCFCFCFC7C061A7D99
0C>I<7C00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC
00FC00FC00FC00FC00FC00FFFEFFFEFFFE7FFE0F1A7C9916>76 D<7E0007F0FF000FF0FF
000FF0FF000FF0FF801FF0F7801DF0F7801DF0F7C03DF0F3C039F0F3C039F0F3E079F0F3
E079F0F1E071F0F1F0F1F0F1F0F1F0F0F0E1F0F0F9E1F0F0F9E1F0F079C1F0F079C1F0F0
79C1F0F03F81F0F03F81F0F01F01F0F01F01F0700E01F01C1A7C9925>I<7E0078FF0078
FF0078FF8078FF8078F7C078F7C078F7C078F3E078F3E078F1F078F1F078F0F878F0F878
F07C78F07C78F03E78F03E78F01F78F01F78F01F78F00FF8F00FF8F007F8F007F87003F8
151A7C991E>I<00FF800003FFE0000FFFF8001FC1FC003F007E003E003E007E003F007C
001F00FC001F80FC001F80FC001F80FC001F80FC001F80FC001F80FC001F80FC001F80FC
001F80FC001F807E003F007E003F007F007F003F007E001FC1FC000FFFF80007FFF00000
FF8000191A7E991E>I<7FFC00FFFF00FFFF80FC1FC0FC07C0FC07E0FC07E0FC07E0FC07
E0FC07E0FC07E0FC07C0FC1FC0FFFF80FFFF00FFFC00FC0000FC0000FC0000FC0000FC00
00FC0000FC0000FC0000FC00007C0000131A7C991A>I<7FFC00FFFF00FFFF80FC0FC0FC
07E0FC07E0FC07E0FC07E0FC07E0FC07E0FC0FC0FFFF80FFFF00FFFC00FCFC00FC7E00FC
7E00FC3F00FC3F00FC1F80FC1F80FC0FC0FC0FC0FC07E0FC07E07C03E0131A7C991A>82
D<07F8001FFE003FFF007FFF007C0F00F80200F80000F80000FC0000FF80007FF8007FFC
003FFF000FFF0007FF80007FC0000FC00007C00007C04007C0F007C0FC0F80FFFF807FFF
001FFE0007F800121A7E9917>I<7FFFFFFFFFFFFFFFFFFFFFFF007E00007E00007E0000
7E00007E00007E00007E00007E00007E00007E00007E00007E00007E00007E00007E0000
7E00007E00007E00007E00007E00007E00003E00181A7F991B>I<FC000FFC001FFE003F
7E003E7E003E7F007E3F007C3F007C1F80F81F80F81F80F80FC1F00FC1F00FC1F007E1E0
07E3E007E3E003E3C003F3C003F7C001F78001FF8001FF8000FF0000FF00007E00181A7F
991B>86 D<0FF03FFC3FFE381F201F001F00FF0FFF3F1F7C1FF81FF81FF81FFC7F7FFF3F
9F1F1F10117F9014>97 D<780000F80000F80000F80000F80000F80000F80000F80000F8
0000F8F800FBFE00FFFF00FC1F00F81F80F80F80F80F80F80F80F80F80F80F80F80F80F8
0F80F81F00FC3F00FFFE00FBFC0079F000111A7E9915>I<07F81FFE3FFE7C0E7C00F800
F800F800F800F800F800F8007C027E0E3FFE1FFE07F80F117F9012>I<000F80000F8000
0F80000F80000F80000F80000F80000F80000F800FCF801FFF803FFF807E1F807C0F80F8
0F80F80F80F80F80F80F80F80F80F80F80F80F807C0F807C1F803FFF801FEF800FCF8011
1A7F9915>I<07F01FFC3FFE7C1E780FF80FF80FFFFFFFFFF800F800F80078007E033FFF
1FFF03FC10117F9013>I<01FC07FC0FFC1F041F001F001F001F001F007FE0FFE0FFE01F
001F001F001F001F001F001F001F001F001F001F001F001F000F000E1A80990D>I<0FE1
C03FFFC07FFDC07C7C00F83E00F83E00F83E00F83E00F83E007C7C007FFC003FF8006FE0
006000007FFC007FFF003FFF807FFFC0F007C0F003C0F003C0F807C07FFF803FFF000FFC
0012197F9015>I<7800F800F800F800F800F800F800F800F800F8FCF9FEFBFFFE1FFC1F
F81FF81FF81FF81FF81FF81FF81FF81FF81FF81FF81F781F101A7E9915>I<7CFCFCFCFC
FC000000003C7C7C7C7C7C7C7C7C7C7C7C7C7C7C7C3C061B7F9A0A>I<7000F000F000F0
00F000F000F000F000F000F07CF0F8F1F8F3F0F7E0FFC0FF80FF80FF80FFC0FBE0F1E0F1
F0F0F8F07CF03C703C0E1A7D9914>107 D<78F8F8F8F8F8F8F8F8F8F8F8F8F8F8F8F8F8
F8F8F8F8F8F8F878051A7E990A>I<78FC1F80F9FE3FC0FBFF7FE0FE1FC3E0FC1F83E0F8
1F03E0F81F03E0F81F03E0F81F03E0F81F03E0F81F03E0F81F03E0F81F03E0F81F03E0F8
1F03E0F81F03E0780F01E01B117E9020>I<78FCF9FEFBFFFE1FFC1FF81FF81FF81FF81F
F81FF81FF81FF81FF81FF81FF81F781F10117E9015>I<07F8001FFE003FFF007E1F807C
0F80F807C0F807C0F807C0F807C0F807C0F807C0F807C07C0F807E1F803FFF001FFE0007
F80012117F9015>I<78F800FBFE00FFFF00FC3F00F81F80F80F80F80F80F80F80F80F80
F80F80F80F80F80F80F81F00FC3F00FFFE00FBFC00F9F000F80000F80000F80000F80000
F80000F8000078000011187E9015>I<78C0FBC0FFC0FFC0FE00FC00F800F800F800F800
F800F800F800F800F800F80078000A117E900E>114 D<1FC03FF07FF0F070F000F000FF
007FE03FF01FF003F80078C078F078FFF07FE01FC00D117F9010>I<1E003E003E003E00
3E007FE0FFE0FFE03E003E003E003E003E003E003E003E003E003E003E203FF01FF00FC0
0C167F950F>I<781FF81FF81FF81FF81FF81FF81FF81FF81FF81FF81FF81FF81FF87FFF
FF7F9F3F1F10117E9015>I<E007F00FF00F781E781E781E3C3C3C3C3C3C1E781E781E78
0FF00FF00FF007E007E010117F9013>I<E03E0380F07F0780F07F0780F07F078078F70F
0078E78F0078E78F0078E78F003CE39E003DC39E003DC3DE003DC3DE001FC3DC001FC1FC
001F81FC001F81FC000F00F80019117F901C>I<F01EF81E7C3C3E781EF80FF007E007C0
03C007E00FF01E701E783C3C781EF81FF00F10117F9013>I<F007F80F780F781E3C1E3C
1E1E3C1E3C1E3C0F380F78077007F003F003E001E001E001C001C003C08780FF80FF00FC
0010187F9013>I E /Fp 138[27 27 27 27 2[27 27 27 27 27
27 27 27 27 1[27 27 27 1[27 50[27 46[{}18 45.833332 /Courier
rf /Fq 2 104 df<000F0038006000E001C001C001C001C001C001C001C001C001C001C0
01C001C001C001C001C0038007001E00F8001E000700038001C001C001C001C001C001C0
01C001C001C001C001C001C001C001C001C000E000600038000F102D7DA117>102
D<F8001E000700038001C001C001C001C001C001C001C001C001C001C001C001C001C001
C001C000E000600038000F0038006000E001C001C001C001C001C001C001C001C001C001
C001C001C001C001C001C0038007001E00F800102D7DA117>I E
/Fr 134[23 1[33 1[23 13 18 15 1[23 23 23 36 13 23 1[13
23 23 15 20 23 20 23 20 11[33 28 25 30 2[33 1[41 28 33
18 15 2[25 28 33 30 1[33 42 6[23 5[23 23 23 23 1[11 1[11
4[15 39[{}45 45.833332 /Times-Roman rf /Fs 134[29 29
1[29 32 19 23 26 1[32 29 32 48 16 32 1[16 32 29 19 26
1[26 1[29 13[32 42 2[45 1[55 39 6[39 3[42 6[19 12[19
45[{}29 58.333336 /Times-Bold rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300dpi
TeXDict begin

%%EndSetup
%%Page: 1 1
1 0 bop 389 -6 a Fs(Exok)o(er)o(nel:)22 b(An)15 b(Operating)h(System)f
(Ar)o(chitectur)o(e)f(f)o(or)499 69 y(A)o(pplication-Le)o(v)o(el)j
(Resour)o(ce)c(Management)442 182 y Fr(Da)o(wson)e(R.)i(Engler)n(,)e
(M.)h(Frans)g(Kaashoek,)g(and)f(James)g(O'T)l(oole)h(Jr)m(.)642
238 y(M.I.T)m(.)g(Laboratory)f(for)h(Computer)f(Science)731
294 y(Cambridge,)h(MA)f(02139,)g(U.S.A)535 351 y Fq(f)p
Fp(engler)p Fr(,)j Fp(kaashoek)p Fr(,)h Fp(james)p Fq(g)p
Fr(@)p Fp(lcs.mi)q(t.)q(edu)391 526 y Fo(Abstract)-34
623 y Fn(T)o(raditional)7 b(operating)g(systems)e(limit)k(the)e
(performance,)g(\257e)o(xibility)n(,)h(and)-34 665 y(functionality)i
(of)g(applications)e(by)h(\256xing)g(the)g(interface)g(and)g(implemen-)
-34 706 y(tation)k(of)f(operating)g(system)f(abstractions)g(such)g(as)h
(interprocess)f(com-)-34 748 y(munication)h(and)f(virtual)i(memory)n(.)
23 b(The)11 b Fm(e)o(xokernel)f Fn(operating)i(system)-34
789 y(architecture)f(addresses)d(this)j(problem)g(by)f(pro)o(viding)h
(application-le)o(v)o(el)-34 831 y(management)c(of)i(physical)e
(resources.)k(In)e(the)f(e)o(xokernel)f(architecture,)i(a)-34
872 y(small)f(kernel)f(securely)f(e)o(xports)i(all)g(hardware)e
(resources)g(through)h(a)h(lo)o(w-)-34 914 y(le)o(v)o(el)j(interface)g
(to)g(untrusted)f(library)i(operating)e(systems.)17 b(Library)12
b(op-)-34 955 y(erating)e(systems)e(use)g(this)i(interface)f(to)h
(implement)f(system)g(objects)f(and)-34 997 y(policies.)16
b(This)10 b(separation)f(of)h(resource)f(protection)h(from)h
(management)-34 1038 y(allo)o(ws)j(application-speci\256c)e
(customization)h(of)h(traditional)h(operating)-34 1080
y(system)d(abstractions)g(by)g(e)o(xtending,)h(specializing,)g(or)g(e)o
(v)o(en)f(replacing)-34 1121 y(libraries.)22 1179 y(W)m(e)e(ha)o(v)o(e)
e(implemented)h(a)g(prototype)g(e)o(xokernel)f(operating)g(system.)-34
1221 y(Measurements)13 b(sho)o(w)h(that)i(most)f(primiti)o(v)o(e)h
(kernel)f(operations)f(\(such)-34 1262 y(as)8 b(e)o(xception)g
(handling)f(and)h(protected)g(control)g(transfer\))i(are)e(ten)h(to)f
(100)-34 1304 y(times)e(faster)g(than)g(in)g(Ultrix,)j(a)d(mature)g
(monolithic)g(UNIX)h(operating)e(sys-)-34 1345 y(tem.)14
b(In)9 b(addition,)g(we)g(demonstrate)f(that)h(an)g(e)o(xokernel)e
(allo)o(ws)i(applica-)-34 1387 y(tions)d(to)g(control)h(machine)t
(resources)e(in)h(ways)f(not)h(possible)t(in)h(traditional)-34
1428 y(operating)k(systems.)18 b(F)o(or)11 b(instance,)g(virtual)h
(memory)f(and)f(interprocess)-34 1470 y(communication)15
b(abstractions)g(are)i(implemented)e(entirely)i(within)g(an)-34
1512 y(application-le)o(v)o(el)6 b(library)n(.)13 b(Measurements)5
b(sho)o(w)g(that)i(application-le)o(v)o(el)-34 1553 y(virtual)i(memory)
e(and)g(interprocess)g(communication)f(primiti)o(v)o(es)j(are)f(\256v)o
(e)-34 1595 y(to)15 b(40)g(times)g(faster)f(than)h(Ultrix')n(s)h
(kernel)e(primiti)o(v)o(es.)32 b(Compared)13 b(to)-34
1636 y(state-of-the-art)g(implementations)f(from)g(the)g(literature,)i
(the)e(prototype)-34 1678 y(e)o(xokernel)d(system)g(is)h(at)h(least)f
(\256v)o(e)f(times)i(faster)f(on)f(operations)g(such)g(as)-34
1719 y(e)o(xception)f(dispatching)g(and)g(interprocess)g
(communication.)-34 1819 y Fo(1)41 b(Intro)q(duction)-34
1916 y Fn(Operating)14 b(systems)f(de\256ne)g(the)h(interface)g
(between)f(applications)g(and)-34 1958 y(physical)e(resources.)20
b(Unfortunately)n(,)13 b(this)f(interface)g(can)f(signi\256cantly)-34
1999 y(limit)f(the)e(performance)f(and)g(implementation)h(freedom)f(of)
i(applications.)-34 2041 y(T)o(raditionally)n(,)15 b(operating)e
(systems)g(hide)g(information)i(about)e(machine)-34 2082
y(resources)g(behind)g(high-le)o(v)o(el)h(abstractions)f(such)f(as)i
(processes,)f(\256les,)-34 2124 y(address)g(spaces)f(and)i
(interprocess)f(communication.)28 b(These)13 b(abstrac-)-34
2165 y(tions)d(de\256ne)e(a)i(virtual)g(machine)f(on)g(which)h
(applications)e(e)o(x)o(ecute;)i(their)-34 2207 y(implementation)f
(cannot)e(be)i(replaced)e(or)j(modi\256ed)e(by)g(untrusted)g(appli-)-34
2248 y(cations.)23 b(Hardcoding)11 b(the)h(implementations)f(of)i
(these)e(abstractions)h(is)p -34 2279 399 2 v -37 2313
a Fl(This)7 b(research)f(was)h(supported)e(in)i(part)f(by)g(the)h(Adv)o
(anced)e(Research)h(Projects)h(Agency)e(under)-34 2347
y(contract)h(N00014-94)o(-1-)o(09)o(85)t(and)g(by)g(a)h(NSF)h(National)
e(Y)m(oung)f(In)o(vestigator)g(A)m(ward.)0 2400 y(Copyright)136
2399 y(c)125 2400 y Fk(\015)j Fl(1995)e(by)h(the)g(Association)g(for)g
(Computing)f(Machinery)n(,)g(Inc.)11 b(Permission)-34
2434 y(to)c(make)f(digital)h(or)f(hard)g(copies)h(of)g(part)f(or)h(all)
g(of)g(this)g(work)f(for)g(personal)g(or)g(classroom)h(use)-34
2467 y(is)k(granted)d(without)h(fee)g(provided)e(that)j(copies)f(are)g
(not)g(made)g(or)h(distrib)o(uted)e(for)h(pro\256t)g(or)-34
2500 y(commercial)d(adv)o(antage)f(and)h(that)h(ne)o(w)g(copies)g(bear)
f(this)h(notice)f(and)h(the)f(full)h(citation)g(on)f(the)-34
2533 y(\256rst)g(page.)k(Copyrights)t(for)t(components)t(of)5
b(this)h(WORK)h(o)o(wned)e(by)g(others)g(than)g(A)o(CM)h(must)-34
2567 y(be)h(honored.)h(Abstracting)e(with)h(credit)f(is)i(permitted.)-1
2600 y(T)n(o)d(copy)t(otherwise,)h(to)g(republish,)f(to)h(post)f(on)h
(servers)f(or)g(to)h(redistrib)o(ute)f(to)h(lists,)i(requires)-34
2633 y(prior)g(speci\256c)g(permission)g(and/or)f(a)i(fee.)15
b(Request)8 b(Permissions)h(from)e(Publications)h(Dept,)-34
2666 y(A)o(CM)f(Inc.,)g(Fax)g(+1)g(\(212\))e(869-0481,)t(or)i
Fj(<)p Fl(permissions@acm.or)o(g)p Fj(>)p Fl(.)1062 526
y Fn(inappropriate)i(for)h(three)g(main)f(reasons:)j(it)f(denies)d
(applications)g(the)i(ad-)1062 568 y(v)o(antages)f(of)i
(domain-speci\256c)e(optimizations,)i(it)h(discourages)c(changes)1062
609 y(to)j(the)f(implementations)g(of)h(e)o(xisting)f(abstractions,)g
(and)g(it)i(restricts)f(the)1062 651 y(\257e)o(xibility)h(of)f
(application)g(b)o(uilders,)g(since)f(ne)o(w)h(abstractions)f(can)g
(only)1062 692 y(be)d(added)f(by)i(a)o(wkward)f(emulation)g(on)g(top)h
(of)g(e)o(xisting)g(ones)e(\(if)k(the)o(y)d(can)1062
734 y(be)i(added)e(at)j(all\).)1118 792 y(W)m(e)h(belie)o(v)o(e)f
(these)f(problems)h(can)g(be)g(solv)o(ed)g(through)g
Fm(application-)1062 834 y(le)o(vel)h Fn(\()p Fm(i.e)o(.,)j
Fn(untrusted\))d(resource)f(management.)18 b(T)m(o)11
b(this)h(end,)f(we)g(ha)o(v)o(e)1062 875 y(designed)d(a)i(ne)o(w)f
(operating)g(system)g(architecture,)h Fm(e)o(xokernel)p
Fn(,)e(in)i(which)1062 917 y(traditional)j(operating)f(system)f
(abstractions,)h(such)f(as)h(virtual)h(memory)1062 958
y(\(VM\))d(and)e(interprocess)g(communication)f(\(IPC\),)k(are)d
(implemented)h(en-)1062 1000 y(tirely)f(at)f(application)f(le)o(v)o(el)
h(by)f(untrusted)g(software.)13 b(In)7 b(this)g(architecture,)1062
1041 y(a)14 b(minimal)i(kernel\320which)d(we)h(call)h(an)f
Fm(e)o(xokernel)p Fn(\320sec)o(urely)e(multi-)1062 1083
y(ple)o(x)o(es)i(a)o(v)o(ailable)f(hardware)g(resources.)26
b(Library)14 b(operating)g(systems,)1062 1124 y(working)9
b(abo)o(v)o(e)f(the)h(e)o(xokernel)f(interface,)i(implement)f(higher)o
(-le)o(v)o(el)h(ab-)1062 1166 y(stractions.)22 b(Application)12
b(writers)h(select)e(libraries)i(or)g(implement)f(their)1062
1207 y(o)o(wn.)i(Ne)o(w)9 b(implementations)g(of)g(library)h(operating)
f(systems)f(are)h(incor)o(-)1062 1249 y(porated)f(by)h(simply)g
(relinking)g(application)g(e)o(x)o(ecutables.)1118 1307
y(Substantial)f(e)o(vidence)f(e)o(xists)i(that)g(applications)f(can)g
(bene\256t)g(greatly)1062 1348 y(from)15 b(ha)o(ving)e(more)i(control)f
(o)o(v)o(er)h(ho)o(w)e(machine)g(resources)g(are)h(used)1062
1390 y(to)d(implement)g(higher)o(-le)o(v)o(el)g(abstractions.)17
b(Appel)10 b(and)g(Li)h([5])h(reported)1062 1431 y(that)k(the)f(high)g
(cost)f(of)i(general-purpose)d(virtual)j(memory)f(primiti)o(v)o(es)1062
1473 y(reduces)6 b(the)g(performance)g(of)g(pe)o(rsistent)g(stores,)t
(garbage)g(collectors,)t(and)1062 1514 y(distrib)o(uted)12
b(shared)f(memory)h(systems.)20 b(Cao)12 b Fm(et)g(al.)g
Fn([10])h(reported)e(that)1062 1556 y(application-le)o(v)o(el)i
(control)g(o)o(v)o(er)h(\256le)f(caching)f(can)g(reduce)g(application)
1062 1597 y(running)h(time)h(by)f(45\045.)27 b(Harty)13
b(and)g(Cheriton)27 b([26])14 b(and)f(Krue)o(ger)g Fm(et)1062
1639 y(al.)g Fn([30])g(sho)o(wed)e(ho)o(w)h(application-speci\256c)e
(virtual)j(memory)f(policies)1062 1680 y(can)j(increase)g(application)g
(performance.)33 b(Stonebraker)14 b([47])i(ar)o(gued)1062
1722 y(that)9 b(inappropriate)g(\256le-system)f(implementation)h
(decisions)f(can)g(ha)o(v)o(e)h(a)1062 1763 y(dramatic)k(impact)f(on)g
(the)h(performance)e(of)i(databases.)21 b(Thekkath)11
b(and)1062 1805 y(Le)o(vy)h([50])h(demonstrated)e(that)i(e)o(xceptions)
e(can)h(be)g(made)f(an)i(order)f(of)1062 1846 y(magnitude)c(faster)h
(by)g(deferring)g(signal)g(handling)f(to)h(applications.)1118
1905 y(T)m(o)g(pro)o(vide)g(applications)g(control)g(o)o(v)o(er)h
(machine)e(resources,)g(an)h(e)o(x-)1062 1946 y(okernel)f(de\256nes)f
(a)i(lo)o(w-le)o(v)o(el)h(interface.)j(The)8 b(e)o(xokernel)g
(architecture)g(is)1062 1988 y(founded)f(on)h(and)g(moti)o(v)o(ated)g
(by)h(a)f(single,)g(simple,)h(and)f(old)h(observ)o(ation:)1062
2029 y(the)14 b(lo)o(wer)h(the)f(le)o(v)o(el)h(of)g(a)f(primiti)o(v)o
(e,)k(the)c(more)g(ef)o(\256ciently)g(it)i(can)d(be)1062
2071 y(implemented,)h(and)f(the)h(more)f(latitude)h(it)h(grants)e(to)h
(implementors)f(of)1062 2112 y(higher)o(-le)o(v)o(el)d(abstractions.)
1118 2170 y(T)m(o)f(pro)o(vide)h(an)f(interface)g(that)g(is)h(as)f(lo)o
(w-le)o(v)o(el)h(as)f(possible)f(\(ideally)n(,)1062 2212
y(just)16 b(the)f(hardware)f(interface\),)j(an)e(e)o(xokernel)f
(designer)g(has)h(a)g(single)1062 2253 y(o)o(v)o(erriding)i(goal:)26
b(to)16 b(separate)e(protection)i(from)g(management.)32
b(F)o(or)1062 2295 y(instance,)10 b(an)g(e)o(xokernel)g(should)f
(protect)i(frameb)o(uf)o(fers)g(without)h(under)o(-)1062
2336 y(standing)e(windo)o(wing)h(systems)e(and)i(disks)f(without)h
(understanding)f(\256le)1062 2378 y(systems.)18 b(One)11
b(approach)e(is)i(to)h(gi)o(v)o(e)f(each)f(application)g(its)i(o)o(wn)f
(virtual)1062 2419 y(machine)h([17].)26 b(As)12 b(we)h(discuss)e(in)j
(Section)e(8,)i(virtual)g(machines)d(can)1062 2461 y(ha)o(v)o(e)e(se)o
(v)o(ere)g(performance)f(penalties.)14 b(Therefore,)c(an)f(e)o
(xokernel)f(uses)g(a)1062 2502 y(dif)o(ferent)j(approach:)h(it)f
Fm(e)o(xports)d Fn(hardware)h(resources)e(rather)j(than)g(emu-)1062
2544 y(lating)h(them,)g(which)f(allo)o(ws)g(an)g(ef)o(\256cient)g(and)f
(simple)h(implementation.)1062 2585 y(An)c(e)o(xokernel)g(employs)f
(three)h(tec)o(hn)o(iques)f(to)h(e)o(xpo)o(rt)g(resource)o(s)g(s)o(ecu)
o(rely)n(.)1062 2627 y(First,)14 b(by)e(using)f Fm(secur)o(e)f
(bindings)p Fn(,)i(applications)f(can)g(securely)g(bind)h(to)1062
2668 y(machine)d(resources)e(and)i(handle)g(e)o(v)o(ents.)14
b(Second,)9 b(by)g(using)g Fm(visible)g(r)o(e-)p
% --------------------------------------------------------------------
% added by hand to get "appears in" footer on the first page
% --------------------------------------------------------------------
gsave -35 2700 translate 1 -1 scale
0 -25 moveto 2100 -25 lineto stroke
40 -100 moveto
/Times-Roman findfont 50 scalefont setfont
(Appears) 10 b(in)g
/Times-Italic findfont 50 scalefont setfont
(Pr)n(oceedings)g(of)g(the)f(F)n(ifteenth)h(Symposium)f(on)h(Oper)o(ating)g
(Systems)g(Principles)p
/Times-Roman findfont 50 scalefont setfont
(,)i(December)d(1995.)p
grestore
% --------------------------------------------------------------------
eop
%%Page: 2 2
2 1 bop -34 -42 a Fm(sour)o(ce)7 b(r)o(e)o(vocation)p
Fn(,)g(applications)h(participate)h(in)g(a)g(resource)e(re)o(v)o
(ocation)-34 0 y(protocol.)13 b(Third,)c(by)e(using)g(an)g
Fm(abort)g(pr)n(otocol)p Fn(,)g(an)g(e)o(xokernel)g(can)f(break)-34
41 y(secure)i(bindings)g(of)h(uncooperati)o(v)o(e)f(applications)g(by)h
(force.)22 99 y(W)m(e)j(ha)o(v)o(e)f(implemented)g(a)g(prototype)g(e)o
(xokernel)g(system)f(based)g(on)-34 141 y(secure)d(bindings,)g(visible)
h(re)o(v)o(ocation,)g(and)f(abort)h(protocols.)13 b(It)c(includes)-34
182 y(an)16 b(e)o(xokernel)e(\(Ae)o(gis\))j(and)e(an)h(untrusted)f
(library)i(operating)f(system)-34 224 y(\(ExOS\).)9 b(W)m(e)f(use)f
(this)h(system)f(to)i(demonstrate)d(se)o(v)o(eral)i(important)h(prop-)
-34 265 y(erties)14 b(of)g(the)f(e)o(xokernel)f(architecture:)23
b(\(1\))14 b(e)o(xokernels)e(can)g(be)i(made)-34 307
y(ef)o(\256cient)d(due)e(to)i(the)g(limited)h(number)e(of)h(simple)f
(primiti)o(v)o(es)i(the)o(y)f(must)-34 348 y(pro)o(vide;)k(\(2\))f(lo)o
(w-le)o(v)o(el)f(secure)f(multiple)o(xing)h(of)h(hardware)d(resources)
-34 390 y(can)j(be)h(pro)o(vided)f(with)i(lo)o(w)f(o)o(v)o(erhead;)i
(\(3\))f(traditional)g(abstractions,)-34 431 y(such)8
b(as)g(VM)h(and)f(IPC,)h(can)f(be)g(implemented)g(ef)o(\256ciently)g
(at)h(application)-34 473 y(le)o(v)o(el,)j(where)e(the)o(y)h(can)f(be)g
(easily)g(e)o(xtended,)g(specialized,)f(or)i(replaced;)-34
514 y(and)d(\(4\))i(applications)d(can)h(create)g(special-purpose)e
(implementations)i(of)-34 556 y(abstractions,)g(tailored)i(to)f(their)h
(functionality)f(and)g(performance)f(needs.)22 614 y(In)13
b(practice,)g(our)g(prototype)f(e)o(xokernel)f(system)g(pro)o(vides)h
(applica-)-34 656 y(tions)j(with)g(greater)g(\257e)o(xibility)g(and)f
(better)h(performance)f(than)g(mono-)-34 697 y(lithic)e(and)d
(microkernel)h(systems.)16 b(Ae)o(gis')n(s)10 b(lo)o(w-le)o(v)o(el)h
(interface)f(allo)o(ws)-34 739 y(application-le)o(v)o(el)j(software)g
(such)f(as)g(ExOS)h(to)g(manipulate)f(resources)-34 780
y(v)o(ery)f(ef)o(\256ciently)n(.)17 b(Ae)o(gis')n(s)11
b(protected)f(control)h(transfer)g(is)f(almost)h(se)o(v)o(en)-34
822 y(times)j(faster)f(than)g(the)g(best)f(reported)h(implementation)g
([33].)27 b(Ae)o(gis')n(s)-34 863 y(e)o(xception)8 b(dispatch)g(is)h
(\256v)o(e)f(times)h(faster)g(than)f(the)h(best)f(reported)h(imple-)-34
905 y(mentation)g([50].)15 b(On)9 b(identical)h(hardware,)e(Ae)o(gis')n
(s)i(e)o(xception)e(dispatch)-34 946 y(and)f(control)g(transfer)h(are)f
(roughly)g(two)g(orders)g(of)h(magnitude)e(faster)h(than)-34
988 y(in)j(Ultrix)g(4.2,)g(a)e(mature)i(monolithic)f(system.)22
1046 y(Ae)o(gis)k(also)g(gi)o(v)o(es)f(ExOS)h(\(and)g(other)g
(application-le)o(v)o(el)g(software\))-34 1087 y(\257e)o(xibility)g
(that)f(is)f(not)h(a)o(v)o(ailable)f(in)h(microkernel-based)d(systems.)
20 b(F)o(or)-34 1129 y(instance,)6 b(virtual)i(memory)f(is)g
(implemented)f(at)h(application)f(le)o(v)o(el,)i(where)-34
1170 y(it)h(can)f(be)f(tightly)i(inte)o(grated)g(with)g(distrib)o(uted)
f(shared)f(memory)h(systems)-34 1212 y(and)13 b(garbage)e(collectors.)
26 b(Ae)o(gis')n(s)13 b(ef)o(\256cient)g(protected)f(control)h(trans-)
-34 1253 y(fer)h(allo)o(ws)f(applications)f(to)i(construct)e(a)h(wide)g
(array)h(of)f(ef)o(\256cient)g(IPC)-34 1295 y(primiti)o(v)o(es)g(by)e
(trading)h(performance)f(for)h(additional)f(functionality)n(.)21
b(In)-34 1336 y(contrast,)12 b(microkernel)e(systems)g(such)g(as)h
(Amoeba)f([48],)i(Chorus)f([43],)-34 1378 y(Mach)c([2],)i(and)e(V)g
([15])h(do)f(not)h(allo)o(w)g(untrusted)f(application)f(software)h(to)
-34 1419 y(de\256ne)f(specialized)g(IPC)j(primiti)o(v)o(es)g(because)c
(virtual)j(memory)g(and)f(mes-)-34 1461 y(sage)12 b(passing)g(services)
h(are)g(implemented)g(by)g(the)h(kernel)f(and)g(trusted)-34
1502 y(serv)o(ers.)33 b(Similarly)n(,)19 b(man)o(y)d(other)g
(abstractions,)g(such)f(as)g(page-table)-34 1544 y(structures)d(and)f
(process)g(abstractions,)h(cannot)f(be)h(modi\256ed)f(in)i(micro-)-34
1585 y(kernels.)34 b(Finally)n(,)18 b(man)o(y)e(of)h(the)f(hardware)f
(resources)g(in)h(microker)o(-)-34 1627 y(nel)d(systems,)g(such)f(as)h
(the)g(network,)g(screen,)g(and)g(disk,)h(are)f(encapsu-)-34
1668 y(lated)h(in)g(hea)o(vyweight)e(serv)o(ers)h(that)h(cannot)f(be)g
(bypassed)e(or)j(tailored)-34 1710 y(to)g(application-speci\256c)d
(needs.)25 b(These)12 b(hea)o(vyweight)g(serv)o(ers)h(can)f(be)-34
1751 y(vie)o(wed)c(as)h(\256x)o(ed)f(kernel)h(subsystems)d(that)k(run)f
(in)g(user)o(-space.)22 1810 y(This)d(paper)g(focuses)t(on)g(the)g(e)o
(xokernel)f(architecture)h(design)f(and)g(ho)o(w)-34
1851 y(it)11 b(can)e(be)h(implemented)f(securely)g(and)g(ef)o
(\256ciently)n(.)16 b(Section)9 b(2)h(pro)o(vides)-34
1893 y(a)f(more)h(detailed)f(case)f(for)i(e)o(xokernels.)j(Section)c(3)
g(discusses)e(the)i(issues)-34 1934 y(that)d(arise)g(in)g(their)g
(design.)12 b(Section)6 b(4)g(o)o(v)o(ervie)o(ws)g(the)g(status)g(of)g
(our)g(proto-)-34 1976 y(type)j(and)f(e)o(xplains)g(our)h(e)o
(xperimental)g(methodology)n(.)j(Sections)c(5)h(and)f(6)-34
2017 y(present)i(the)g(implementation)h(and)e(summarize)h(performance)f
(measure-)-34 2059 y(ments)j(of)h(Ae)o(gis)f(and)g(ExOS.)g(Section)g(7)
g(reports)h(on)f(e)o(xperiments)f(that)-34 2100 y(demonstrate)e(the)g
(\257e)o(xibility)i(of)f(the)f(e)o(xokernel)f(architecture.)15
b(Section)9 b(8)-34 2142 y(summarizes)f(related)h(work)g(and)f(Section)
g(9)h(concludes.)-34 2242 y Fo(2)41 b(Motivation)11 b(fo)o(r)h(Exok)o
(ernels)-34 2339 y Fn(T)o(raditionally)n(,)c(operating)f(systems)f(ha)o
(v)o(e)i(centralized)e(resource)h(manage-)-34 2380 y(ment)j(via)f(a)h
(set)f(of)h(abstractions)e(that)i(cannot)e(be)i(specialized,)e(e)o
(xtended,)-34 2422 y(or)14 b(replaced.)25 b(Whether)13
b(pro)o(vided)g(by)g(the)g(kernel)g(or)g(by)g(trusted)g(user)o(-)-34
2463 y(le)o(v)o(el)e(serv)o(ers)f(\(as)g(in)g(microkernel-based)f
(systems\),)h(these)f(abstractions)-34 2505 y(are)k(implemented)f(by)h
(pri)o(vile)o(ged)g(software)g(that)g(must)g(be)g(used)e(by)i(all)-34
2546 y(applications,)h(and)f(therefore)h(cannot)f(be)g(changed)e(by)j
(untrusted)f(soft-)-34 2588 y(ware.)22 b(T)m(ypically)n(,)12
b(the)g(abstractions)e(include)h(processes,)g(\256les,)h(address)-34
2629 y(spaces,)6 b(and)i(interprocess)e(communication.)12
b(In)d(this)f(section)f(we)g(discuss)-34 2671 y(the)14
b(problems)f(with)i(general-purpose)d(implementations)h(of)i(these)e
(ab-)1062 -42 y(stractions)8 b(and)g(sho)o(w)f(ho)o(w)h(the)h(e)o
(xokernel)e(architecture)h(addresses)e(these)1062 0 y(problems.)1062
100 y Fo(2.1)41 b(The)14 b(Cost)f(of)g(Fixed)g(High-Level)e
(Abstractions)1062 179 y Fn(The)6 b(essential)g(observ)o(ation)g(about)
g(abstractions)g(in)h(traditional)h(operating)1062 221
y(systems)i(is)h(that)g(the)o(y)g(are)f(o)o(v)o(erly)i(general.)18
b(T)o(raditional)11 b(operating)f(sys-)1062 262 y(tems)g(attempt)g(to)g
(pro)o(vide)f(all)h(the)g(features)f(needed)f(by)h(all)h(applications.)
1062 304 y(As)15 b(pre)o(viously)f(noted)h(by)g(Lampson)e(and)i(Sproul)
g([32],)j(Anderson)13 b Fm(et)1062 345 y(al.)c Fn([4])h(and)d(Massalin)
h(and)g(Pu)g([36],)i(general-purpose)c(implementations)1062
387 y(of)i(abstractions)e(force)i(applications)f(that)g(do)h(not)f
(need)g(a)g(gi)o(v)o(en)h(feature)f(to)1062 428 y(pay)i(substantial)f
(o)o(v)o(erhead)g(costs.)14 b(This)9 b(longstanding)e(problem)i(has)g
(be-)1062 470 y(come)c(more)h(important)h(with)f(e)o(xplosi)o(v)o(e)g
(impro)o(v)o(ements)g(in)g(ra)o(w)h(hardware)1062 511
y(performance)k(and)h(enormous)f(gro)o(wth)h(in)h(di)o(v)o(ersity)f(of)
h(the)f(application)1062 553 y(software)h(base.)25 b(W)m(e)14
b(ar)o(gue)e(that)i(pre)o(v)o(enting)f(the)g(modi\256cation)g(of)h(the)
1062 594 y(implementation)8 b(of)h(these)e(high-le)o(v)o(el)i
(abstractions)e(can)g(reduce)h(the)g(per)o(-)1062 636
y(formance,)14 b(increase)e(the)h(comple)o(xity)n(,)i(and)d(limit)j
(the)f(functionality)f(of)1062 677 y(application)8 b(programs.)1118
735 y(Fix)o(ed)h(high-le)o(v)o(el)g(abstractions)f Fm(hurt)h
(application)f(performance)f Fn(be-)1062 777 y(cause)12
b(there)i(is)g(no)f(single)g(way)g(to)h(abstract)g(physical)e
(resources)g(or)i(to)1062 818 y(implement)f(an)f(abstraction)g(that)h
(is)g(best)g(for)g(all)h(applications.)23 b(In)13 b(im-)1062
860 y(plementing)e(an)h(abstraction,)g(an)f(operating)g(system)g(is)h
(forced)g(to)g(make)1062 901 y(trade-of)o(fs)18 b(between)f(support)g
(for)h(sparse)e(or)j(dense)c(address)h(spaces,)1062 943
y(read-intensi)o(v)o(e)11 b(or)i(write-intensi)o(v)o(e)f(workloads,)g
Fm(etc.)22 b Fn(An)o(y)12 b(such)e(trade-)1062 984 y(of)o(f)j
(penalizes)e(some)h(class)f(of)i(applications.)23 b(F)o(or)13
b(e)o(xample,)g(relational)1062 1026 y(databases)8 b(and)i(garbage)e
(collectors)i(sometimes)g(ha)o(v)o(e)g(v)o(ery)g(predictable)1062
1067 y(data)e(access)e(patterns,)j(and)f(their)h(performance)e(suf)o
(fers)i(when)f(a)g(general-)1062 1109 y(purpose)14 b(page)h
(replacement)g(strate)o(gy)h(such)e(as)i(LR)o(U)f(is)h(imposed)f(by)
1062 1151 y(the)i(operating)f(system.)35 b(The)16 b(performance)f
(impro)o(v)o(ements)i(of)g(such)1062 1192 y(application-speci\256c)5
b(policies)i(can)f(be)h(substantial;)g(Cao)g Fm(et)g(al.)h
Fn([10])g(mea-)1062 1234 y(sured)e(that)h(application-controlled)f
(\256le)g(caching)f(can)h(reduce)f(application)1062 1275
y(running)k(time)g(by)g(as)g(much)f(as)g(45\045.)1118
1333 y(Fix)o(ed)15 b(high-le)o(v)o(el)h(abstractions)e
Fm(hide)h(information)g Fn(from)h(applica-)1062 1375
y(tions.)25 b(F)o(or)13 b(instance,)g(most)g(current)f(systems)g(do)g
(not)h(make)f(lo)o(w-le)o(v)o(el)1062 1416 y(e)o(xceptions,)c(timer)j
(interrupts,)f(or)g(ra)o(w)g(de)o(vice)e(I/O)j(directly)e(a)o(v)o
(ailable)g(to)1062 1458 y(application-le)o(v)o(el)i(software.)20
b(Unfortunately)n(,)11 b(hiding)g(this)h(information)1062
1499 y(makes)c(it)j(dif)o(\256cult)f(or)g(impossible)e(for)j
(applications)d(to)i(implement)g(their)1062 1541 y(o)o(wn)d(resource)g
(management)e(abstractions.)12 b(F)o(or)c(e)o(xample,)g(database)d(im-)
1062 1582 y(plementors)j(must)h(struggle)g(to)g(emulate)g
(random-access)d(record)i(storage)1062 1624 y(on)14 b(top)g(of)h
(\256le)f(systems)f([47)o(].)30 b(As)14 b(another)g(e)o(xample,)h
(implementing)1062 1665 y(lightweight)g(threads)f(on)g(top)h(of)g(hea)o
(vyweight)e(processes)f(usually)i(re-)1062 1707 y(quires)e(compromises)
g(in)h(correctness)e(and)h(performance,)h(because)e(the)1062
1748 y(operating)d(system)f(hides)h(page)f(faults)h(and)g(timer)h
(interrupts)g([4].)14 b(In)9 b(such)1062 1790 y(cases,)f(application)g
(comple)o(xity)h(increases)e(because)g(of)j(the)f(dif)o(\256culty)g(of)
1062 1831 y(getting)g(good)f(performance)g(from)i(high-le)o(v)o(el)g
(abstractions.)1118 1889 y(Fix)o(ed)15 b(high-le)o(v)o(el)g
(abstractions)e Fm(limit)k(the)e(functionality)g Fn(of)g(appli-)1062
1931 y(cations,)c(because)e(the)o(y)j(are)f(the)g(only)h(a)o(v)o
(ailable)e(interface)h(between)g(ap-)1062 1972 y(plications)g(and)g
(hardware)g(resources.)19 b(Because)10 b(all)i(applications)f(must)1062
2014 y(share)h(one)f(set)i(of)f(abstractions,)h(changes)d(to)j(these)e
(abstractions)g(occur)1062 2055 y(rarely)n(,)16 b(if)g(e)o(v)o(er)n(.)
30 b(This)14 b(may)h(e)o(xplain)f(why)g(fe)o(w)h(good)f(ideas)f(from)j
(the)1062 2097 y(last)c(decade)e(of)i(operating)g(systems)e(research)h
(ha)o(v)o(e)g(been)g(adopted)f(into)1062 2138 y(widespread)g(use:)17
b(ho)o(w)11 b(man)o(y)f(production)h(operating)f(systems)g(support)1062
2180 y(scheduler)d(acti)o(v)o(ations)h([4],)h(multiple)g(protection)g
(domains)e(within)i(a)f(sin-)1062 2222 y(gle)j(address)e(space)h([11],)
i(ef)o(\256cient)f(IPC)h([33)o(],)h(or)f(ef)o(\256cient)e(and)h(\257e)o
(xible)1062 2263 y(virtual)f(memory)f(primiti)o(v)o(es)h([5,)g(26)o(,)g
(30)o(]?)1062 2363 y Fo(2.2)41 b(Exok)o(ernels:)17 b(An)d(End-to-End)e
(Argument)1062 2442 y Fn(The)i(familiar)h(\252end-to-end\272)d(ar)o
(gument)i(applies)g(as)f(well)i(to)g(lo)o(w-le)o(v)o(el)1062
2484 y(operating)d(system)g(software)g(as)g(it)h(does)e(to)i(lo)o(w-le)
o(v)o(el)h(communication)1062 2526 y(protocols)e([44].)26
b(Applications)12 b(kno)o(w)g(better)h(than)g(operating)f(systems)1062
2567 y(what)h(the)h(goal)f(of)g(their)h(resource)f(management)e
(decisions)h(should)g(be)1062 2609 y(and)6 b(therefore,)i(the)o(y)f
(should)f(be)g(gi)o(v)o(en)h(as)f(much)g(control)h(as)f(possible)g(o)o
(v)o(er)1003 2806 y(2)p eop
%%Page: 3 3
3 2 bop 23 481 a @beginspecial 11 @llx 400 @lly 454 @urx
659 @ury 2160 @rwi @setspecial
%%BeginDocument: exo.psi

/arrowhead {
0 begin
transform originalCTM itransform
/taily exch def
/tailx exch def
transform originalCTM itransform
/tipy exch def
/tipx exch def
/dy tipy taily sub def
/dx tipx tailx sub def
/angle dx 0 ne dy 0 ne or { dy dx atan } { 90 } ifelse def
gsave
originalCTM setmatrix
tipx tipy translate
angle rotate
newpath
arrowHeight neg arrowWidth 2 div moveto
0 0 lineto
arrowHeight neg arrowWidth 2 div neg lineto
patternNone not {
originalCTM setmatrix
/padtip arrowHeight 2 exp 0.25 arrowWidth 2 exp mul add sqrt brushWidth mul
arrowWidth div def
/padtail brushWidth 2 div def
tipx tipy translate
angle rotate
padtip 0 translate
arrowHeight padtip add padtail add arrowHeight div dup scale
arrowheadpath
ifill
} if
brushNone not {
originalCTM setmatrix
tipx tipy translate
angle rotate
arrowheadpath
istroke
} if
grestore
end
} dup 0 9 dict put def

/arrowheadpath {
newpath
arrowHeight neg arrowWidth 2 div moveto
0 0 lineto
arrowHeight neg arrowWidth 2 div neg lineto
} def

/leftarrow {
0 begin
y exch get /taily exch def
x exch get /tailx exch def
y exch get /tipy exch def
x exch get /tipx exch def
brushLeftArrow { tipx tipy tailx taily arrowhead } if
end
} dup 0 4 dict put def

/rightarrow {
0 begin
y exch get /tipy exch def
x exch get /tipx exch def
y exch get /taily exch def
x exch get /tailx exch def
brushRightArrow { tipx tipy tailx taily arrowhead } if
end
} dup 0 4 dict put def


/arrowHeight 10 def
/arrowWidth 5 def

/IdrawDict 51 dict def
IdrawDict begin

/reencodeISO {
dup dup findfont dup length dict begin
{ 1 index /FID ne { def }{ pop pop } ifelse } forall
/Encoding ISOLatin1Encoding def
currentdict end definefont
} def

/ISOLatin1Encoding [
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/space/exclam/quotedbl/numbersign/dollar/percent/ampersand/quoteright
/parenleft/parenright/asterisk/plus/comma/minus/period/slash
/zero/one/two/three/four/five/six/seven/eight/nine/colon/semicolon
/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N
/O/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright
/asciicircum/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m
/n/o/p/q/r/s/t/u/v/w/x/y/z/braceleft/bar/braceright/asciitilde
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/dotlessi/grave/acute/circumflex/tilde/macron/breve
/dotaccent/dieresis/.notdef/ring/cedilla/.notdef/hungarumlaut
/ogonek/caron/space/exclamdown/cent/sterling/currency/yen/brokenbar
/section/dieresis/copyright/ordfeminine/guillemotleft/logicalnot
/hyphen/registered/macron/degree/plusminus/twosuperior/threesuperior
/acute/mu/paragraph/periodcentered/cedilla/onesuperior/ordmasculine
/guillemotright/onequarter/onehalf/threequarters/questiondown
/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE/Ccedilla
/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute
/Thorn/germandbls/agrave/aacute/acircumflex/atilde/adieresis
/aring/ae/ccedilla/egrave/eacute/ecircumflex/edieresis/igrave
/iacute/icircumflex/idieresis/eth/ntilde/ograve/oacute/ocircumflex
/otilde/odieresis/divide/oslash/ugrave/uacute/ucircumflex/udieresis
/yacute/thorn/ydieresis
] def
/Times-Roman reencodeISO def

/none null def
/numGraphicParameters 17 def
/stringLimit 65535 def

/Begin {
save
numGraphicParameters dict begin
} def

/End {
end
restore
} def

/SetB {
dup type /nulltype eq {
pop
false /brushRightArrow idef
false /brushLeftArrow idef
true /brushNone idef
} {
/brushDashOffset idef
/brushDashArray idef
0 ne /brushRightArrow idef
0 ne /brushLeftArrow idef
/brushWidth idef
false /brushNone idef
} ifelse
} def

/SetCFg {
/fgblue idef
/fggreen idef
/fgred idef
} def

/SetCBg {
/bgblue idef
/bggreen idef
/bgred idef
} def

/SetF {
/printSize idef
/printFont idef
} def

/SetP {
dup type /nulltype eq {
pop true /patternNone idef
} {
dup -1 eq {
/patternGrayLevel idef
/patternString idef
} {
/patternGrayLevel idef
} ifelse
false /patternNone idef
} ifelse
} def

/BSpl {
0 begin
storexyn
newpath
n 1 gt {
0 0 0 0 0 0 1 1 true subspline
n 2 gt {
0 0 0 0 1 1 2 2 false subspline
1 1 n 3 sub {
/i exch def
i 1 sub dup i dup i 1 add dup i 2 add dup false subspline
} for
n 3 sub dup n 2 sub dup n 1 sub dup 2 copy false subspline
} if
n 2 sub dup n 1 sub dup 2 copy 2 copy false subspline
patternNone not brushLeftArrow not brushRightArrow not and and { ifill } if
brushNone not { istroke } if
0 0 1 1 leftarrow
n 2 sub dup n 1 sub dup rightarrow
} if
end
} dup 0 4 dict put def

/Circ {
newpath
0 360 arc
patternNone not { ifill } if
brushNone not { istroke } if
} def

/CBSpl {
0 begin
dup 2 gt {
storexyn
newpath
n 1 sub dup 0 0 1 1 2 2 true subspline
1 1 n 3 sub {
/i exch def
i 1 sub dup i dup i 1 add dup i 2 add dup false subspline
} for
n 3 sub dup n 2 sub dup n 1 sub dup 0 0 false subspline
n 2 sub dup n 1 sub dup 0 0 1 1 false subspline
patternNone not { ifill } if
brushNone not { istroke } if
} {
Poly
} ifelse
end
} dup 0 4 dict put def

/Elli {
0 begin
newpath
4 2 roll
translate
scale
0 0 1 0 360 arc
patternNone not { ifill } if
brushNone not { istroke } if
end
} dup 0 1 dict put def

/Line {
0 begin
2 storexyn
newpath
x 0 get y 0 get moveto
x 1 get y 1 get lineto
brushNone not { istroke } if
0 0 1 1 leftarrow
0 0 1 1 rightarrow
end
} dup 0 4 dict put def

/MLine {
0 begin
storexyn
newpath
n 1 gt {
x 0 get y 0 get moveto
1 1 n 1 sub {
/i exch def
x i get y i get lineto
} for
patternNone not brushLeftArrow not brushRightArrow not and and { ifill } if
brushNone not { istroke } if
0 0 1 1 leftarrow
n 2 sub dup n 1 sub dup rightarrow
} if
end
} dup 0 4 dict put def

/Poly {
3 1 roll
newpath
moveto
-1 add
{ lineto } repeat
closepath
patternNone not { ifill } if
brushNone not { istroke } if
} def

/Rect {
0 begin
/t exch def
/r exch def
/b exch def
/l exch def
newpath
l b moveto
l t lineto
r t lineto
r b lineto
closepath
patternNone not { ifill } if
brushNone not { istroke } if
end
} dup 0 4 dict put def

/Text {
ishow
} def

/idef {
dup where { pop pop pop } { exch def } ifelse
} def

/ifill {
0 begin
gsave
patternGrayLevel -1 ne {
fgred bgred fgred sub patternGrayLevel mul add
fggreen bggreen fggreen sub patternGrayLevel mul add
fgblue bgblue fgblue sub patternGrayLevel mul add setrgbcolor
eofill
} {
eoclip
originalCTM setmatrix
pathbbox /t exch def /r exch def /b exch def /l exch def
/w r l sub ceiling cvi def
/h t b sub ceiling cvi def
/imageByteWidth w 8 div ceiling cvi def
/imageHeight h def
bgred bggreen bgblue setrgbcolor
eofill
fgred fggreen fgblue setrgbcolor
w 0 gt h 0 gt and {
l w add b translate w neg h scale
w h true [w 0 0 h neg 0 h] { patternproc } imagemask
} if
} ifelse
grestore
end
} dup 0 8 dict put def

/istroke {
gsave
brushDashOffset -1 eq {
[] 0 setdash
1 setgray
} {
brushDashArray brushDashOffset setdash
fgred fggreen fgblue setrgbcolor
} ifelse
brushWidth setlinewidth
originalCTM setmatrix
stroke
grestore
} def

/ishow {
0 begin
gsave
fgred fggreen fgblue setrgbcolor
/fontDict printFont printSize scalefont dup setfont def
/descender fontDict begin 0 [FontBBox] 1 get FontMatrix end
transform exch pop def
/vertoffset 1 printSize sub descender sub def {
0 vertoffset moveto show
/vertoffset vertoffset printSize sub def
} forall
grestore
end
} dup 0 3 dict put def
/patternproc {
0 begin
/patternByteLength patternString length def
/patternHeight patternByteLength 8 mul sqrt cvi def
/patternWidth patternHeight def
/patternByteWidth patternWidth 8 idiv def
/imageByteMaxLength imageByteWidth imageHeight mul
stringLimit patternByteWidth sub min def
/imageMaxHeight imageByteMaxLength imageByteWidth idiv patternHeight idiv
patternHeight mul patternHeight max def
/imageHeight imageHeight imageMaxHeight sub store
/imageString imageByteWidth imageMaxHeight mul patternByteWidth add string def
0 1 imageMaxHeight 1 sub {
/y exch def
/patternRow y patternByteWidth mul patternByteLength mod def
/patternRowString patternString patternRow patternByteWidth getinterval def
/imageRow y imageByteWidth mul def
0 patternByteWidth imageByteWidth 1 sub {
/x exch def
imageString imageRow x add patternRowString putinterval
} for
} for
imageString
end
} dup 0 12 dict put def

/min {
dup 3 2 roll dup 4 3 roll lt { exch } if pop
} def

/max {
dup 3 2 roll dup 4 3 roll gt { exch } if pop
} def

/midpoint {
0 begin
/y1 exch def
/x1 exch def
/y0 exch def
/x0 exch def
x0 x1 add 2 div
y0 y1 add 2 div
end
} dup 0 4 dict put def

/thirdpoint {
0 begin
/y1 exch def
/x1 exch def
/y0 exch def
/x0 exch def
x0 2 mul x1 add 3 div
y0 2 mul y1 add 3 div
end
} dup 0 4 dict put def

/subspline {
0 begin
/movetoNeeded exch def
y exch get /y3 exch def
x exch get /x3 exch def
y exch get /y2 exch def
x exch get /x2 exch def
y exch get /y1 exch def
x exch get /x1 exch def
y exch get /y0 exch def
x exch get /x0 exch def
x1 y1 x2 y2 thirdpoint
/p1y exch def
/p1x exch def
x2 y2 x1 y1 thirdpoint
/p2y exch def
/p2x exch def
x1 y1 x0 y0 thirdpoint
p1x p1y midpoint
/p0y exch def
/p0x exch def
x2 y2 x3 y3 thirdpoint
p2x p2y midpoint
/p3y exch def
/p3x exch def
movetoNeeded { p0x p0y moveto } if
p1x p1y p2x p2y p3x p3y curveto
end
} dup 0 17 dict put def

/storexyn {
/n exch def
/y n array def
/x n array def
n 1 sub -1 0 {
/i exch def
y i 3 2 roll put
x i 3 2 roll put
} for
} def

/SSten {
fgred fggreen fgblue setrgbcolor
dup true exch 1 0 0 -1 0 6 -1 roll matrix astore
} def

/FSten {
dup 3 -1 roll dup 4 1 roll exch
newpath
0 0 moveto
dup 0 exch lineto
exch dup 3 1 roll exch lineto
0 lineto
closepath
bgred bggreen bgblue setrgbcolor
eofill
SSten
} def

/Rast {
exch dup 3 1 roll 1 0 0 -1 0 6 -1 roll matrix astore
} def


%I Idraw 10 Grid 1.02169e-39 5.08156e-40 


Begin
%I b u
%I cfg u
%I cbg u
%I f u
%I p u
%I t
[ 0.799705 0 0 0.799705 0 0 ] concat
/originalCTM matrix currentmatrix def

Begin %I Rect
%I b 65535
1 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -60 104 ] concat
%I
156 399 614 472 Rect
End

Begin %I Line
%I b 65535
1 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -60 104 ] concat
%I
156 440 615 440 Line
%I 1
End

Begin %I Line
%I b 65535
1 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -60 104 ] concat
%I
261 439 261 398 Line
%I 1
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 222 532 ] concat
%I
[
(TLB)
] Text
End

Begin %I Line
%I b 65535
1 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -60 104 ] concat
%I
341 440 341 398 Line
%I 1
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 300 531 ] concat
%I
[
(Network)
] Text
End

Begin %I Line
%I b 65535
1 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -60 104 ] concat
%I
444 440 444 399 Line
%I 1
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 401 532 ] concat
%I
[
(Memory)
] Text
End

Begin %I Line
%I b 65535
1 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -60 104 ] concat
%I
543 439 543 399 Line
%I 1
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 503 533 ] concat
%I
[
(Disk)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 16 572 ] concat
%I
[
(Exokernel)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 17 533 ] concat
%I
[
(Hardware)
] Text
End

Begin %I Line
%I b 65535
1 1 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -41 94 ] concat
%I
419 430 398 450 Line
%I 1
End

Begin %I Elli
%I b 65535
1 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -62 82 ] concat
%I
379 480 64 24 Elli
End

Begin %I Pict
%I b u
%I cfg u
%I cbg u
%I f u
%I p u
%I t
[ 1 0 0 1 21 6 ] concat

Begin %I Elli
%I b 65535
1 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 226 38 ] concat
%I
236 671 84 108 Elli
End

Begin %I Line
%I b 65535
1 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 230 104 ] concat
%I
151 625 312 625 Line
%I 1
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 444 727 ] concat
%I
[
(DSM)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 482 687 ] concat
%I
[
(VM)
] Text
End

Begin %I Line
%I b 65280
1 0 0 [8 8] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -60 104 ] concat
%I
439 601 606 601 Line
%I 1
End

Begin %I Elli
%I b 65280
1 0 0 [8 8] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -48 77 ] concat
%I
477 591 36 34 Elli
End

Begin %I Elli
%I b 65280
1 0 0 [8 8] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 7 78 ] concat
%I
477 591 36 34 Elli
End

Begin %I Elli
%I b 65280
1 0 0 [8 8] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -16 45 ] concat
%I
477 591 36 34 Elli
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 411 687 ] concat
%I
[
(IPC)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 431 767 ] concat
%I
[
(Barnes-Hut)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 441 634 ] concat
%I
[
(Traps)
] Text
End

End %I eop

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 262 571 ] concat
%I
[
(Secure bindings)
] Text
End

Begin %I Pict
%I b u
%I cfg u
%I cbg u
%I f u
%I p u
%I t
[ 1 0 0 1 -26 6 ] concat

Begin %I Elli
%I b 65535
1 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -65 36 ] concat
%I
236 671 84 108 Elli
End

Begin %I Line
%I b 65535
1 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -60 104 ] concat
%I
151 625 312 625 Line
%I 1
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 151 770 ] concat
%I
[
(Mosaic)
] Text
End

Begin %I Line
%I b 65280
1 0 0 [8 8] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -60 104 ] concat
%I
149 599 316 599 Line
%I 1
End

Begin %I Line
%I b 65280
1 0 0 [8 8] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -75 102 ] concat
%I
245 598 245 500 Line
%I 1
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 145 725 ] concat
%I
[
(WWW)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 104 683 ] concat
%I
[
(POSIX)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 189 683 ] concat
%I
[
(TCP)
] Text
End

End %I eop

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 221 639 ] concat
%I
[
(Library operating systems)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 271 775 ] concat
%I
[
(Applications)
] Text
End

Begin %I Line
%I b 65535
1 1 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -35 83 ] concat
%I
396 499 492 566 Line
%I 1
End

Begin %I Line
%I b 65535
1 1 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -35 83 ] concat
%I
219 551 306 499 Line
%I 1
End

Begin %I Line
%I b 65535
1 1 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -35 83 ] concat
%I
432 453 409 469 Line
%I 1
End

Begin %I Line
%I b 65535
1 1 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -35 83 ] concat
%I
528 457 413 486 Line
%I 1
End

Begin %I Line
%I b 65535
1 1 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -35 83 ] concat
%I
223 457 288 478 Line
%I 1
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-times-medium-r-normal--18-*
Times-Roman 18 SetF
%I t
[ 1 0 0 1 101 533 ] concat
%I
[
(Frame buffer)
] Text
End

Begin %I Line
%I b 65535
1 1 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 -0 -0 1 -35 83 ] concat
%I
295 445 314 461 Line
%I 1
End

End %I eop

showpage


end
%%EndDocument
 @endspecial -34 602 a Fn(Figure)10 b(1:)k(An)9 b(e)o(xample)g(e)o
(xokernel-based)e(system)i(consisting)f(of)i(a)f(thin)-34
644 y(e)o(xokernel)d(v)o(eneer)g(that)h(e)o(xports)f(resources)f(to)i
(library)h(operating)e(systems)-34 685 y(through)g(secure)f(bindings.)
12 b(Each)5 b(library)j(operating)e(system)f(implements)-34
727 y(its)k(o)o(wn)f(system)f(objects)g(and)h(policies.)13
b(Applications)7 b(link)i(against)e(stan-)-34 768 y(dard)j(libraries)g
(\()p Fm(e)o(.g)o(.,)i Fn(WWW)m(,)e(POSIX,)h(and)e(TCP)g(libraries)i
(for)f(W)m(eb)g(ap-)-34 810 y(plications\))e(or)g(against)f
(specialized)f(libraries)j(\()p Fm(e)o(.g)o(.,)h Fn(a)e(distrib)o(uted)
g(shared)-34 851 y(memory)h(library)h(for)g(parallel)f(applications\).)
-34 974 y(those)g(decisions.)k(Our)d(solution)f(is)h(to)g(allo)o(w)g
(traditional)g(abstractions)e(to)-34 1016 y(be)h(implemented)f
(entirely)i(at)f(application)f(le)o(v)o(el.)22 1074 y(T)m(o)j(pro)o
(vide)h(the)f(maximum)g(opportunity)g(for)i(application-le)o(v)o(el)e
(re-)-34 1116 y(source)h(management,)g(the)h(e)o(xokernel)e
(architecture)i(consists)e(of)j(a)e(thin)-34 1157 y(e)o(xokernel)g(v)o
(eneer)g(that)h(multiple)o(x)o(es)h(and)e(e)o(xports)h(physical)e
(resources)-34 1199 y(securely)h(through)g(a)g(set)h(of)g(lo)o(w-le)o
(v)o(el)h(primiti)o(v)o(es.)25 b(Library)13 b(operating)-34
1240 y(systems,)g(which)g(use)g(the)g(lo)o(w-le)o(v)o(el)h(e)o
(xokernel)e(interface,)j(implement)-34 1282 y(higher)o(-le)o(v)o(el)8
b(abstractions)e(and)h(can)f(de\256ne)g(special-purpose)g(implemen-)-34
1323 y(tations)13 b(that)g(best)g(meet)f(the)h(performance)f(and)g
(functionality)h(goals)f(of)-34 1365 y(applications)h(\(see)g(Figure)g
(1\).)27 b(\(F)o(or)15 b(bre)o(vity)n(,)g(we)e(sometimes)g(refer)h(to)
-34 1406 y(\252library)c(operating)f(system\272)g(as)g
(\252application.)m(\272\))15 b(This)9 b(structure)h(allo)o(ws)-34
1448 y(the)g(e)o(xtension,)f(specialization)f(and)g(e)o(v)o(en)h
(replacement)g(of)h(abstractions.)-34 1489 y(F)o(or)h(instance,)g
(page-table)e(structures)h(can)g(v)o(ary)g(among)g(library)i(operat-)
-34 1531 y(ing)h(systems:)20 b(an)12 b(application)g(can)g(select)h(a)f
(library)i(with)g(a)e(particular)-34 1572 y(implementation)h(of)g(a)f
(page)g(table)g(that)h(is)g(most)g(suitable)f(to)h(its)g(needs.)-34
1614 y(T)m(o)h(the)g(best)f(of)i(our)f(kno)o(wledge,)g(no)f(other)i
(secure)d(operating)i(system)-34 1655 y(architecture)9
b(allo)o(ws)g(applications)f(so)g(much)h(useful)f(freedom.)22
1713 y(This)f(paper)g(demonstrates)e(that)j(the)f(e)o(xokernel)f
(architecture)h(is)g(an)g(ef-)-34 1755 y(fecti)o(v)o(e)j(way)f(to)h
(address)d(the)j(problems)f(listed)g(in)h(Section)f(2.1.)15
b(Man)o(y)9 b(of)-34 1796 y(these)e(problems)g(are)h(solv)o(ed)f(by)h
(simply)g(mo)o(ving)g(the)g(implementation)f(of)-34 1838
y(abstractions)e(to)i(application)f(le)o(v)o(el,)i(since)e(con\257icts)
f(between)g(application)-34 1879 y(needs)10 b(and)h(a)o(v)o(ailable)g
(abstractions)g(can)g(then)g(be)h(resolv)o(ed)f(without)h(the)-34
1921 y(interv)o(ention)d(of)g(kernel)f(architects.)13
b(Furthermore,)c(secure)e(multiple)o(xing)-34 1962 y(does)k(not)i
(require)g(comple)o(x)e(algorithms;)k(it)f(mostly)e(requires)g(tables)g
(to)-34 2004 y(track)6 b(o)o(wnership.)11 b(Therefore,)c(the)f
(implementation)g(of)g(an)g(e)o(xokernel)g(can)-34 2045
y(be)k(simple.)17 b(A)11 b(simple)f(kernel)g(impro)o(v)o(es)g
(reliability)i(and)e(ease)f(of)h(main-)-34 2087 y(tenance,)g(consumes)e
(fe)o(w)i(resources,)g(and)g(enables)e(quick)i(adaptation)f(to)-34
2128 y(ne)o(w)14 b(requirements)f(\()p Fm(e)o(.g)o(.,)18
b Fn(gigabit)c(networking\).)28 b(Additionally)n(,)16
b(as)e(is)-34 2170 y(true)c(with)g(RISC)f(instructions,)h(the)f
(simplicity)h(of)g(e)o(xokernel)e(operations)-34 2211
y(allo)o(ws)h(them)g(to)h(be)e(implemented)h(ef)o(\256ciently)n(.)-34
2312 y Fo(2.3)41 b(Lib)o(ra)o(ry)11 b(Op)q(erating)i(Systems)-34
2391 y Fn(The)f(implementations)g(of)i(abstractions)d(in)i(library)h
(operating)e(systems)-34 2432 y(can)h(be)g(simpler)i(and)e(more)h
(specialized)e(than)h(in-kernel)h(implementa-)-34 2474
y(tions,)g(because)c(library)k(operating)e(systems)f(need)h(not)h
(multiple)o(x)g(a)g(re-)-34 2515 y(source)i(among)g(competing)g
(applications)h(with)g(widely)h(dif)o(ferent)g(de-)-34
2557 y(mands.)d(In)c(addition,)g(since)e(libraries)j(are)e(not)h
(trusted)f(by)h(an)f(e)o(xokernel,)-34 2598 y(the)o(y)g(are)f(free)h
(to)g(trust)g(the)g(application.)j(F)o(or)d(e)o(xample,)g(if)g(an)f
(application)-34 2640 y(passes)g(the)i(wrong)g(ar)o(guments)g(to)h(a)f
(library)n(,)h(only)f(that)h(application)e(will)-34 2681
y(be)e(af)o(fected.)13 b(Finally)n(,)8 b(the)g(number)f(of)h(kernel)f
(crossings)g(in)h(an)f(e)o(xokernel)1062 -42 y(system)j(can)g(be)g
(smaller)o(,)i(since)e(most)h(of)g(the)g(operating)f(system)g(runs)g
(in)1062 0 y(the)f(address)e(space)h(of)h(the)g(application.)1118
58 y(Library)h(operating)f(systems)f(can)h(pro)o(vide)h(as)f(much)g
(portability)h(and)1062 99 y(compatibility)k(as)e(is)h(desirable.)25
b(Applications)12 b(that)h(use)f(an)h(e)o(xokernel)1062
141 y(interface)8 b(directly)g(will)i(not)e(be)g(portable,)h(because)c
(the)j(interface)g(will)i(in-)1062 182 y(clude)f(hardware-speci\256c)f
(information.)17 b(Applications)9 b(that)i(use)e(library)1062
224 y(operating)e(systems)f(that)i(implement)f(standard)g(interfaces)f
(\()p Fm(e)o(.g)o(.,)k Fn(POSIX\))1062 265 y(will)g(be)d(portable)h
(across)f(an)o(y)g(system)h(that)g(pro)o(vides)f(the)i(same)e
(interface.)1062 307 y(An)12 b(application)f(that)h(runs)g(on)f(an)h(e)
o(xokernel)e(can)h(freely)i(replace)e(these)1062 348
y(library)c(operating)f(systems)f(without)h(an)o(y)g(special)g(pri)o
(vile)o(ges,)h(which)f(sim-)1062 390 y(pli\256es)i(the)g(addition)g
(and)f(de)o(v)o(elopment)g(of)i(ne)o(w)f(standards)e(and)i(features.)
1062 431 y(W)m(e)14 b(e)o(xpect)f(that)g(most)h(applications)e(will)j
(use)e(a)g(handful)g(of)h(a)o(v)o(ailable)1062 473 y(library)i
(operating)e(systems)g(that)h(implement)g(the)g(popular)f(interfaces;)
1062 514 y(only)g(designers)f(of)h(more)h(ambitious)f(applications)f
(will)j(de)o(v)o(elop)d(ne)o(w)1062 556 y(library)j(operating)d
(systems)h(that)h(\256t)g(their)g(needs.)28 b(Library)15
b(operating)1062 597 y(systems)7 b(themselv)o(es)g(can)g(be)h(made)g
(portable)g(by)g(designing)f(them)h(to)h(use)1062 639
y(a)g(lo)o(w-le)o(v)o(el)h(machine-independen)o(t)d(layer)i(to)g(hide)g
(hardware)f(details.)1118 697 y(Extending)i(or)i(specializing)e(a)i
(library)g(operating)f(system)f(might)i(be)1062 739 y(considerably)6
b(simpli\256ed)g(b)o(y)g(mo)o(dular)g(d)o(esign)o(.)k(It)c(is)g
(possible)g(that)g(objec)o(t-)1062 780 y(oriented)12
b(programming)g(methods,)g(o)o(v)o(erloading,)h(and)e(inheritance)g
(can)1062 822 y(pro)o(vide)h(useful)f(operating)g(system)g(service)f
(implementations)h(that)h(can)1062 863 y(be)g(easily)g(specialized)f
(and)h(e)o(xtended,)h(as)f(in)h(the)g(VM++)g(library)h([30].)1062
905 y(T)m(o)c(reduce)f(the)h(space)f(required)h(by)g(these)f
(libraries,)j(support)e(for)h(shared)1062 946 y(libraries)d(and)f
(dynamic)f(linking)i(will)h(be)e(an)g(essential)f(part)i(of)g(a)f
(complete)1062 988 y(e)o(xokernel-based)f(system.)1118
1046 y(As)i(in)h(microkernel)f(systems,)f(an)h(e)o(xokernel)g(can)f
(pro)o(vide)h(backward)1062 1087 y(compatibility)h(in)f(three)g(ways:)k
(one,)c(binary)g(emulation)g(of)g(the)g(operating)1062
1129 y(system)k(and)g(its)h(programs;)i(two,)f(by)e(implementing)h(its)
g(hardware)f(ab-)1062 1170 y(straction)e(layer)h(on)f(top)g(of)h(an)f
(e)o(xokernel;)g(and)g(three,)h(re-implementing)1062
1212 y(the)e(operating)f(system')n(s)h(abstractions)e(on)i(top)g(of)h
(an)e(e)o(xokernel.)1062 1312 y Fo(3)41 b(Exok)o(ernel)12
b(Design)1062 1409 y Fn(The)d(challenge)e(for)j(an)f(e)o(xokernel)e(is)
j(to)f(gi)o(v)o(e)g(library)h(operating)f(systems)1062
1450 y(maximum)d(freedom)g(in)g(managing)f(physical)t(resources)g
(while)h(protecting)1062 1492 y(them)11 b(from)h(each)d(other;)j(a)f
(programming)g(error)g(in)h(one)e(library)i(operat-)1062
1533 y(ing)f(system)f(should)g(not)h(af)o(fect)g(another)f(library)i
(operating)f(system.)18 b(T)m(o)1062 1575 y(achie)o(v)o(e)9
b(this)i(goal,)f(an)g(e)o(xokernel)f(separates)f(protection)j(from)g
(manage-)1062 1616 y(ment)e(through)g(a)g(lo)o(w-le)o(v)o(el)h
(interface.)1118 1675 y(In)j(separating)e(protection)i(from)g
(management,)f(an)g(e)o(xokernel)f(per)o(-)1062 1716
y(forms)h(three)g(important)g(tasks:)18 b(\(1\))12 b(tracking)f(o)o
(wnership)g(of)h(resources,)1062 1758 y(\(2\))h(ensuring)d(protection)i
(by)f(guarding)g(all)h(resource)f(usage)f(or)i(binding)1062
1799 y(points,)18 b(and)d(\(3\))h(re)o(v)o(oking)f(access)f(to)i
(resources.)32 b(T)m(o)16 b(achie)o(v)o(e)f(these)1062
1841 y(tasks,)d(an)f(e)o(xokernel)f(employs)g(three)i(techniques.)19
b(First,)13 b(using)e Fm(secur)o(e)1062 1882 y(bindings)p
Fn(,)h(library)h(operating)f(systems)f(can)g(securely)g(bind)h(to)h
(machine)1062 1924 y(resources.)g(Second,)8 b Fm(visible)i(r)o(e)o
(vocation)d Fn(allo)o(ws)j(library)g(operating)f(sys-)1062
1965 y(tems)14 b(to)h(participate)g(in)g(a)f(resource)f(re)o(v)o
(ocation)h(protocol.)30 b(Third,)16 b(an)1062 2007 y
Fm(abort)9 b(pr)n(otocol)g Fn(is)h(used)f(by)g(an)g(e)o(xokernel)g(to)h
(break)f(secure)f(bindings)h(of)1062 2048 y(uncooperati)o(v)o(e)f
(library)h(operating)g(systems)f(by)g(force.)1118 2106
y(In)13 b(this)g(section,)g(we)g(enumerate)e(the)i(central)f(design)g
(principles)g(of)1062 2148 y(the)i(e)o(xokernel)f(architecture.)30
b(Then,)15 b(we)f(discuss)f(in)i(detail)f(the)h(three)1062
2189 y(techniques)7 b(that)j(we)e(use)h(to)g(separate)f(protection)h
(from)h(management.)1062 2290 y Fo(3.1)41 b(Design)12
b(Principles)1062 2369 y Fn(An)g(e)o(xokernel)e(speci\256es)g(the)h
(details)h(of)g(the)g(interface)f(that)h(library)h(op-)1062
2410 y(erating)f(systems)e(use)h(to)h(claim,)h(release,)f(and)f(use)f
(machine)h(resources.)1062 2452 y(This)k(section)g(articulates)g(some)f
(of)i(the)f(principles)g(that)h(ha)o(v)o(e)f(guided)1062
2493 y(our)f(ef)o(forts)h(to)f(design)f(an)g(e)o(xokernel)g(interface)g
(that)h(pro)o(vides)g(library)1062 2535 y(operating)8
b(systems)g(the)h(maximum)g(de)o(gree)f(of)i(control.)1118
2593 y Fi(Secur)o(ely)h(expose)g(hard)o(war)o(e)p Fn(.)22
b(The)12 b(central)g(tenet)h(of)g(the)f(e)o(xoker)o(-)1062
2634 y(nel)g(architecture)f(is)h(that)g(the)f(kernel)g(should)g(pro)o
(vide)g(secure)g(lo)o(w-le)o(v)o(el)1003 2806 y(3)p eop
%%Page: 4 4
4 3 bop -34 -42 a Fn(primiti)o(v)o(es)14 b(that)e(allo)o(w)g(all)h
(hardware)e(resources)f(to)j(be)e(accessed)e(as)j(di-)-34
0 y(rectly)d(as)e(possible.)12 b(An)c(e)o(xokernel)f(designer)g
(therefore)h(stri)o(v)o(es)h(to)f(safely)-34 41 y(e)o(xport)i(all)h
(pri)o(vile)o(ged)f(instructions,)g(hardware)e(DMA)j(capabilities,)e
(and)-34 83 y(machine)h(resources.)17 b(The)10 b(resources)f(e)o
(xported)h(are)h(those)f(pro)o(vided)g(by)-34 124 y(the)d(underlying)f
(hardware:)11 b(physical)6 b(memory)n(,)h(the)f(CPU,)i(disk)e(memory)n
(,)-34 166 y(translation)13 b(look-aside)e(b)o(uf)o(fer)i(\(TLB\),)h
(and)d(addressing)g(conte)o(xt)h(iden-)-34 207 y(ti\256ers.)25
b(This)13 b(principle)g(e)o(xtends)e(to)i(less)f(tangible)h(machine)e
(resources)-34 249 y(such)g(as)h(interrupts,)i(e)o(xceptions,)e(and)f
(cross-domain)g(calls.)23 b(An)12 b(e)o(xok-)-34 290
y(ernel)h(should)e(not)h(impose)g(higher)o(-le)o(v)o(el)h(abstractions)
e(on)h(these)f(e)o(v)o(ents)-34 332 y(\()p Fm(e)o(.g)o(.,)19
b Fn(Unix)c(signal)g(or)g(RPC)g(semantics\).)31 b(F)o(or)16
b(impro)o(v)o(ed)g(\257e)o(xibility)n(,)-34 373 y(most)e(physical)f
(resources)f(should)h(be)h(\256nely)f(subdi)o(vided.)27
b(The)14 b(num-)-34 415 y(ber)o(,)d(format,)h(and)e(current)g(set)h(of)
g(TLB)f(mappings)f(should)h(be)g(visible)g(to)-34 456
y(and)g(replaceable)e(by)i(library)h(operating)e(systems,)h(as)f
(should)g(an)o(y)h(\252pri)o(v-)-34 498 y(ile)o(ged\272)j(co-processor)
f(state.)27 b(An)14 b(e)o(xokernel)e(must)i(e)o(xport)f(pri)o(vile)o
(ged)-34 539 y(instructions)e(to)h(library)g(operating)f(systems)f(to)i
(enable)f(them)g(to)h(imple-)-34 581 y(ment)i(traditional)i(operating)d
(system)h(abstractions)f(such)g(as)g(processes)-34 622
y(and)d(address)g(spaces.)16 b(Each)10 b(e)o(xported)h(operation)f(can)
g(be)g(encapsulated)-34 664 y(within)15 b(a)f(system)f(call)h(that)g
(checks)e(the)i(o)o(wnership)f(of)i(an)o(y)e(resources)-34
705 y(in)o(v)o(olv)o(ed.)22 763 y(Phrased)5 b(ne)o(gati)o(v)o(ely)n(,)i
(this)g(principle)f(states)g(that)h(an)f(e)o(xokernel)f(should)-34
805 y Fm(avoid)12 b(r)o(esour)n(ce)d(management)p Fn(.)21
b(It)13 b(should)e(only)h(manage)f(resources)f(to)-34
847 y(the)i(e)o(xtent)h(required)f(by)f(protection)h(\()p
Fm(i.e)o(.,)k Fn(management)10 b(of)j(allocation,)-34
888 y(re)o(v)o(ocation,)8 b(and)f(o)o(wnership\).)12
b(The)7 b(moti)o(v)o(ation)h(for)h(this)f(principle)g(is)g(our)-34
930 y(belief)13 b(that)g(distrib)o(uted,)i(application-speci\256c,)d
(resource)g(management)-34 971 y(is)k(the)g(best)g(way)f(to)i(b)o(uild)
f(ef)o(\256cient)g(\257e)o(xible)g(systems.)33 b(Subsequent)-34
1013 y(principles)9 b(deal)f(with)i(the)f(details)g(of)h(achie)o(ving)d
(this)j(goal.)22 1071 y Fi(Expose)f(allocation)p Fn(.)18
b(An)10 b(e)o(xokernel)f(should)h(allo)o(w)g(library)i(operat-)-34
1112 y(ing)c(systems)d(to)j(request)f(speci\256c)e(physical)h
(resources.)12 b(F)o(or)c(instance,)e(if)j(a)-34 1154
y(library)h(operating)f(system)f(can)h(request)f(speci\256c)g(physical)
g(pages,)g(it)j(can)-34 1195 y(reduce)6 b(cache)g(con\257icts)g(among)g
(the)h(pages)f(in)h(its)h(working)e(set)h([29].)14 b(Fur)o(-)-34
1237 y(thermore,)e(resources)e(should)g(not)h(be)f(implicitly)j
(allocated;)f(the)f(library)-34 1278 y(operating)j(system)f(should)h
(participate)g(in)h(e)o(v)o(ery)f(allocation)g(decision.)-34
1320 y(The)9 b(ne)o(xt)g(principle)g(aids)f(the)h(ef)o(fecti)o(v)o
(eness)f(of)i(this)f(participation.)22 1378 y Fi(Expose)h(Names)p
Fn(.)21 b(An)12 b(e)o(xokernel)e(should)g(e)o(xport)i(physical)f
(names.)-34 1419 y(Physical)5 b(names)g(are)h(ef)o(\256cient,)h(since)e
(the)o(y)i(remo)o(v)o(e)f(a)g(le)o(v)o(el)h(of)g(indirection)-34
1461 y(otherwise)h(required)f(to)i(translate)e(between)g(virtual)i(and)
e(physical)g(names.)-34 1502 y(Physical)e(names)g(also)g(encode)t
(useful)h(resource)t(attrib)o(utes.)13 b(F)o(or)7 b(e)o(xample,)-34
1544 y(in)f(a)g(system)g(with)g(phys)o(ically-inde)o(x)o(ed)f
(direct-mapped)g(c)o(ach)o(es)o(,)t(the)h(name)-34 1585
y(of)12 b(a)f(physical)e(page)h(\()p Fm(i.e)o(.,)k Fn(its)e(page)d
(number\))i(determines)g(which)f(pages)-34 1627 y(it)k(con\257icts)d
(with.)25 b(Additionally)n(,)13 b(an)f(e)o(xokernel)f(should)h(e)o
(xport)g(book-)-34 1668 y(keeping)g(data)h(structures)g(such)f(as)g
(freelists,)k(disk)d(arm)g(positions,)h(and)-34 1710
y(cached)c(TLB)h(entries)g(so)g(that)h(applications)f(can)f(tailor)j
(their)f(allocation)-34 1751 y(requests)c(to)h(a)o(v)o(ailable)g
(resources.)22 1810 y Fi(Expose)g(Re)o(vocation)p Fn(.)18
b(An)11 b(e)o(xokernel)e(should)h(utilize)i(a)e(visible)h(re-)-34
1851 y(source)g(re)o(v)o(ocation)h(protocol)g(so)g(that)h(well-beha)o
(v)o(ed)e(library)i(operating)-34 1893 y(systems)e(can)g(perform)h(ef)o
(fecti)o(v)o(e)g(application-le)o(v)o(el)g(resource)f(manage-)-34
1934 y(ment.)21 b(V)n(isible)11 b(re)o(v)o(ocation)g(allo)o(ws)g
(physical)f(names)g(to)i(be)f(used)f(easily)-34 1976
y(and)g(permits)g(library)h(operating)e(systems)g(to)i(choose)d(which)h
(instance)g(of)-34 2017 y(a)g(speci\256c)f(resource)f(to)j(relinquish.)
-34 2117 y Fo(P)o(olicy)-34 2197 y Fn(An)j(e)o(xokernel)e(hands)g(o)o
(v)o(er)i(resource)e(polic)o(y)i(decisions)d(to)j(library)h(op-)-34
2238 y(erating)d(systems.)18 b(Using)11 b(this)g(control)g(o)o(v)o(er)h
(resources,)e(an)g(application)-34 2280 y(or)g(collection)e(of)i
(cooperating)e(applications)g(can)g(make)g(decisions)f(about)-34
2321 y(ho)o(w)i(best)f(to)i(use)e(these)g(resources.)k(Ho)o(we)o(v)o
(er)o(,)d(as)f(in)i(all)g(systems,)e(an)g(e)o(x-)-34
2363 y(okernel)g(must)h(include)f(polic)o(y)h(to)g(arbitrate)h(between)
e(competing)g(library)-34 2404 y(operating)13 b(systems:)20
b(it)14 b(must)f(determine)f(the)h(absolute)f(importance)g(of)-34
2446 y(dif)o(ferent)g(applications,)f(their)h(share)f(of)g(resources,)g
Fm(etc.)20 b Fn(This)11 b(situation)-34 2487 y(is)e(no)g(dif)o(ferent)g
(than)g(in)g(traditional)h(kernels.)i(Appropriate)d(mechanisms)-34
2529 y(are)16 b(determined)g(more)g(by)f(the)h(en)o(vironment)f(than)h
(by)f(the)h(operating)-34 2570 y(system)10 b(architecture.)19
b(F)o(or)12 b(instance,)f(while)g(an)g(e)o(xokernel)e(cedes)h(man-)-34
2612 y(agement)f(of)i(resources)d(o)o(v)o(er)j(to)f(library)h
(operating)f(systems,)f(it)i(controls)-34 2653 y(the)c(allocation)g
(and)f(re)o(v)o(ocation)g(of)i(these)e(resources.)11
b(By)c(deciding)f(which)1062 -42 y(allocation)k(requests)f(to)h(grant)g
(and)g(from)h(which)e(applications)g(to)i(re)o(v)o(oke)1062
0 y(resources,)f(an)h(e)o(xokernel)e(can)h(enforce)h(traditional)g
(partitioning)h(strate-)1062 41 y(gies,)e(such)e(as)h(quotas)g(or)h
(reserv)o(ation)f(schemes.)k(Since)c(polic)o(y)h(con\257icts)1062
83 y(boil)h(do)o(wn)e(to)i(resource)e(allocation)h(decisions)e(\()p
Fm(e)o(.g)o(.,)13 b Fn(allocation)c(of)i(seek)1062 124
y(time,)f(physical)d(memory)n(,)i(or)g(disk)f(blocks\),)h(an)f(e)o
(xokernel)f(handles)h(them)1062 166 y(in)h(a)g(similar)i(manner)n(.)
1062 266 y Fo(3.2)41 b(Secure)14 b(Bindings)1062 345
y Fn(One)c(of)g(the)g(primary)h(tasks)e(of)h(an)g(e)o(xokernel)f(is)h
(to)g(multiple)o(x)h(resources)1062 387 y Fm(secur)o(ely)p
Fn(,)6 b(pro)o(viding)i(protection)g(for)h(mutually)f(distrustful)g
(applications.)1062 428 y(T)m(o)e(implement)g(protection)g(an)g(e)o
(xokernel)f(must)h(guard)f(each)g(resource.)12 b(T)m(o)1062
470 y(perform)g(this)f(task)g(ef)o(\256ciently)g(an)g(e)o(xokernel)f
(allo)o(ws)h(library)h(operating)1062 511 y(systems)c(to)h(bind)g(to)g
(resources)f(using)g Fm(secur)o(e)e(bindings)p Fn(.)1118
569 y(A)k(secure)e(binding)h(is)g(a)h(protection)f(mechanism)f(that)h
(decouples)f(au-)1062 611 y(thorization)16 b(from)h(the)f(actual)f(use)
g(of)h(a)g(resource.)33 b(Secure)15 b(bindings)1062 652
y(impro)o(v)o(e)g(performance)f(in)h(two)g(ways.)29 b(First,)17
b(the)e(protection)g(checks)1062 694 y(in)o(v)o(olv)o(ed)d(in)i
(enforcing)f(a)g(secure)e(binding)i(are)g(e)o(xpressed)e(in)j(terms)f
(of)1062 735 y(simple)k(operations)f(that)i(the)f(kernel)g(\(or)h
(hardware\))e(can)g(implement)1062 777 y(quickly)n(.)21
b(Second,)11 b(a)g(secure)g(binding)g(performs)h(authorization)f(only)g
(at)1062 818 y(bind)d(time,)i(which)e(allo)o(ws)g(management)f(to)i(be)
f(decoupled)e(from)k(protec-)1062 860 y(tion.)17 b(Application-le)o(v)o
(el)10 b(software)g(is)g(responsible)f(for)h(man)o(y)g(resources)1062
901 y(with)i(comple)o(x)e(semantics)f(\()p Fm(e)o(.g)o(.,)k
Fn(network)d(connections\).)17 b(By)11 b(isolating)1062
943 y(the)e(need)f(to)h(understand)f(these)g(semantics)g(to)h
Fm(bind)g(time)p Fn(,)h(the)f(kernel)f(can)1062 984 y(ef)o(\256ciently)
j(implement)g(access)d(checks)h(at)i Fm(access)e(time)i
Fn(without)h(under)o(-)1062 1026 y(standing)f(them.)21
b(Simply)12 b(put,)h(a)e(secure)g(binding)g(allo)o(ws)h(the)f(kernel)g
(to)1062 1067 y(protect)e(resources)f(without)h(understanding)e(them.)
1118 1126 y(Operationally)n(,)16 b(the)e(one)g(requirement)g(needed)f
(to)i(support)f(secure)1062 1167 y(bindings)e(is)h(a)f(set)h(of)g
(primiti)o(v)o(es)h(that)f(application-le)o(v)o(el)g(software)f(can)
1062 1209 y(use)i(to)h(e)o(xpress)e(protection)i(checks.)28
b(The)15 b(primiti)o(v)o(es)h(can)d(be)i(imple-)1062
1250 y(mented)10 b(either)h(in)g(hardware)e(or)i(software.)17
b(A)11 b(simple)f(hardware)g(secure)1062 1292 y(binding)d(is)h(a)f(TLB)
h(entry:)k(when)7 b(a)h(TLB)f(fault)h(occurs)e(the)i(comple)o(x)f(map-)
1062 1333 y(ping)h(of)i(virtual)f(to)g(physical)e(addresses)f(in)j(a)g
(library)h(operating)e(system')n(s)1062 1375 y(page)g(table)g(is)h
(performed)g(and)f(then)h(loaded)e(into)j(the)e(kernel)g(\(bind)h
(time\))1062 1416 y(and)e(then)h(used)f(multiple)i(times)f(\(access)f
(time\).)14 b(Another)8 b(e)o(xample)f(is)i(the)1062
1458 y(packet)i(\256lter)i([37],)h(which)e(allo)o(ws)g(predicates)f(to)
h(be)g(do)o(wnloaded)e(into)1062 1499 y(the)e(kernel)f(\(bind)h(time\))
h(and)e(then)h(run)g(on)f(e)o(v)o(ery)h(incoming)f(packet)f(to)j(de-)
1062 1541 y(termine)f(which)e(application)h(the)g(packet)f(is)h(for)h
(\(access)d(time\).)14 b(W)o(ithout)8 b(a)1062 1582 y(packet)e
(\256lter)o(,)f(the)h(kernel)g(would)g(need)g(to)g(que)o(ry)g(e)o(v)o
(ery)g(a)o(pplication)g(or)g(ne)o(t-)1062 1624 y(work)i(serv)o(er)h(on)
f(e)o(v)o(ery)g(packet)f(reception)h(to)h(determine)f(who)h(the)f
(packet)1062 1665 y(was)i(for)n(.)22 b(By)11 b(separating)f(protection)
i(\(determining)f(who)g(the)h(packet)d(is)1062 1707 y(for\))14
b(from)f(authorization)f(and)f(management)g(\(setting)i(up)f
(connections,)1062 1748 y(sessions,)c(managing)h(retransmissions,)g
Fm(etc.)p Fn(\))16 b(v)o(ery)10 b(fast)g(network)f(multi-)1062
1790 y(ple)o(xing)e(is)g(possible)f(while)i(still)g(supporting)e
(complete)h(application-le)o(v)o(el)1062 1831 y(\257e)o(xibility)n(.)
1118 1889 y(W)m(e)13 b(use)f(three)i(basic)e(techniques)f(to)i
(implement)g(secure)f(bindings:)1062 1931 y(hardware)f(mechanisms,)g
(software)g(caching,)h(and)f(do)o(wnloading)f(appli-)1062
1972 y(cation)f(code.)1118 2031 y(Appropriate)17 b(hardware)g(support)f
(allo)o(ws)i(secure)e(bindings)g(to)i(be)1062 2072 y(couched)13
b(as)i(lo)o(w-le)o(v)o(el)i(protection)e(operations)f(such)g(that)i
(later)g(oper)o(-)1062 2114 y(ations)f(can)g(be)g(ef)o(\256ciently)h
(checked)d(without)j(recourse)e(to)i(high-le)o(v)o(el)1062
2155 y(authorization)e(information.)29 b(F)o(or)14 b(e)o(xample,)h(a)f
(\256le)g(serv)o(er)h(can)e(b)o(uf)o(fer)1062 2197 y(data)e(in)g
(memory)g(pages)e(and)i(grant)g(access)d(to)k(authorized)e
(applications)1062 2238 y(by)k(pro)o(viding)h(them)g(with)g
(capabilities)f(for)h(the)g(physical)e(pages.)29 b(An)1062
2280 y(e)o(xokernel)9 b(would)h(enforce)g(capability)h(checking)e
(without)i(needing)e(an)o(y)1062 2321 y(information)i(about)f(the)g
(\256le)h(system')n(s)e(authorization)h(mechanisms.)16
b(As)1062 2363 y(another)8 b(e)o(xample,)g(some)g(Silicon)g(Graphics)g
(frame)h(b)o(uf)o(fer)g(hardware)f(as-)1062 2404 y(sociates)g(an)h(o)o
(wnership)f(tag)h(with)h(each)e(pix)o(el.)15 b(This)9
b(mechanism)f(can)g(be)1062 2446 y(used)g(by)h(the)h(windo)o(w)f
(manager)g(to)g(set)h(up)f(a)g(binding)g(between)f(a)i(library)1062
2487 y(operating)d(system)h(and)f(a)h(portion)g(of)g(the)g(frame)h(b)o
(uf)o(fer)n(.)14 b(The)7 b(application)1062 2529 y(can)f(access)f(the)h
(frame)i(b)o(uf)o(fer)f(hardware)f(directly)n(,)i(because)t(the)f
(hardware)1062 2570 y(checks)g(the)i(o)o(wnership)f(tag)h(when)f(I/O)i
(takes)e(place.)1118 2628 y(Secure)j(bindings)f(can)h(be)g(cached)f(in)
h(an)h(e)o(xokernel.)19 b(F)o(or)13 b(instance,)1062
2670 y(an)8 b(e)o(xokernel)g(can)f(use)h(a)h(lar)o(ge)g(software)f(TLB)
g([7,)i(28)o(])f(to)g(cache)e(address)1003 2806 y(4)p
eop
%%Page: 5 5
5 4 bop -34 -42 a Fn(translations)9 b(that)g(do)g(not)f(\256t)i(in)f
(the)g(hardware)f(TLB.)h(The)f(software)h(TLB)-34 0 y(can)f(be)h(vie)o
(wed)f(as)h(a)g(cache)e(of)i(frequently-used)f(secure)g(bindings.)22
58 y(Secure)f(bindings)g(can)h(be)f(implemented)h(by)g(do)o(wnloading)e
(code)h(into)-34 99 y(the)g(kernel.)12 b(This)6 b(code)f(is)i(in)o(v)o
(oked)e(on)h(e)o(v)o(ery)g(resource)g(access)t(or)h(e)o(v)o(ent)f(to)
-34 141 y(determine)h(o)o(wnership)e(and)h(the)h(actions)f(that)h(the)f
(kernel)g(should)g(perform.)-34 182 y(Do)o(wnloading)k(code)g(into)i
(the)f(kernel)g(allo)o(ws)g(an)g(application)f(thread)h(of)-34
224 y(control)h(to)g(be)f(immediately)g(e)o(x)o(ecuted)g(on)g(kernel)g
(e)o(v)o(ents.)20 b(The)11 b(adv)o(an-)-34 265 y(tages)d(of)i(do)o
(wnloading)e(code)g(are)h(that)g(potentially)h(e)o(xpensi)o(v)o(e)d
(crossings)-34 307 y(can)14 b(be)f(a)o(v)o(oided)h(and)f(that)i(this)f
(code)f(can)g(run)i(without)f(requiring)h(the)-34 348
y(application)9 b(itself)i(to)f(be)f(scheduled.)k(T)m(ype-safe)c
(languages)e([9,)k(42)o(],)g(in-)-34 390 y(terpretation,)g(and)e
(sandboxing)e([52])j(can)f(be)g(used)f(to)i(e)o(x)o(ecute)f(untrusted)
-34 431 y(application)g(code)e(safely)i([21].)22 490
y(W)m(e)j(pro)o(vide)f(e)o(xamples)f(of)i(each)e(of)i(these)e(three)i
(techniques)d(belo)o(w)-34 531 y(and)i(discuss)e(ho)o(w)i(secure)f
(bindings)g(apply)g(to)i(the)f(secure)f(multiple)o(xing)-34
573 y(of)g(physical)d(memory)i(and)f(network)h(de)o(vices.)-34
673 y Fo(Multiplexing)i(Physical)h(Memo)o(ry)-34 752
y Fn(Secure)f(bindings)f(to)i(physical)e(memory)h(are)h(implemented)f
(in)h(our)f(pro-)-34 794 y(totype)e(e)o(xokernel)e(using)h
(self-authenticating)g(capabilities)g([12])i(and)e(ad-)-34
835 y(dress)13 b(translation)g(hardware.)26 b(When)13
b(a)h(library)g(operating)f(system)g(al-)-34 877 y(locates)h(a)h
(physical)f(memory)h(page,)g(the)g(e)o(xokernel)f(creates)g(a)h(secure)
-34 918 y(binding)8 b(for)g(that)h(page)d(by)i(recording)f(the)h(o)o
(wner)g(and)f(the)h(read)f(and)h(write)-34 960 y(capabilities)j
(speci\256ed)f(by)i(the)f(library)i(operating)e(system.)21
b(The)11 b(o)o(wner)-34 1001 y(of)g(a)g(page)e(has)h(the)g(po)o(wer)g
(to)h(change)e(the)i(capabilities)f(associated)e(with)-34
1043 y(it)i(and)f(to)g(deallocate)f(it.)22 1101 y(T)m(o)14
b(ensure)f(protection,)i(the)f(e)o(xokernel)e(guards)h(e)o(v)o(ery)h
(access)e(to)i(a)-34 1142 y(physical)7 b(memory)h(page)f(by)g
(requiring)i(that)f(the)g(capability)g(be)f(presented)-34
1184 y(by)f(the)g(library)g(operating)g(system)g(reque)o(sting)g(a)o
(cce)o(ss)o(.)k(If)c(the)g(capability)g(is)-34 1225 y(insuf)o
(\256cient,)i(the)g(request)f(is)i(denied.)j(T)m(ypically)n(,)7
b(the)h(processor)f(contains)-34 1267 y(a)j(TLB,)g(and)f(the)h(e)o
(xokernel)f(must)g(check)g(memory)g(capabilities)h(when)f(a)-34
1308 y(library)g(operating)f(system)f(attempts)h(to)h(enter)f(a)g(ne)o
(w)g(virtual-to-physical)-34 1350 y(mapping.)31 b(T)m(o)15
b(impro)o(v)o(e)g(library)h(operating)f(system)f(performance)g(by)-34
1391 y(reducing)g(the)g(number)g(times)g(secure)f(bindings)h(must)g(be)
g(established,)-34 1433 y(an)h(e)o(xokernel)f(may)h(cache)e
(virtual-to-physical)j(mappings)e(in)h(a)g(lar)o(ge)-34
1474 y(software)9 b(TLB.)22 1532 y(If)j(the)e(underlying)g(hardware)g
(de\256nes)e(a)j(page-table)e(interface,)i(then)-34 1574
y(an)6 b(e)o(xokernel)g(must)g(gu)o(ard)g(the)f(pag)o(e)h(table)f
(instea)o(d)h(of)g(the)g(T)o(LB.)g(Although)-34 1615
y(the)k(details)f(of)h(ho)o(w)f(to)h(implement)f(secure)f(memory)i
(bindings)e(will)j(v)o(ary)-34 1657 y(depending)g(on)i(the)f(details)h
(of)h(the)e(address)g(translation)h(hardware,)g(the)-34
1698 y(basic)f(principle)i(is)f(straightforward:)22 b(pri)o(vile)o(ged)
14 b(machine)e(operations)-34 1740 y(such)7 b(as)h(TLB)g(loads)g(and)f
(DMA)i(must)f(be)g(guarded)f(by)h(an)g(e)o(xokernel.)k(As)-34
1781 y(dictated)6 b(by)g(the)g(e)o(xokernel)f(principle)h(of)h(e)o
(xposing)e(kernel)g(book-keeping)-34 1823 y(structures,)i(the)g(page)e
(table)i(should)e(be)h(visible)h(\(read)g(only\))g(at)f(application)-34
1865 y(le)o(v)o(el.)22 1923 y(Using)12 b(capabilities)f(to)h(protect)g
(resources)e(enables)h(applications)f(to)-34 1964 y(grant)k(access)d
(rights)j(to)g(other)g(applications)e(without)i(kernel)f(interv)o(en-)
-34 2006 y(tion.)k(Applications)9 b(can)g(also)g(use)g(\252well-kno)o
(wn\272)g(capabilities)g(to)i(share)-34 2047 y(resources)d(easily)n(.)
22 2105 y(T)m(o)13 b(break)f(a)h(secure)f(binding,)i(an)e(e)o(xokernel)
g(must)h(change)e(the)i(as-)-34 2147 y(sociated)d(capabilities)g(and)g
(mark)h(the)g(resource)e(as)i(free.)19 b(In)11 b(the)g(case)e(of)-34
2188 y(physical)f(memory)n(,)h(an)g(e)o(xokernel)f(would)g(\257ush)h
(all)h(TLB)f(mappings)e(and)-34 2230 y(an)o(y)i(queued)e(DMA)j
(requests.)-34 2330 y Fo(Multiplexing)h(the)j(Net)o(w)o(o)o(rk)-34
2409 y Fn(Multiple)o(xing)9 b(the)g(network)f(ef)o(\256ciently)g(is)g
(challenging,)g(since)f(protocol-)-34 2451 y(speci\256c)f(kno)o(wledge)
g(is)i(required)g(to)g(interpret)g(the)g(contents)e(of)i(incoming)-34
2492 y(messages)f(and)h(identify)h(the)g(intended)f(recipient.)22
2550 y(Support)k(for)g(network)g(demultiple)o(xing)f(can)g(be)h(pro)o
(vided)f(either)h(in)-34 2592 y(software)7 b(or)g(hardware.)12
b(An)7 b(e)o(xample)f(of)h(a)g(hardware-based)t(mechanism)-34
2633 y(is)g(the)g(use)g(of)g(the)g(virtual)h(circuit)g(in)f(A)l(TM)g
(cells)g(to)h(securely)e(bind)g(streams)-34 2675 y(to)k(applications)d
([19].)1118 -42 y(Software)k(support)f(for)i(message)d(demultiple)o
(xing)i(can)f(be)g(pro)o(vided)1062 0 y(by)e(packet)f(\256lters)h
([37].)14 b(P)o(acket)7 b(\256lters)i(can)f(be)f(vie)o(wed)h(as)g(an)f
(implemen-)1062 41 y(tation)12 b(of)g(secure)e(bindings)g(in)i(which)f
(application)g(code\320the)f(\256lters\320)1062 83 y(are)h(do)o
(wnloaded)f(into)h(the)h(kernel.)19 b(Protocol)12 b(kno)o(wledge)d(is)j
(limited)g(to)1062 124 y(the)f(application,)g(while)g(the)g(protection)
g(checks)e(required)i(to)g(determine)1062 166 y(packet)c(o)o(wnership)g
(are)h(couched)e(in)j(a)f(language)f(understood)f(by)i(the)g(ker)o(-)
1062 207 y(nel.)13 b(F)o(ault)c(isolation)e(is)i(ensured)d(by)i
(careful)f(language)f(design)h(\(to)i(bound)1062 249
y(runtime\))j(and)e(runtime)h(checks)e(\(to)j(protect)e(against)g(wild)
i(memory)e(ref-)1062 290 y(erences)d(and)i(unsafe)f(operations\).)1118
348 y(Our)14 b(prototype)e(e)o(xokernel)g(uses)g(packet)g(\256lters,)j
(because)c(our)i(cur)o(-)1062 390 y(rent)f(network)e(does)h(not)g(pro)o
(vide)g(hardware)f(mechanisms)g(for)i(message)1062 431
y(demultiple)o(xing.)17 b(One)9 b(challenge)g(with)h(a)g
(language-based)d(approach)h(is)1062 473 y(to)i(make)f(running)h
(\256lters)g(fast.)17 b(T)o(raditionally)n(,)10 b(packet)f(\256lters)h
(ha)o(v)o(e)g(been)1062 514 y(interpreted,)h(making)e(them)h(less)f(ef)
o(\256cient)h(than)f(in-kernel)h(demultiple)o(x-)1062
556 y(ing)g(routines.)15 b(One)9 b(of)h(the)g(distinguishing)f
(features)g(of)h(the)g(packet)e(\256lter)1062 597 y(engine)i(used)h(by)
g(our)g(prototype)g(e)o(xokernel)f(is)i(that)g(it)h(compiles)d(packet)
1062 639 y(\256lters)i(to)g(machine)e(code)g(at)i(runtime,)g
(increasing)f(demultiple)o(xing)g(per)o(-)1062 680 y(formance)d(by)h
(more)g(than)g(an)g(order)g(of)g(magnitude)f([22].)1118
739 y(The)h(one)g(problem)g(with)h(the)f(use)g(of)h(a)f(packet)f
(\256lter)i(is)g(ensuring)e(that)1062 780 y(that)13 b(a)f(\256lter)h
(does)f(not)g(\252lie\272)g(and)g(accept)f(packets)f(destined)i(to)g
(another)1062 822 y(process.)f(Simple)6 b(security)g(precautions)f
(such)g(as)g(only)h(allo)o(wing)h(a)f(trusted)1062 863
y(serv)o(er)12 b(to)g(install)g(\256lters)g(can)f(be)g(used)g(to)h
(address)e(this)i(problem.)21 b(On)12 b(a)1062 905 y(system)6
b(that)i(assumes)d(no)i(malicious)f(processes,)g(our)h(language)e(is)j
(simple)1062 946 y(enough)h(that)j(in)f(man)o(y)g(cases)e(e)o(v)o(en)i
(the)g(use)f(of)i(a)f(trusted)g(serv)o(er)g(can)f(be)1062
988 y(a)o(v)o(oided)g(by)g(statically)h(checking)e(a)i(ne)o(w)f
(\256lter)h(to)g(ensure)f(that)h(it)h(cannot)1062 1029
y(accept)g(packets)g(belonging)g(to)i(another;)i(by)d(a)o(v)o(oiding)h
(the)f(use)g(of)h(an)o(y)1062 1071 y(central)9 b(authority)n(,)g(e)o
(xtensibility)h(is)f(increased.)1118 1129 y(Sharing)k(the)h(network)e
(interface)h(for)i(outgoing)d(messages)f(is)j(easy)n(.)1062
1170 y(Messages)7 b(are)i(simply)g(copied)f(from)i(application)f(space)
e(into)j(a)f(transmit)1062 1212 y(b)o(uf)o(fer)n(.)30
b(In)14 b(fact,)i(with)f(appropriate)e(hardware)g(support,)i
(transmission)1062 1253 y(b)o(uf)o(fers)9 b(can)e(be)h(mapped)f(into)h
(application)g(space)e(just)j(as)e(easily)h(as)f(phys-)1062
1295 y(ical)i(memory)g(pages)f([19)o(].)1062 1395 y Fo(3.2.1)41
b(Do)o(wnloading)10 b(Co)q(de)1062 1474 y Fn(In)d(addition)g(to)g
(implementing)f(secure)f(bindings,)i(do)o(wnloading)e(code)g(can)1062
1516 y(be)i(used)f(to)h(impro)o(v)o(e)h(performance.)k(Do)o(wnloading)6
b(code)g(into)h(the)g(kernel)1062 1557 y(has)h(two)i(main)f
(performance)f(adv)o(antages.)j(The)e(\256rst)h(is)f(ob)o(vious:)k
(elimi-)1062 1599 y(nation)6 b(of)h(kernel)e(crossings.)11
b(The)6 b(second)t(is)h(more)f(subtle:)12 b(the)6 b(e)o(x)o(ecution)
1062 1640 y(time)k(of)f(do)o(wnloaded)e(code)g(can)h(be)h(readily)g
(bounded)d([18].)14 b(The)9 b(crucial)1062 1682 y(importance)k(of)h
(\252tamed\272)f(code)g(is)h(that)g(it)h(can)e(be)g(e)o(x)o(ecuted)g
(when)g(the)1062 1723 y(application)d(is)i(not)f(scheduled.)17
b(This)11 b(decoupling)f(allo)o(ws)h(do)o(wnloaded)1062
1765 y(code)h(to)i(be)f(e)o(x)o(ecuted)f(in)i(situations)f(where)g
(conte)o(xt)g(switching)g(to)h(the)1062 1806 y(application)9
b(itself)h(is)f(infeasible)g(\()p Fm(e)o(.g)o(.,)j Fn(when)c(only)h(a)g
(fe)o(w)h(microseconds)1062 1848 y(of)h(free)f(processing)e(time)j(is)f
(a)o(v)o(ailable\).)17 b(P)o(acket)9 b(\256lters)i(are)f(an)f(e)o
(xample)1062 1889 y(of)e(this)g(feature:)13 b(since)6
b(the)g(packet-\256lter)h(runtime)g(is)g(bounded,)f(the)g(kernel)1062
1931 y(can)i(use)g(it)i(to)g(demultiple)o(x)f(messages)d(irrespecti)o
(v)o(e)j(of)g(what)g(application)1062 1972 y(is)14 b(scheduled;)g
(without)h(a)e(packet)g(\256lter)h(the)g(operating)f(system)g(would)
1062 2014 y(ha)o(v)o(e)c(to)g(schedule)e(each)h(potential)h(consumer)f
(of)h(the)g(packet)e([37].)1118 2072 y Fm(Application-speci\256c)13
b(Safe)h(Handlers)f Fn(\(ASHs\))i(are)g(a)f(more)h(inter)o(-)1062
2114 y(esting)9 b(e)o(xample)g(of)h(do)o(wnloading)e(code)g(into)i(our)
g(prototype)f(e)o(xokernel.)1062 2155 y(These)j(application)g(handlers)
g(can)g(be)h(do)o(wnloaded)e(into)i(the)g(kernel)f(to)1062
2197 y(participate)h(in)g(message)e(processing.)24 b(An)13
b(ASH)g(is)g(associated)e(with)j(a)1062 2238 y(packet)8
b(\256lter)j(and)e(runs)h(on)f(packet)f(reception.)16
b(One)9 b(of)h(the)g(ke)o(y)f(features)1062 2280 y(of)15
b(an)f(ASH)g(is)g(that)h(it)g(can)f(initiate)h(a)f(message.)27
b(Using)14 b(this)g(feature,)1062 2321 y(roundtrip)8
b(latenc)o(y)g(can)f(be)h(greatly)g(reduced,)f(since)g(replies)h(can)f
(be)g(trans-)1062 2363 y(mitted)14 b(on)e(the)h(spot)f(instead)g(of)h
(being)f(deferred)h(until)h(the)e(application)1062 2404
y(is)h(scheduled.)24 b(ASHs)12 b(ha)o(v)o(e)h(a)g(number)f(of)i(other)f
(useful)g(features)f(\(see)1062 2446 y(Section)c(6\).)1118
2504 y(A)13 b(salient)g(issue)e(in)i(do)o(wnloading)e(code)h(is)h(the)f
Fm(le)o(vel)h Fn(at)g(which)g(the)1062 2545 y(code)c(is)h(speci\256ed.)
k(High-le)o(v)o(el)d(languages)c(ha)o(v)o(e)j(more)g(semantic)f(infor)o
(-)1062 2587 y(mation,)14 b(which)e(pro)o(vides)g(more)h(information)g
(for)h(optimizations.)24 b(F)o(or)1062 2628 y(e)o(xample,)10
b(our)g(packet-\256lter)g(language)e(is)j(a)f(high-le)o(v)o(el)g
(declarati)o(v)o(e)g(lan-)1062 2670 y(guage.)20 b(As)12
b(a)f(result)h(packet)e(\256lters)i(can)f(be)g(mer)o(ged)h([56])g(in)g
(situations)1003 2806 y(5)p eop
%%Page: 6 6
6 5 bop -34 -42 a Fn(where)9 b(mer)o(ging)h(a)g(lo)o(wer)o(-le)o(v)o
(el,)h(imperati)o(v)o(e)f(language)e(would)h(be)g(infea-)-34
0 y(sible.)24 b(Ho)o(we)o(v)o(er)o(,)13 b(in)g(cases)e(where)h(such)f
(optimizations)h(are)h(not)f(done,)-34 41 y(\()p Fm(e)o(.g)o(.,)e
Fn(in)d(an)g(e)o(xception)g(handler\))g(a)g(lo)o(w-le)o(v)o(el)i
(language)c(is)j(more)f(in)h(keep-)-34 83 y(ing)15 b(with)g(the)f(e)o
(xokernel)f(philosophy:)22 b(it)16 b(allo)o(ws)e(the)g(broadest)f
(range)-34 124 y(of)e(application-le)o(v)o(el)g(languages)d(to)j(be)f
(tar)o(geted)g(to)h(it)h(and)d(the)i(simplest)-34 166
y(implementation.)17 b(ASHs)9 b(are)h(another)f(e)o(xample)h(of)g(this)
h(tradeof)o(f:)16 b(most)-34 207 y(ASHs)11 b(are)h(imported)g(into)g
(the)g(kernel)f(in)h(the)f(form)i(of)f(the)g(object)f(code)-34
249 y(of)h(the)f(underlying)g(machine;)h(ho)o(we)o(v)o(er)o(,)f(in)h
(the)f(fe)o(w)h(ke)o(y)f(places)f(where)-34 290 y(higher)g(le)o(v)o(el)
g(semantics)f(are)h(useful)g(we)f(ha)o(v)o(e)h(e)o(xtended)f(the)h
(instruction)-34 332 y(set)f(of)g(the)g(machine.)-34
430 y Fo(3.3)41 b(Visible)12 b(Resource)i(Revo)q(cation)-34
509 y Fn(Once)6 b(resources)f(ha)o(v)o(e)g(bee)o(n)h(b)o(oun)o(d)g(to)f
(app)o(lications,)t(there)h(must)g(be)g(a)g(w)o(ay)-34
550 y(to)13 b(reclaim)f(them)g(and)f(break)h(their)g(secure)f
(bindings.)22 b(Re)o(v)o(ocation)11 b(can)-34 592 y(either)c(be)f
Fm(visible)h Fn(or)g Fm(in)o(visible)f Fn(to)h(applications.)k(T)o
(raditionally)n(,)c(operating)-34 633 y(systems)f(ha)o(v)o(e)g
(performed)g(re)o(v)o(oca)o(tion)g(in)o(visibly)n(,)t(deallocating)g
(resources)-34 675 y(without)11 b(application)e(in)o(v)o(olv)o(ement.)
16 b(F)o(or)11 b(e)o(xample,)f(with)h(the)f(e)o(xception)-34
716 y(of)g(some)e(e)o(xternal)i(pagers)e([2,)i(43)o(],)g(most)f
(operating)g(systems)f(deallocate)-34 758 y(\(and)16
b(allocate\))g(physical)f(memory)h(without)h(informing)g(applications.)
-34 799 y(This)12 b(form)g(of)h(re)o(v)o(ocation)e(has)g(lo)o(wer)h
(latenc)o(y)f(than)h(visible)f(re)o(v)o(ocation)-34 841
y(since)e(it)j(requires)d(no)h(application)g(in)o(v)o(olv)o(ement.)16
b(Its)11 b(disadv)o(antages)c(are)-34 882 y(that)12 b(library)g
(operating)f(systems)f(cannot)g(guide)g(deallocation)h(and)f(ha)o(v)o
(e)-34 924 y(no)f(kno)o(wledge)e(that)j(resources)d(are)i(scarce.)22
982 y(An)h(e)o(xokernel)e(uses)h(visible)g(re)o(v)o(ocation)g(for)i
(most)e(resources.)14 b(Ev)o(en)-34 1024 y(the)7 b(processor)t(is)g(e)o
(xplicitly)g(re)o(v)o(oked)e(at)i(the)f(end)g(of)h(a)f(time)h(slice;)h
(a)e(library)-34 1065 y(operating)12 b(system)f(can)h(react)g(by)g(sa)o
(ving)f(only)h(the)g(required)g(processor)-34 1107 y(state.)19
b(F)o(or)12 b(e)o(xample,)f(a)g(library)g(operating)g(system)f(could)g
(a)o(v)o(oid)h(sa)o(ving)-34 1148 y(the)e(\257oating)f(point)g(state)h
(or)g(other)f(re)o(gisters)h(that)g(are)f(not)h(li)o(v)o(e.)14
b(Ho)o(we)o(v)o(er)o(,)-34 1190 y(since)6 b(visible)i(re)o(v)o(ocation)
e(requires)h(interaction)g(with)h(a)f(library)h(operating)-34
1231 y(system,)13 b(in)o(visible)f(re)o(v)o(ocation)g(can)g(perform)h
(better)g(when)f(re)o(v)o(ocations)-34 1273 y(occur)d(v)o(ery)h
(frequently)n(.)15 b(Processor)8 b(addressing-conte)o(xt)f
(identi\256ers)j(are)-34 1314 y(a)j(stateless)f(resource)h(that)g(may)g
(be)g(re)o(v)o(oked)f(v)o(ery)h(frequently)g(and)g(are)-34
1356 y(best)c(handled)e(by)i(in)o(visible)g(re)o(v)o(ocation.)-34
1454 y Fo(Revo)q(cation)k(and)g(Physical)f(Naming)-34
1533 y Fn(The)e(use)g(of)i(physical)d(resource)h(names)f(requires)i
(that)g(an)f(e)o(xokernel)g(re-)-34 1574 y(v)o(eal)e(each)f(re)o(v)o
(ocation)g(to)i(the)f(rele)o(v)o(ant)f(library)i(operating)f(system)f
(so)g(that)-34 1616 y(it)k(can)d(relocate)h(its)h(physical)e(names.)13
b(F)o(or)d(instance,)e(a)h(library)h(operating)-34 1657
y(system)e(that)h(relinquishes)f(physical)f(page)g(\2525\272)h(should)g
(update)g(an)o(y)g(of)h(its)-34 1699 y(page-table)g(entries)i(that)f
(refer)h(to)g(this)g(page.)16 b(This)10 b(is)g(easy)f(for)j(a)e
(library)-34 1740 y(operating)e(system)f(to)i(do)f(when)g(it)h
(deallocates)e(a)h(resource)g(in)g(reaction)g(to)-34
1782 y(an)i(e)o(xokernel)f(re)o(v)o(ocation)g(request.)17
b(An)10 b(abort)g(protocol)h(\(discussed)d(be-)-34 1823
y(lo)o(w\))i(allo)o(ws)f(relocation)f(to)h(be)g(performed)f(when)g(an)h
(e)o(xokernel)e(forcibly)-34 1865 y(reclaims)i(a)g(resource.)22
1923 y(W)m(e)j(vie)o(w)g(the)g(re)o(v)o(ocation)f(process)g(as)g(a)h
(dialogue)f(between)g(an)g(e)o(x-)-34 1965 y(okernel)e(and)g(a)h
(library)h(operating)f(system.)15 b(Library)c(operating)e(systems)-34
2006 y(should)g(or)o(ganize)h(resource)f(lists)h(so)g(that)h(resources)
d(can)i(be)f(deallocated)-34 2048 y(quickly)n(.)k(F)o(or)c(e)o(xample,)
f(a)h(library)g(operating)f(system)g(could)g(ha)o(v)o(e)g(a)h(sim-)-34
2089 y(ple)f(v)o(ector)h(of)g(physical)e(pages)f(that)j(it)h(o)o(wns:)i
(when)c(the)g(kernel)g(indicates)-34 2131 y(that)i(some)e(page)g
(should)h(be)f(deallocated,)h(the)g(library)h(operating)f(system)-34
2172 y(selects)f(one)g(of)i(its)f(pages,)f(writes)i(it)g(to)f(disk,)g
(and)g(frees)g(it.)-34 2270 y Fo(3.4)41 b(The)14 b(Ab)q(o)o(rt)g(Proto)
q(col)-34 2349 y Fn(An)6 b(e)o(xokernel)g(must)g(also)f(be)g(able)g(to)
h(take)f(res)o(ource)o(s)h(from)g(library)g(operat-)-34
2391 y(ing)h(systems)f(that)i(fail)g(to)f(respond)f(satisfactorily)h
(to)h(re)o(v)o(ocation)f(requests.)-34 2432 y(An)j(e)o(xokernel)g(can)f
(de\256ne)g(a)h(second)f(stage)g(of)i(the)f(re)o(v)o(ocation)g
(protocol)-34 2474 y(in)j(which)f(the)g(re)o(v)o(ocation)g(request)f
(\(\252please)h(return)g(a)h(memory)f(page\272\))-34
2515 y(becomes)d(an)i(imperati)o(v)o(e)g(\(\252return)h(a)e(page)g
(within)i(50)f(microseconds\272\).)-34 2557 y(Ho)o(we)o(v)o(er)o(,)e
(if)h(a)f(library)h(operating)f(system)f(fails)h(to)h(respond)d
(quickly)n(,)i(the)-34 2598 y(secure)i(bindings)g(need)g(to)i(be)f
(broken)f(\252by)g(force.)m(\272)23 b(The)12 b(actions)f(taken)-34
2640 y(when)g(a)h(library)h(operating)e(system)h(is)g(recalcitrant)g
(are)g(de\256ned)e(by)i(the)-34 2681 y Fm(abort)c(pr)n(otocol)p
Fn(.)1118 -42 y(One)14 b(possible)f(abort)h(protocol)g(is)h(to)g
(simply)f(kill)h(an)o(y)f(library)i(op-)1062 0 y(erating)c(system)g
(and)f(its)i(associated)d(application)h(that)i(fails)f(to)h(respond)
1062 41 y(quickly)f(to)h(re)o(v)o(ocation)f(requests.)24
b(W)m(e)13 b(rejected)f(this)h(method)f(because)1062
83 y(we)f(belie)o(v)o(e)g(that)h(most)f(programmers)g(ha)o(v)o(e)g
(great)g(dif)o(\256culty)h(reasoning)1062 124 y(about)d(hard)g
(real-time)i(bounds.)i(Instead,)c(if)i(a)e(library)i(operating)e
(system)1062 166 y(fails)j(to)f(comply)g(with)h(the)g(re)o(v)o(ocation)
e(protocol,)j(an)e(e)o(xokernel)f(simply)1062 207 y(breaks)f(all)h(e)o
(xisting)g(secure)f(bindings)g(to)h(the)g(resource)f(and)g(informs)i
(the)1062 249 y(library)f(operating)e(system.)1118 307
y(T)m(o)j(record)f(the)h(forced)g(loss)f(of)i(a)f(resource,)f(we)h(use)
f(a)h Fm(r)o(eposses)o(sion)1062 348 y(vector)p Fn(.)22
b(When)12 b(an)g(e)o(xokernel)e(takes)h(a)i(resource)e(from)i(a)f
(library)h(oper)o(-)1062 390 y(ating)h(system,)h(this)g(fact)f(is)g(re)
o(gistered)g(in)h(the)f(v)o(ector)g(and)g(the)g(library)1062
431 y(operating)9 b(system)f(recei)o(v)o(es)g(a)h(\252repossession\272)
d(e)o(xception)i(so)h(that)g(it)h(can)1062 473 y(update)k(an)o(y)g
(mappings)g(that)h(use)f(the)h(resource.)29 b(F)o(or)16
b(resources)d(with)1062 514 y(state,)d(an)e(e)o(xokernel)g(can)h(write)
h(the)g(state)f(into)g(another)g(memory)g(or)h(disk)1062
556 y(resource.)k(In)c(preparation,)f(the)g(library)i(operating)e
(system)f(can)h(pre-load)1062 597 y(the)g(repossession)d(v)o(ector)k
(with)f(a)g(list)h(of)g(resources)d(that)j(can)e(be)h(used)f(for)1062
639 y(this)i(purpose.)i(F)o(or)e(e)o(xample,)f(it)i(could)d(pro)o(vide)
i(names)e(and)g(capabilities)1062 680 y(for)14 b(disk)e(blocks)g(that)h
(should)e(be)i(used)e(as)h(backing)g(store)g(for)i(physical)1062
722 y(memory)9 b(pages.)1118 780 y(Another)e(complication)g(is)h(that)g
(an)f(e)o(xokernel)g(should)f(not)i(arbitrarily)1062
822 y(choose)h(the)h(resource)g(to)h(repossess.)k(A)c(library)g
(operating)f(system)g(may)1062 863 y(use)c(some)h(physical)e(memory)i
(to)h(store)f(vital)h(bootstrap)e(information)i(such)1062
905 y(as)e(e)o(xception)g(han)o(dlers)g(an)o(d)g(p)o(age)f(tables)o(.)
10 b(The)c(simplest)g(way)g(to)g(d)o(eal)g(with)1062
946 y(this)12 b(is)g(to)g(guarantee)e(each)g(library)i(operating)f
(system)g(a)g(small)h(number)1062 988 y(of)f(resources)e(that)i(will)h
(not)f(be)f(repossessed)e(\()p Fm(e)o(.g)o(.,)13 b Fn(\256v)o(e)d(to)h
(ten)g(physical)1062 1029 y(memory)d(pages\).)k(If)d(e)o(v)o(en)e
(those)g(resources)f(must)i(be)f(repossessed,)e(some)1062
1071 y(emer)o(genc)o(y)i(e)o(xception)h(that)h(tells)g(a)f(library)h
(operating)f(system)g(to)h(submit)1062 1112 y(itself)h(to)g(a)e
(\252swap)g(serv)o(er\272)g(is)i(required.)1062 1212
y Fo(4)41 b(Status)13 b(and)g(Exp)q(erimental)g(Metho)q(dology)1062
1309 y Fn(W)m(e)8 b(ha)o(v)o(e)f(implemented)g(two)g(software)g
(systems)f(that)i(follo)o(w)g(the)g(e)o(xoker)o(-)1062
1350 y(nel)g(architecture:)k Fm(Ae)o(gis)p Fn(,)7 b(an)g(e)o(xokernel,)
g(and)g Fm(ExOS)p Fn(,)g(a)h(library)g(operating)1062
1392 y(system.)19 b(Another)10 b(prototype)h(e)o(xokernel,)f
Fm(Glaze)p Fn(,)i(is)f(being)f(b)o(uilt)i(for)g(an)1062
1434 y(e)o(xperimental)j(SP)m(ARC-based)e(shared-memory)g
(multiprocessor)i([35],)1062 1475 y(along)8 b(with)i
Fm(PhOS)p Fn(,)f(a)g(parallel)g(operating)g(system)f(library)n(.)1118
1533 y(Ae)o(gis)f(and)f(ExOS)g(are)h(implemented)f(on)g(MIPS-based)g
(DECstations.)1062 1575 y(Ae)o(gis)14 b(e)o(xports)f(the)g(processor)o
(,)g(physical)g(memory)n(,)h(TLB,)g(e)o(xceptions,)1062
1616 y(and)e(interrupts.)23 b(In)13 b(addition,)g(it)g(securely)e(e)o
(xports)h(the)h(network)e(inter)o(-)1062 1658 y(face)g(using)f(a)i
(packet)e(\256lter)i(system)e(that)i(employs)e(dynamic)h(code)f(gen-)
1062 1699 y(eration.)25 b(ExOS)13 b(implements)f(processes,)g(virtual)i
(memory)n(,)f(user)o(-le)o(v)o(el)1062 1741 y(e)o(xceptions,)e(v)o
(arious)f(interprocess)g(abstractions,)h(and)f(se)o(v)o(eral)h(network)
1062 1782 y(protocols)d(\(ARP/RARP)l(,)h(IP)l(,)h(UDP)l(,)f(and)f
(NFS\).)h(A)g(nati)o(v)o(e)g(e)o(xtensible)f(\256le)1062
1824 y(system)i(that)g(implements)h(global)f(b)o(uf)o(fer)h(management)
e(is)i(under)e(de)o(v)o(el-)1062 1865 y(opment.)20 b(Currently)n(,)12
b(our)g(prototype)f(system)f(has)h(no)g(real)g(users,)h(b)o(ut)f(is)
1062 1907 y(used)d(e)o(xtensi)o(v)o(ely)g(for)i(de)o(v)o(elopment)e
(and)g(e)o(xperimentation.)1118 1965 y(The)j(ne)o(xt)g(three)g
(sections)f(describe)g(the)h(implementation)g(of)g(Ae)o(gis,)1062
2006 y(ExOS,)f(and)g(e)o(xtensions)e(to)j(ExOS.)f(Included)f(in)i(the)f
(discussion)e(are)i(e)o(x-)1062 2048 y(periments)i(that)g(test)g(the)g
(ef)o(\256cac)o(y)f(of)h(the)g(e)o(xokernel)f(approach.)20
b(These)1062 2089 y(e)o(xperiments)8 b(test)i(four)f(hypotheses:)1118
2176 y Fg(\017)18 b Fn(Exokernels)7 b(can)i(be)f(v)o(ery)h(ef)o
(\256cient.)1118 2246 y Fg(\017)18 b Fn(Lo)o(w-le)o(v)o(el,)9
b(secure)e(multiple)o(xing)i(of)f(hardware)f(resources)g(can)g(be)1155
2288 y(implemented)i(ef)o(\256ciently)n(.)1118 2358 y
Fg(\017)18 b Fn(T)o(raditional)6 b(operating)g(system)g(a)o
(bstractions)f(ca)o(n)g(be)g(implemented)1155 2400 y(ef)o(\256ciently)k
(at)h(application)e(le)o(v)o(el.)1118 2470 y Fg(\017)18
b Fn(Applications)11 b(can)f(create)g(special-purpose)f
(implementations)h(of)1155 2512 y(these)f(abstractions.)1118
2598 y(On)k(identical)f(hardware)g(we)g(compare)g(the)g(performance)g
(of)h(Ae)o(gis)1062 2640 y(and)c(ExOS)h(with)h(the)f(performance)f(of)h
(Ultrix4.2,)i(a)e(mature)g(monolithic)1062 2681 y(UNIX)15
b(operating)g(system.)29 b(It)16 b(is)f(important)g(to)g(note)g(that)g
(Ae)o(gis)f(and)1003 2806 y(6)p eop
%%Page: 7 7
7 6 bop -9 -43 947 2 v -10 -6 2 38 v 14 -17 a Ff(Machine)p
367 -6 V 254 w(Pr)o(ocessor)p 550 -6 V 77 w(SPEC)9 b(rating)p
809 -6 V 45 w(MIPS)p 937 -6 V -9 -4 947 2 v -10 33 2
38 v 14 22 a Fe(DEC2100)e(\(12.5)g(MHz\))p 367 33 V 79
w(R2000)p 550 33 V 109 w(8.7)g(SPECint89)p 809 33 V 59
w Fd(\030)j Fe(11)p 937 33 V -9 35 947 2 v -10 72 2 38
v 14 61 a(DEC3100)d(\(16.67)g(MHz\))p 367 72 V 62 w(R3000)p
550 72 V 92 w(11.8)g(SPECint89)p 809 72 V 59 w Fd(\030)j
Fe(15)p 937 72 V -9 74 947 2 v -10 111 2 38 v 14 100
a(DEC5000/125)c(\(25)h(MHz\))p 367 111 V 45 w(R3000)p
550 111 V 92 w(16.1)g(SPECint92)p 809 111 V 59 w Fd(\030)j
Fe(25)p 937 111 V -9 113 947 2 v 216 183 a Fn(T)m(able)e(1:)14
b(Experimental)8 b(platforms.)-34 308 y(ExOS)13 b(do)f(not)h(of)o(fer)h
(the)e(same)g(le)o(v)o(el)i(of)f(functionality)g(as)f(Ultrix.)27
b(W)m(e)-34 349 y(do)9 b(not)g(e)o(xpect)f(these)g(additions)g(to)h
(cause)e(lar)o(ge)j(increases)d(in)i(our)g(timing)-34
391 y(measurements.)22 449 y(The)k(comparisons)e(with)j(Ultrix)g(serv)o
(e)f(two)g(purposes.)23 b(First,)16 b(the)o(y)-34 490
y(sho)o(w)d(that)g(there)g(is)h(much)e(o)o(v)o(erhead)h(in)g(today')n
(s)g(systems,)g(which)g(can)-34 532 y(be)f(easily)g(remo)o(v)o(ed)g(by)
g(specialized)e(implementations.)23 b(Second,)12 b(the)o(y)-34
573 y(pro)o(vide)f(a)f(well-kno)o(wn,)h(easily-accessible)d(point)j(of)
g(reference)f(for)i(un-)-34 615 y(derstanding)g(Ae)o(gis')n(s)g(and)g
(ExOS')n(s)h(performance.)24 b(Ultrix,)15 b(despite)d(its)-34
656 y(poor)d(performance)e(relati)o(v)o(e)j(to)f(Ae)o(gis,)g(is)g
Fm(not)f Fn(a)h(poorly)f(tuned)g(system;)h(it)-34 698
y(is)g(a)g(mature)g(monolithic)g(system)f(that)h(performs)g(quite)g
(well)g(in)h(compari-)-34 739 y(son)f(to)i(other)f(operating)f(systems)
g([39].)17 b(F)o(or)11 b(e)o(xample,)e(it)j(performs)e(two)-34
781 y(to)f(three)f(times)g(better)h(than)f(Mach)f(3.0)h(in)h(a)f(set)g
(of)h(I/O)g(benchmarks)d([38].)-34 822 y(Also,)12 b(its)g(virtual)g
(memory)f(performance)f(is)i(approximately)e(twice)h(that)-34
864 y(of)f(Mach)e(2.5)h(and)f(three)h(times)h(that)f(of)h(Mach)e(3.0)h
([5].)22 922 y(In)k(addition,)h(we)f(attempt)g(to)g(assess)e(Ae)o(gis')
n(s)h(and)g(ExOS')n(s)g(perfor)o(-)-34 964 y(mance)6
b(in)i(the)f(light)h(of)f(recent)g(adv)o(ances)e(in)i(operating)g
(systems)f(research.)-34 1005 y(These)f(adv)o(ances)t(ha)o(v)o(e)h
(typically)h(been)f(e)o(v)o(aluated)f(on)h(dif)o(ferent)i(hardware)-34
1047 y(and)15 b(frequently)h(use)f(e)o(xperimental)h(software,)i
(making)d(head-to-head)-34 1088 y(comparisons)10 b(impossible.)19
b(In)12 b(these)e(cases)f(we)i(base)f(our)i(comparisons)-34
1130 y(on)d(relati)o(v)o(e)h(SPECint)f(ratings)g(and)f(instruction)h
(counts.)22 1188 y(T)m(able)d(1)g(sho)o(ws)f(the)h(s)o(pe)o(ci\256c)f
(mach)o(ine)h(c)o(on\256)o(gurations)f(us)o(ed)g(in)h(the)f(e)o(x-)-34
1229 y(periments.)13 b(F)o(or)c(bre)o(vity)n(,)g(we)f(refer)h(to)f(the)
h(DEC5000/125)d(as)i(DEC5000.)-34 1271 y(The)j(three)g(machine)f
(con\256gurations)g(are)h(used)f(to)i(get)f(a)g(tentati)o(v)o(e)h(mea-)
-34 1312 y(sure)f(of)g(the)g(scalability)g(of)g(Ae)o(gis.)20
b(All)12 b(times)f(are)g(measured)f(using)g(the)-34 1354
y(\252wall-clock.)m(\272)22 b(W)m(e)12 b(used)f Fc(clock)j
Fn(on)e(the)g(Unix)g(implementations)f(and)-34 1395 y(a)i(microsecond)f
(counter)h(on)g(Ae)o(gis.)26 b(Ae)o(gis')n(s)13 b(time)h(quantum)f(was)
f(set)-34 1437 y(at)h(15.625)e(milliseconds.)23 b(All)13
b(benchmarks)e(were)h(compiled)g(using)f(an)-34 1478
y(identical)g(compiler)f(and)g(\257ags:)16 b Fc(gcc)c
Fn(v)o(ersion)f(2.6.0)f(with)i(optimization)-34 1520
y(\257ags)g(\252-O2.)m(\272)27 b(None)12 b(of)i(the)g(benchmarks)d(use)
h(\257oating-point)h(instruc-)-34 1561 y(tions;)e(therefore,)h(we)e(do)
g(not)g(sa)o(v)o(e)g(\257oating-point)g(state.)17 b(Both)10
b(systems)-34 1603 y(were)d(run)g(in)g(\252single-user\272)f(mode)g
(and)g(were)h(isolated)f(from)i(the)f(network.)22 1661
y(The)f(per)o(-operation)g(cost)g(was)g(obtaine)o(d)g(by)f(repeating)h
(the)f(operation)h(a)-34 1702 y(lar)o(ge)h(number)f(of)i(times)f(and)f
(a)o(v)o(eraging.)12 b(As)6 b(a)h(result,)h(the)f(measurements)-34
1744 y(do)h(not)f(consider)g(cold)g(start)i(misses)e(in)h(the)f(cache)f
(or)j(TLB,)f(and)f(therefore)-34 1785 y(represent)k(a)h(\252best)f
(case.)m(\272)22 b(Because,)11 b(Ultrix)i(has)e(a)h(much)g(lar)o(ger)g
(cache)-34 1827 y(and)7 b(virtual)i(memory)e(footprint)i(than)e(Ae)o
(gis,)h(this)g(form)h(of)f(measurement)-34 1869 y(is)14
b(more)g(fa)o(v)o(orable)f(to)h(Ultrix.)28 b(Because)12
b(Ultrix)j(was)e(sensiti)o(v)o(e)g(to)h(the)-34 1910
y(instance)7 b(of)i(the)f(type)f(of)i(machine)e(it)i(was)e(run)h(on,)h
(we)f(took)f(the)h(best)g(time)-34 1952 y(measured.)k(The)d(e)o
(xokernel)e(numbers)h(are)h(the)g(median)g(of)g(three)g(trials.)22
2010 y(A)h(fe)o(w)f(of)g(our)h(benchmarks)c(are)j(e)o(xtremely)h
(sensiti)o(v)o(e)e(to)i(instruction)-34 2051 y(cache)f(con\257icts.)18
b(In)12 b(some)e(cases)f(the)i(ef)o(fects)g(amounted)e(to)j(a)e(factor)
h(of)-34 2093 y(three)h(performance)g(penalty)n(.)22
b(Changing)11 b(the)h(order)h(in)f(which)g(ExOS')n(s)-34
2134 y(object)g(\256les)f(are)h(linked)f(was)g(suf)o(\256cient)h(to)g
(remo)o(v)o(e)g(most)g(con\257icts.)21 b(A)-34 2176 y(happy)10
b(side-ef)o(fect)h(of)h(using)e(application-le)o(v)o(el)h(libraries)h
(is)g(that)f(object)-34 2217 y(code)k(rearrangement)f(is)i(e)o
(xtremely)g(straightforward)f(\(i.e.,)k(a)d(\252make-)-34
2259 y(\256le\272)g(edit\).)36 b(Furthermore,)18 b(with)f(instruction)g
(cache)d(tools,)19 b(con\257icts)-34 2300 y(between)11
b(application)g(and)g(library)h(operating)f(system)g(code)g(can)g(be)g
(re-)-34 2342 y(mo)o(v)o(ed)c(automatically\320an)g(option)g(not)g(a)o
(v)o(ailable)g(to)g(applications)f(using)-34 2383 y(traditional)12
b(operating)f(systems.)18 b(W)m(e)11 b(belie)o(v)o(e)g(that)g(the)g
(lar)o(ge)g(impact)g(of)-34 2425 y(instruction)f(cache)d(con\257icts)h
(is)i(due)e(to)i(the)f(fact)g(that)h(most)f(Ae)o(gis)g(opera-)-34
2466 y(tions)g(are)f(performed)h(at)g(near)f(hardware)g(speed;)f(as)h
(a)h(result,)g(e)o(v)o(en)f(minor)-34 2508 y(con\257icts)g(are)h
(noticeable.)p 1143 -82 835 2 v 1142 -44 2 38 v 1165
-56 a Ff(System)f(call)p 1346 -44 V 45 w(Description)p
1977 -44 V 1143 -43 835 2 v 1142 -5 2 38 v 1165 -17 a
Fb(Yield)p 1346 -5 V 105 w Fe(Y)n(ield)g(processor)f(to)h(named)e
(process)p 1977 -5 V 1142 32 V 1165 21 a Fb(Scall)p 1346
32 V 105 w Fe(Synchronous)f(protected)i(control)h(transfer)p
1977 32 V 1142 69 V 1165 58 a Fb(Acall)p 1346 69 V 105
w Fe(Asynchronous)d(protected)i(control)g(transfer)p
1977 69 V 1142 107 V 1165 96 a Fb(Alloc)p 1346 107 V
105 w Fe(Allocation)g(of)h(resources)f(\()p Fa(e.g.,)g
Fe(physical)g(page\))p 1977 107 V 1142 144 V 1165 133
a Fb(Dealloc)p 1346 144 V 65 w Fe(Deallocation)g(of)h(resources)p
1977 144 V 1143 146 835 2 v 1170 217 a Fn(T)m(able)g(2:)14
b(A)9 b(subset)f(of)h(the)g(Ae)o(gis)g(system)f(call)i(interface.)p
1154 310 814 2 v 1153 348 2 38 v 1176 336 a Ff(Primitive)e(operations)p
1488 348 V 44 w(Description)p 1966 348 V 1154 349 814
2 v 1153 387 2 38 v 1176 375 a Fb(TLBwr)p 1488 387 V
235 w Fe(Insert)g(mapping)e(into)i(TLB)p 1966 387 V 1153
424 V 1176 413 a Fb(FPUmod)p 1488 424 V 215 w Fe(Enable/disable)f(FPU)p
1966 424 V 1153 461 V 1176 450 a Fb(CIDswitch)p 1488
461 V 155 w Fe(Install)h(context)f(identi\256er)p 1966
461 V 1153 499 V 1176 488 a Fb(TLBvadelete)p 1488 499
V 115 w Fe(Delete)h(virtual)g(address)f(from)h(TLB)p
1966 499 V 1154 500 814 2 v 1182 571 a Fn(T)m(able)g(3:)14
b(A)9 b(sample)f(of)i(Ae)o(gis')n(s)f(primiti)o(v)o(e)i(operations.)
1062 696 y Fo(5)41 b(Aegis:)18 b(an)13 b(Exok)o(ernel)1062
792 y Fn(This)18 b(section)g(describes)e(the)j(implementation)f(and)g
(performance)f(of)1062 834 y(Ae)o(gis.)c(The)c(performance)f(numbers)g
(demonstrate)g(that)h(Ae)o(gis)g(and)f(lo)o(w-)1062 875
y(le)o(v)o(el)j(multiple)o(xing)g(can)f(be)g(implemented)f(ef)o
(\256ciently)n(.)17 b(W)m(e)11 b(describe)e(in)1062 917
y(detail)h(ho)o(w)f(Ae)o(gis)h(multiple)o(x)o(es)g(the)f(processor)o(,)
f(dispatches)g(e)o(xceptions,)1062 958 y(translates)h(addresses,)f
(transfers)i(control)g(between)e(address)g(spaces,)g(and)1062
1000 y(multiple)o(x)o(es)i(the)f(network.)1062 1100 y
Fo(5.1)41 b(Aegis)13 b(Overview)1118 1179 y Fn(T)m(able)g(2)g(lists)h
(a)g(subset)e(of)h(the)h(Ae)o(gis)f(interface.)26 b(W)m(e)14
b(discuss)e(the)1062 1221 y(implementation)f(of)h(most)f(of)h(the)f
(system)f(calls)h(in)h(this)f(section.)20 b(Ae)o(gis)1062
1262 y(also)12 b(supports)f(a)h(set)g(of)h Fm(primitive)g(oper)o
(ations)e Fn(that)h(encapsulate)e(pri)o(vi-)1062 1304
y(le)o(ged)d(instructions)f(and)g(are)h(guaranteed)e(not)i(to)g(alter)g
(application-visible)1062 1345 y(re)o(gisters)j(\(see)g(T)m(able)f(3)h
(for)h(some)e(typical)h(e)o(xamples\).)15 b(These)9 b(primiti)o(v)o(e)
1062 1387 y(operations)f(can)g(be)g(vie)o(wed)g(as)g
(pseudo-instructions)f(\(similar)k(to)e(the)g(Al-)1062
1428 y(pha')n(s)j(use)f(of)i(P)m(ALcode)e([45)o(]\).)26
b(In)12 b(this)h(subsection)e(we)h(e)o(xamine)g(ho)o(w)1062
1470 y(Ae)o(gis)i(protects)f(time)h(slices)f(and)g(processor)f(en)o
(vironments;)j(other)f(re-)1062 1511 y(sources)7 b(are)i(protected)g
(as)f(described)g(in)h(Section)g(3.)1062 1612 y Fo(5.1.1)41
b(Pro)q(cesso)o(r)12 b(Time)i(Slices)1062 1691 y Fn(Ae)o(gis)e
(represents)g(the)g(CPU)g(as)g(a)h(linear)g(v)o(ector)o(,)g(where)f
(each)f(element)1062 1732 y(corresponds)c(to)i(a)f(time)i(slice.)j(T)o
(ime)c(slices)f(are)h(partitioned)g(at)g(the)f(clock)1062
1774 y(granularity)14 b(and)f(can)g(be)h(allocated)f(in)h(a)g(manner)f
(similar)i(to)f(physical)1062 1815 y(memory)n(.)30 b(Scheduling)14
b(is)h(done)f(\252round)f(robin\272)i(by)g(c)o(ycling)f(through)1062
1857 y(the)d(v)o(ector)f(of)h(time)h(slices.)17 b(A)11
b(crucial)f(property)h(of)g(this)g(representation)1062
1899 y(is)h Fm(position)p Fn(,)g(which)f(encodes)e(an)i(ordering)h(and)
f(an)g(approximate)f(upper)1062 1940 y(bound)f(on)h(when)f(the)i(time)g
(slice)f(will)i(be)d(run.)18 b(Position)10 b(can)f(be)h(used)f(to)1062
1982 y(meet)d(deadlines)f(and)g(to)i(trade)f(of)o(f)h(latenc)o(y)f(for)
h(throughput.)12 b(F)o(or)7 b(e)o(xample,)1062 2023 y(a)g(long-running)
g(scienti\256c)g(application)g(could)f(allocate)h(contiguous)f(time)
1062 2065 y(slices)h(in)g(order)g(to)h(minimize)g(the)f(o)o(v)o(erhead)
f(of)i(conte)o(xt)f(switching,)g(while)1062 2106 y(an)14
b(interacti)o(v)o(e)h(application)f(could)g(allocate)h(se)o(v)o(eral)f
(equidistant)g(time)1062 2148 y(slices)8 b(to)i(maximize)e(responsi)o
(v)o(eness.)1118 2206 y(T)o(imer)e(interrupts)g(denote)g(the)g(be)o
(ginning)g(and)g(e)o(nd)g(o)o(f)g(time)g(slices,)t(and)1062
2247 y(are)h(deli)o(v)o(ered)g(in)g(a)g(manner)f(similar)i(to)g(e)o
(xceptions)d(\(discussed)g(belo)o(w\):)13 b(a)1062 2289
y(re)o(gister)c(is)g(sa)o(v)o(ed)f(in)h(the)f(\252interrupt)h(sa)o(v)o
(e)f(area,)m(\272)h(the)f(e)o(xception)g(program)1062
2330 y(counter)h(is)g(loaded,)g(and)g(Ae)o(gis)g(jumps)g(to)h(user)o
(-speci\256ed)e(interrupt)i(han-)1062 2372 y(dling)i(code)f(with)i
(interrupts)f(re-enabled.)22 b(The)11 b(application')n(s)h(handlers)
1062 2413 y(are)e(responsible)f(for)i(general-purpose)e(conte)o(xt)h
(switching:)16 b(sa)o(ving)9 b(and)1062 2455 y(restoring)h(li)o(v)o(e)h
(re)o(gisters,)h(releasing)d(locks,)h Fm(etc)p Fn(.)17
b(This)10 b(frame)o(work)g(gi)o(v)o(es)1062 2496 y(applications)g(a)h
(lar)o(ge)g(de)o(gree)f(of)h(control)g(o)o(v)o(er)h(conte)o(xt)e
(switching.)19 b(F)o(or)1062 2538 y(e)o(xample,)9 b(it)h(can)e(be)h
(used)e(to)j(implement)f(scheduler)f(acti)o(v)o(ations)g([4].)1118
2596 y(F)o(airness)d(is)i(achie)o(v)o(ed)t(by)f(bounding)t(the)g(time)h
(an)e(application)h(takes)t(to)1062 2637 y(sa)o(v)o(e)g(its)i(conte)o
(xt:)k(each)5 b(subsequent)g(timer)j(interrupt)f(\(which)g(demarcates)
1062 2679 y(a)g(time)g(slice\))h(is)f(recorded)f(in)h(an)f(e)o(xcess)f
(time)j(counter)n(.)k(Applications)6 b(pay)1003 2806
y(7)p eop
%%Page: 8 8
8 7 bop -34 -42 a Fn(for)8 b(each)e(e)o(xcess)f(time)j(slice)f
(consumed)e(by)h(forfeiting)j(a)e(subsequen)o(t)e(time)-34
0 y(slice.)13 b(If)8 b(the)g(e)o(xcess)d(time)j(counter)f(e)o(xceeds)e
(a)j(predetermined)e(threshold,)-34 41 y(the)11 b(en)o(vironment)f(is)h
(destroyed.)17 b(In)11 b(a)g(more)g(friendly)h(implementation,)-34
83 y(Ae)o(gis)d(could)f(perform)h(a)g(complete)f(conte)o(xt)g(switch)h
(for)g(the)g(application.)22 141 y(This)g(simple)g(scheduler)f(can)g
(support)h(a)g(wide)g(range)g(of)g(higher)o(-le)o(v)o(el)-34
182 y(scheduling)c(policies.)13 b(As)6 b(we)h(demonstrate)f(in)h
(Section)f(7,)i(an)e(application)-34 224 y(can)i(enforce)h
(proportional)g(sharing)f(on)h(a)g(collection)f(of)i(sub-processes)o(.)
-34 324 y Fo(5.1.2)41 b(Pro)q(cesso)o(r)12 b(Environments)-34
403 y Fn(An)h(Ae)o(gis)g(processor)e(en)o(vironment)g(is)i(a)g
(structure)g(that)g(stores)f(the)h(in-)-34 445 y(formation)h(needed)e
(to)i(deli)o(v)o(er)g(e)o(v)o(ents)f(to)h(applications.)26
b(All)15 b(resource)-34 486 y(consumption)5 b(is)j(associated)t(with)g
(an)f(en)o(vironment)e(because)g(Ae)o(gis)i(must)-34
528 y(deli)o(v)o(er)h(e)o(v)o(ents)f(associated)e(with)j(a)g(resource)e
(\(such)h(as)g(re)o(v)o(ocation)f(e)o(xcep-)-34 569 y(tions\))k(to)f
(its)h(designated)d(o)o(wner)n(.)22 627 y(F)o(our)k(kinds)e(of)h(e)o(v)
o(ents)f(are)h(deli)o(v)o(ered)g(by)g(Ae)o(gis:)15 b(e)o(xceptions,)9
b(inter)o(-)-34 669 y(rupts,)h(protected)e(control)h(transfers,)h(and)e
(address)f(translations.)13 b(Proces-)-34 711 y(sor)7
b(en)o(vironments)e(contain)h(the)h(four)g(conte)o(xts)g(required)f(to)
h(support)g(these)-34 752 y(e)o(v)o(ents:)22 810 y Fi(Exception)13
b(context)p Fn(:)23 b(for)14 b(each)f(e)o(xception)g(an)g(e)o(xception)
g(conte)o(xt)-34 852 y(contains)d(a)i(program)f(counter)g(for)h(where)f
(to)h(jump)g(to)g(and)e(a)i(pointer)f(to)-34 893 y(physical)d(memory)h
(for)h(sa)o(ving)e(re)o(gisters.)22 951 y Fi(Interrupt)j(context)p
Fn(:)19 b(for)13 b(each)e(interrupt)i(an)f(interrupt)h(conte)o(xt)f
(in-)-34 993 y(cludes)h(a)h(program)g(counters)f(and)g(re)o(gister)o
(-sa)o(v)o(e)i(re)o(gion.)29 b(In)14 b(the)g(case)-34
1034 y(of)9 b(timer)h(interrupts,)g(the)f(interrupt)g(conte)o(xt)g
(speci\256es)d(separate)i(program)-34 1076 y(counters)14
b(for)h(start-time-slice)h(and)d(end-time-slice)i(cases,)f(as)g(well)h
(as)-34 1117 y(status)8 b(re)o(gister)h(v)o(alues)e(that)i(control)f
(co-processor)e(and)i(interrupt-enable)-34 1159 y(\257ags.)22
1217 y Fi(Pr)o(otected)k(Entry)g(context)p Fn(:)20 b(a)12
b(protected)g(entry)h(conte)o(xt)f(speci\256es)-34 1258
y(program)6 b(counters)f(for)j(synchronous)s(and)d(asynchronous)s
(protected)h(con-)-34 1300 y(trol)12 b(transfers)f(from)h(other)f
(applications.)17 b(Ae)o(gis)11 b(allo)o(ws)g(an)o(y)f(processor)-34
1341 y(en)o(vironment)j(to)i(transfer)g(control)f(into)h(an)o(y)f
(other;)k(access)12 b(control)j(is)-34 1383 y(managed)7
b(by)i(the)g(application)f(itself.)22 1441 y Fi(Addr)o(essing)k
(context)p Fn(:)23 b(an)13 b(addressing)f(conte)o(xt)i(consists)e(of)i
(a)g(set)-34 1483 y(of)d Fm(guar)o(anteed)e(mappings)p
Fn(.)18 b(A)11 b(TLB)g(miss)f(on)h(a)f(virtual)i(address)d(that)j(is)
-34 1524 y(mapped)h(by)g(a)h(guaranteed)e(mapping)h(is)h(handled)e(by)i
(Ae)o(gis.)27 b(Library)-34 1566 y(operating)11 b(systems)f(rely)i(on)g
(guaranteed)d(mappings)i(for)h(bootstrapping)-34 1607
y(page-tables,)h(e)o(xception)e(handling)h(code,)h(and)f(e)o(xception)f
(stacks.)23 b(The)-34 1649 y(addressing)5 b(conte)o(xt)i(also)g
(includes)f(an)h(address)e(space)h(identi\256er)o(,)h(a)g(status)-34
1690 y(re)o(gister)o(,)13 b(and)e(a)h(tag)g(used)e(to)i(hash)f(into)h
(the)g(Ae)o(gis)f(software)h(TLB)f(\(see)-34 1732 y(Section)h(5.4\).)25
b(T)m(o)13 b(switch)g(from)g(one)f(en)o(vironment)g(to)h(another)o(,)g
(Ae)o(gis)-34 1773 y(must)c(install)h(these)e(three)h(v)o(alues.)22
1831 y(These)f(are)i(the)g(e)o(v)o(ent-handling)e(conte)o(xts)h
(required)g(to)h(de\256ne)f(a)g(pro-)-34 1873 y(cess.)j(Each)c(conte)o
(xt)g(depends)e(on)j(the)f(others)g(for)i(v)o(alidity:)k(for)9
b(e)o(xample,)-34 1914 y(an)k(addressing)e(conte)o(xt)i(does)e(not)j
(make)d(sense)h(without)h(an)g(e)o(xception)-34 1956
y(conte)o(xt,)d(since)f(it)i(does)e(not)g(de\256ne)g(an)o(y)g(action)h
(to)g(take)f(when)g(an)g(e)o(xcep-)-34 1997 y(tion)h(or)f(interrupt)h
(occurs.)-34 2098 y Fo(5.2)41 b(Base)13 b(Costs)-34 2177
y Fn(The)h(base)f(cost)h(for)i(null)f(procedure)e(and)h(system)f(calls)
h(are)h(sho)o(wn)e(in)-34 2218 y(T)m(able)h(4.)29 b(The)13
b(null)i(procedure)e(call)h(sho)o(ws)f(that)i(Ae)o(gis')n(s)f
(scheduling)-34 2260 y(\257e)o(xibility)c(does)d(not)i(add)f(o)o(v)o
(erhead)f(to)i(base)e(operations.)13 b(Ae)o(gis)8 b(has)g(two)-34
2301 y(system)k(call)h(paths:)21 b(the)12 b(\256rst)i(for)g(system)e
(calls)g(that)h(do)g(not)g(require)g(a)-34 2343 y(stack,)8
b(the)h(second)d(for)k(those)d(that)i(do.)k(W)o(ith)c(the)g(e)o
(xception)e(of)i(protected)-34 2384 y(control)h(transfers,)h(which)e
(are)h(treated)g(as)f(a)h(special)f(case)f(for)j(ef)o(\256cienc)o(y)n
(,)-34 2426 y(all)i(Ae)o(gis)f(system)f(calls)h(are)h(v)o(ectored)e
(along)h(one)f(of)i(these)e(two)h(paths.)-34 2467 y(Ultrix')n(s)i
Fc(getpid)i Fn(is)d(approximately)f(an)h(order)g(of)g(magnitude)f(slo)o
(wer)-34 2509 y(than)f(Ae)o(gis')n(s)f(slo)o(west)h(system)f(call)h
(path\320this)g(suggests)e(that)i(the)g(base)-34 2550
y(cost)d(of)g(demultiple)o(xing)g(system)f(calls)h(is)g
(signi\256cantly)f(higher)h(in)g(Ultrix.)-34 2592 y(P)o(art)h(of)g(the)
f(reason)e(Ultrix)k(is)e(so)g(much)f(less)g(ef)o(\256cient)h(on)g(this)
g(basic)f(oper)o(-)-34 2633 y(ation)g(is)h(that)g(it)g(performs)f(a)g
(more)h(e)o(xpensi)o(v)o(e)e(demultiple)o(xing)h(operation.)-34
2675 y(F)o(or)j(e)o(xample,)f(on)h(a)f(MIPS)h(processor)o(,)e(kernel)g
(TLB)i(faults)f(are)g(v)o(ectored)p 1154 -43 813 2 v
1153 -6 2 38 v 1185 -17 a Ff(Machine)p 1331 -6 V 81 w(OS)p
1455 -6 V 45 w(Pr)o(ocedur)o(e)g(call)p 1704 -6 V 44
w(Syscall)f(\(getpid\))p 1966 -6 V 1154 -4 813 2 v 1153
33 2 38 v 1176 22 a Fe(DEC2100)p 1331 33 V 44 w(Ultrix)p
1455 33 V 191 w(0.57)p 1704 33 V 203 w(32.2)p 1966 33
V 1153 70 V 1176 59 a(DEC2100)p 1331 70 V 46 w(Aegis)p
1455 70 V 190 w(0.56)p 1704 70 V 152 w(3.2)g(/)h(4.7)p
1966 70 V 1154 72 813 2 v 1153 109 2 38 v 1176 98 a(DEC3100)p
1331 109 V 44 w(Ultrix)p 1455 109 V 191 w(0.42)p 1704
109 V 203 w(33.7)p 1966 109 V 1153 147 V 1176 135 a(DEC3100)p
1331 147 V 46 w(Aegis)p 1455 147 V 190 w(0.42)p 1704
147 V 152 w(2.9)f(/)h(3.5)p 1966 147 V 1154 148 813 2
v 1153 186 2 38 v 1176 174 a(DEC5000)p 1331 186 V 44
w(Ultrix)p 1455 186 V 191 w(0.28)p 1704 186 V 203 w(21.3)p
1966 186 V 1153 223 V 1176 212 a(DEC5000)p 1331 223 V
46 w(Aegis)p 1455 223 V 190 w(0.28)p 1704 223 V 152 w(1.6)f(/)h(2.3)p
1966 223 V 1154 225 813 2 v 1062 295 a Fn(T)m(able)j(4:)21
b(T)o(ime)13 b(to)g(perform)g(null)g(procedure)f(and)g(system)g(calls.)
24 b(T)m(wo)1062 337 y(numbers)6 b(are)h(listed)g(for)g(Ae)o(gis')n(s)g
(system)f(calls:)12 b(the)7 b(\256rst)g(for)h(system)e(calls)1062
378 y(that)11 b(do)f(not)h(use)f(a)g(stack,)h(the)f(second)f(for)j
(those)e(that)h(do.)18 b(T)o(imes)10 b(are)g(in)1062
420 y(microseconds.)p 1121 506 880 2 v 1120 543 2 38
v 1152 532 a Ff(Machine)p 1298 543 V 81 w(OS)p 1422 543
V 45 w(unalign)p 1574 543 V 46 w(over\257ow)p 1739 543
V 42 w(copr)o(oc)p 1879 543 V 59 w(pr)o(ot)p 1999 543
V 1121 545 880 2 v 1120 582 2 38 v 1143 571 a Fe(DEC2100)p
1298 582 V 44 w(Ultrix)p 1422 582 V 111 w(n/a)p 1574
582 V 91 w(208.0)p 1739 582 V 98 w(n/a)p 1879 582 V 45
w(238.0)p 1999 582 V 1120 620 V 1143 609 a(DEC2100)p
1298 620 V 46 w(Aegis)p 1422 620 V 109 w(2.8)p 1574 620
V 124 w(2.8)p 1739 620 V 98 w(2.8)p 1879 620 V 78 w(3.0)p
1999 620 V 1121 621 880 2 v 1120 659 2 38 v 1143 648
a(DEC3100)p 1298 659 V 44 w(Ultrix)p 1422 659 V 111 w(n/a)p
1574 659 V 91 w(151.0)p 1739 659 V 98 w(n/a)p 1879 659
V 45 w(177.0)p 1999 659 V 1120 696 V 1143 685 a(DEC3100)p
1298 696 V 46 w(Aegis)p 1422 696 V 109 w(2.1)p 1574 696
V 124 w(2.1)p 1739 696 V 98 w(2.1)p 1879 696 V 78 w(2.3)p
1999 696 V 1121 698 880 2 v 1120 735 2 38 v 1143 724
a(DEC5000)p 1298 735 V 44 w(Ultrix)p 1422 735 V 111 w(n/a)p
1574 735 V 91 w(130.0)p 1739 735 V 98 w(n/a)p 1879 735
V 45 w(154.0)p 1999 735 V 1120 772 V 1143 761 a(DEC5000)p
1298 772 V 46 w(Aegis)p 1422 772 V 109 w(1.5)p 1574 772
V 124 w(1.5)p 1739 772 V 98 w(1.5)p 1879 772 V 78 w(1.5)p
1999 772 V 1121 774 880 2 v 1062 846 a Fn(T)m(able)g(5:)16
b(T)o(ime)10 b(to)h(dispatch)e(an)h(e)o(xception)g(in)g(Ae)o(gis)h(and)
e(Ultrix;)k(times)1062 887 y(are)c(in)g(microseconds.)1062
1004 y(through)i(the)h(same)f(fault)h(handler)f(as)g(system)g(calls.)22
b(Therefore,)12 b(Ultrix)1062 1046 y(must)7 b(take)g(great)g(care)g
(not)g(to)h(disturb)f(an)o(y)g(re)o(gisters)h(that)f(will)i(be)e
(required)1062 1087 y(to)13 b(\252patch)f(up\272)f(an)i(interrupted)f
(TLB)h(miss.)24 b(Because)11 b(Ae)o(gis)h(does)g(not)1062
1129 y(map)f(its)h(data)g(structures)f(\(and)g(has)g(no)g(page)f
(tables\))i(it)h(can)d(a)o(v)o(oid)i(such)1062 1170 y(intricacies.)h(W)
m(e)c(e)o(xpect)e(this)i(to)g(be)f(the)g(common)g(case)f(with)i(e)o
(xokernels.)1062 1270 y Fo(5.3)41 b(Exceptions)1062 1350
y Fn(Ae)o(gis)11 b(dispatches)d(all)k(hardware)d(e)o(xceptions)h(to)h
(applications)e(\(sa)o(v)o(e)i(for)1062 1391 y(system)6
b(calls\))g(using)g(tec)o(hn)o(iques)f(s)o(imilar)h(to)g(those)f(des)o
(cribed)g(in)h(Th)o(ekk)o(ath)1062 1433 y(and)k(Le)o(vy)g([50].)20
b(T)m(o)11 b(dispatch)f(an)h(e)o(xception,)f(Ae)o(gis)h(performs)g(the)
g(fol-)1062 1474 y(lo)o(wing)e(actions:)1109 1562 y(1.)18
b(It)g(sa)o(v)o(es)d(three)h(scratch)f(re)o(gisters)i(into)g(an)e
(agreed-upon)g(\252sa)o(v)o(e)1155 1604 y(area.)m(\272)j(\(T)m(o)11
b(a)o(v)o(oid)g(TLB)f(e)o(xceptions,)g(Ae)o(gis)h(does)e(this)i
(operation)1155 1645 y(using)e(physical)e(addresses.\))1109
1717 y(2.)18 b(It)8 b(loads)d(the)h(e)o(xception)f(program)h(counter)o
(,)f(the)h(last)g(virtual)h(address)1155 1758 y(that)14
b(failed)f(to)g(ha)o(v)o(e)g(a)f(v)o(alid)i(translation,)g(and)e(the)h
(cause)e(of)j(the)1155 1800 y(e)o(xception.)1109 1871
y(3.)k(It)9 b(uses)e(the)h(cause)e(of)i(the)g(e)o(xception)f(to)h
(perform)h(an)e(indirect)i(jump)1155 1913 y(to)g(an)f
(application-speci\256ed)e(program)i(counter)g(v)o(alue,)g(where)g(e)o
(x-)1155 1954 y(ecution)g(resumes)g(with)h(the)g(appropriate)f
(permissions)g(set)g(\()p Fm(i.e)o(.,)j Fn(in)1155 1996
y(user)o(-mode)e(with)h(interrupts)f(re-enabled\).)1062
2084 y(After)d(processing)g(an)g(e)o(xce)o(ption,)t(applications)g(can)
g(immediately)f(resume)1062 2125 y(e)o(x)o(ecution)11
b(without)i(entering)f(the)g(kernel.)21 b(Ensuring)11
b(that)i(applications)1062 2167 y(can)c(return)h(from)h(their)f(o)o(wn)
f(e)o(xceptions)f(\(without)j(kernel)e(interv)o(ention\))1062
2208 y(requires)e(that)h(all)h(e)o(xception)d(state)i(be)f(a)o(v)o
(ailable)g(for)i(user)e(reconstruction.)1062 2250 y(This)f(means)g
(that)g(all)g(re)o(gisters)g(that)g(are)g(sa)o(v)o(ed)g(must)g(be)g(in)
g(us)o(er)o(-acce)o(ss)o(ible)1062 2291 y(memory)j(locations.)1118
2349 y(Currently)n(,)i(Ae)o(gis)f(dispatches)e(e)o(xceptions)h(in)i(18)
e(instructions.)17 b(The)1062 2391 y(lo)o(w-le)o(v)o(el)8
b(nature)e(of)h(Ae)o(gis)g(allo)o(ws)f(an)g(e)o(xtremely)h(ef)o
(\256cient)f(implementa-)1062 2432 y(tion:)16 b(the)9
b(time)i(for)g(e)o(xception)d(dispatching)h(on)g(a)h
(DECstation5000/125)1062 2474 y(is)j(1.5)g(microseconds.)23
b(This)13 b(time)h(is)f(o)o(v)o(er)g(\256v)o(e)g(times)g(faster)g(than)
g(the)1062 2515 y(most)i(highly-tuned)g(implementation)g(in)h(the)g
(literature)g(\(8)g(microsec-)1062 2557 y(onds)10 b(on)g
(DECstation5000/200)f([50)o(],)k(a)d(machine)g(that)h(is)g(1.2)f
(faster)h(on)1062 2598 y(SPECint92)g(than)g(our)g
(DECstation5000/125\).)19 b(P)o(art)12 b(of)f(the)h(reason)e(for)1062
2640 y(this)e(impro)o(v)o(ement)f(is)h(that)f(Ae)o(gis)g(does)f(not)i
(use)e(mapped)g(data)h(structures,)1062 2681 y(and)h(so)h(does)f(not)h
(ha)o(v)o(e)g(to)h(separate)e(kernel)g(TLB)h(misses)f(from)i(the)g
(more)1003 2806 y(8)p eop
%%Page: 9 9
9 8 bop -34 -42 a Fn(general)15 b(class)f(of)i(e)o(xceptions)e(in)i
(its)g(e)o(xception)f(demultiple)o(xing)g(rou-)-34 0
y(tine.)24 b(F)o(ast)12 b(e)o(xceptions)f(enable)h(a)g(number)g(of)g
(intriguing)h(applications:)-34 41 y(ef)o(\256cient)d(page-protection)f
(traps)h(can)g(be)f(used)g(by)h(applications)f(such)g(as)-34
83 y(distrib)o(uted)15 b(shared)d(memory)i(systems,)g(persistent)g
(object)f(stores,)i(and)-34 124 y(garbage)8 b(collectors)g([5,)i(50)o
(].)22 182 y(T)m(able)i(5)g(sho)o(ws)f(e)o(xception)g(dispatch)g(times)
i(for)g(unaligned)e(pointer)-34 224 y(accesses)d(\()p
Fi(unalign)p Fn(\),)j(arithmetic)h(o)o(v)o(er\257o)o(w)e(\()p
Fi(over\257ow)p Fn(\),)f(attempted)i(use)-34 265 y(of)f(the)g
(\257oating)f(point)h(co-processor)e(when)h(it)i(is)f(disabled)e(\()p
Fi(copr)o(oc)p Fn(\))h(and)-34 307 y(access)i(to)j(protected)f(pages)e
(\()p Fi(pr)o(ot)p Fn(\).)28 b(The)13 b(times)g(for)h
Fi(unalign)f Fn(are)h(not)-34 348 y(a)o(v)o(ailable)c(under)h(Ultrix)h
(since)e(the)h(kernel)f(attempts)h(to)g(\252\256x)f(up\272)g(an)h(un-)
-34 390 y(aligned)d(access)d(and)j(writes)g(an)g(error)h(message)d(to)i
(standard)f(error)n(.)14 b(Addi-)-34 431 y(tionally)n(,)8
b(Ultrix)g(does)e(not)h(allo)o(w)g(applications)f(to)h(disable)f
(co-processors,)-34 473 y(and)j(hence)f(cannot)h(utilize)i(the)f
Fi(copr)o(oc)e Fn(e)o(xception.)15 b(T)o(imes)9 b(are)h(gi)o(v)o(en)f
(in)-34 514 y(T)m(able)f(5.)13 b(In)8 b(each)f(case,)h(Ae)o(gis')n(s)g
(e)o(xception)f(dispatch)g(times)h(are)g(approx-)-34
556 y(imately)i(two)f(orders)f(of)i(magnitude)e(faster)h(than)f
(Ultrix.)-34 655 y Fo(5.4)41 b(Address)13 b(T)m(ranslations)-34
735 y Fn(This)d(section)f(looks)g(at)i(two)f(problems)f(in)i
(supporting)e(application-le)o(v)o(el)-34 776 y(virtual)i(memory:)16
b(bootstrapping)10 b(and)f(ef)o(\256cienc)o(y)n(.)16
b(An)11 b(e)o(xokernel)e(must)-34 818 y(pro)o(vide)f(support)f(for)i
(bootstrapping)e(the)h(virtual)h(naming)e(system)g(\()p
Fm(i.e)o(.,)k Fn(it)-34 859 y(must)d(support)f(translation)g(e)o
(xceptions)f(on)h(both)g(application)g(page-tables)-34
901 y(and)h(e)o(xception)g(code\).)k(Ae)o(gis)d(pro)o(vides)f(a)g
(simple)h(bootstrapping)e(mech-)-34 942 y(anism)j(through)f(the)h(use)f
(of)i(a)f(small)g(number)f(of)i(guaranteed)d(mappings.)-34
984 y(A)i(miss)g(on)f(a)g(guaranteed)f(mapping)h(will)i(be)e(handled)g
(automatically)g(by)-34 1025 y(Ae)o(gis.)24 b(This)13
b(or)o(ganization)f(frees)g(the)h(application)f(from)h(dealing)f(with)
-34 1067 y(the)d(intricacies)g(of)g(boot-strapping)g(TLB)f(miss)h(and)g
(e)o(xception)f(handlers,)-34 1108 y(which)j(can)g(take)g(TLB)g
(misses.)20 b(T)m(o)12 b(implement)f(guaranteed)f(mappings)-34
1150 y(ef)o(\256ciently)n(,)f(an)g(application')n(s)f(virtual)i
(address)d(space)h(is)h(partitioned)g(into)-34 1191 y(two)g(se)o
(gments.)j(The)c(\256rst)h(se)o(gment)e(holds)h(normal)h(application)e
(data)h(and)-34 1233 y(code.)k(V)n(irtual)d(addresses)d(in)j(the)f(se)o
(gment)f(can)h(be)f(\252pinned\272)g(using)g(guar)o(-)-34
1274 y(anteed)j(mappings)f(and)h(typically)h(holds)f(e)o(xception)f
(handling)h(code)f(and)-34 1316 y(page-tables.)22 1374
y(On)g(a)g(TLB)g(miss,)g(the)g(follo)o(wing)h(actions)e(occur:)13
1458 y(1.)19 b(Ae)o(gis)7 b(checks)f(which)h(se)o(gment)g(the)h
(virtual)g(address)e(resides)h(in.)14 b(If)60 1500 y(it)9
b(is)f(in)h(the)f(standard)f(user)h(se)o(gment,)g(the)g(e)o(xception)f
(is)i(dispatched)60 1541 y(directly)16 b(to)h(the)f(application.)35
b(If)18 b(it)f(is)g(in)f(the)h(second)d(re)o(gion,)60
1583 y(Ae)o(gis)9 b(\256rst)h(checks)d(to)j(see)f(if)i(it)f(is)g(a)f
(guaranteed)f(mapping.)14 b(If)d(so,)60 1624 y(Ae)o(gis)d(installs)g
(the)g(TLB)g(entry)h(and)e(continues;)h(otherwise,)g(Ae)o(gis)60
1666 y(forwards)g(it)i(to)g(the)f(application.)13 1735
y(2.)19 b(The)8 b(application)h(looks)f(up)h(the)g(virtual)h(address)e
(in)h(its)h(page-table)60 1777 y(structure)i(and,)h(if)g(the)f(access)e
(is)j(not)f(allo)o(wed)g(raises)g(the)g(appro-)60 1818
y(priate)e(e)o(xception)e(\()p Fm(e)o(.g)o(.,)k Fn(\252se)o(gmentation)
c(fault\272\).)16 b(If)11 b(the)f(mapping)60 1860 y(is)i(v)o(alid,)h
(the)e(application)g(constructs)g(the)h(appropriate)f(TLB)h(en-)60
1902 y(try)f(and)f(its)h(associated)e(capability)h(and)g(in)o(v)o(okes)
f(the)h(appropriate)60 1943 y(Ae)o(gis)e(system)h(routine.)13
2013 y(3.)19 b(Ae)o(gis)c(checks)f(that)i(the)g(gi)o(v)o(en)g
(capability)f(corresponds)f(to)i(the)60 2054 y(access)c(rights)j
(requested)e(by)i(the)f(application.)30 b(If)16 b(it)g(does,)f(the)60
2096 y(mapping)7 b(is)h(installed)g(in)g(the)g(TLB)g(and)f(control)h
(is)h(returned)e(to)i(the)60 2137 y(application.)j(Otherwise)d(an)g
(error)h(is)f(returned.)13 2207 y(4.)19 b(The)8 b(application)g
(performs)i(cleanup)d(and)h(resumes)g(e)o(x)o(ecution.)22
2291 y(In)h(order)f(to)h(support)f(application-le)o(v)o(el)g(virtual)h
(memory)f(ef)o(\256ciently)n(,)-34 2333 y(TLB)13 b(re\256lls)g(must)g
(be)f(fast.)25 b(T)m(o)13 b(this)g(end,)h(Ae)o(gis)e(caches)f(TLB)i
(entries)-34 2374 y(\(a)g(form)g(of)g(secure)e(bindings\))h(in)g(the)g
(kernel)g(by)g(o)o(v)o(erlaying)g(the)h(hard-)-34 2416
y(ware)f(TLB)h(with)g(a)f(lar)o(ge)h(software)f(TLB)h(\(STLB\))g(to)g
(absorb)e(capacity)-34 2457 y(misses)6 b([7,)h(28].)13
b(On)7 b(a)f(TLB)h(miss,)g(Ae)o(gis)g(\256rst)g(checks)e(to)i(see)e
(whether)i(the)-34 2499 y(required)g(mapping)e(is)i(in)g(the)g(STLB.)f
(If)i(so,)f(Ae)o(gis)g(installs)f(it)i(and)e(resumes)-34
2540 y(e)o(x)o(ecution;)j(otherwise,)g(the)g(miss)g(is)g(forwarded)g
(to)g(the)g(application.)22 2598 y(The)i(STLB)g(contains)g(4096)f
(entries)i(of)g(8)g(bytes)e(each.)20 b(It)13 b(is)f(direct-)-34
2640 y(mapped)6 b(and)g(resides)g(in)h(unmapped)e(physical)g(memory)n
(.)12 b(An)7 b(STLB)g(\252hit\272)-34 2681 y(takes)h(18)h(instructions)
g(\(approximately)h(one)e(to)i(two)f(microseconds\).)k(In)p
1183 -43 754 2 v 1182 -6 2 38 v 1239 -17 a Ff(OS)p 1304
-6 V 54 w(Machine)p 1482 -6 V 116 w(MHz)p 1670 -6 V 45
w(T)n(ransfer)7 b(cost)p 1936 -6 V 1183 -4 754 2 v 1182
33 2 38 v 1206 22 a Fe(Aegis)p 1304 33 V 44 w(DEC2100)p
1482 33 V 60 w(12.5MHz)p 1670 33 V 43 w(2.9)p 1936 33
V 1182 70 V 1206 59 a(Aegis)p 1304 70 V 44 w(DEC3100)p
1482 70 V 43 w(16.67MHz)p 1670 70 V 43 w(2.2)p 1936 70
V 1182 108 V 1206 96 a(Aegis)p 1304 108 V 44 w(DEC5000)p
1482 108 V 85 w(25MHz)p 1670 108 V 43 w(1.4)p 1936 108
V 1182 145 V 1246 134 a(L3)p 1304 145 V 128 w(486)p 1482
145 V 85 w(50MHz)p 1670 145 V 43 w(9.3)h(\(normalized\))p
1936 145 V 1183 147 754 2 v 1062 217 a Fn(T)m(able)f(6:)13
b(T)o(ime)8 b(to)h(perform)f(a)g(\(unidirectional\))h(protected)e
(control)h(trans-)1062 259 y(fer;)i(times)g(are)f(in)g(microseconds.)
1062 380 y(contrast,)h(performing)h(an)f(upcall)g(to)g(application)g
(le)o(v)o(el)g(on)g(a)g(TLB)g(miss,)1062 422 y(follo)o(wed)g(by)f(a)h
(system)e(call)i(to)g(install)g(a)g(ne)o(w)f(mapping)g(is)g(at)h(least)
g(three)1062 463 y(to)f(six)g(microseconds)e(more)i(e)o(xpensi)o(v)o
(e.)1118 522 y(As)f(dictated)f(by)g(the)h(e)o(xokernel)f(principle)g
(of)i(e)o(xposing)d(kernel)h(book-)1062 563 y(keeping)j(structures,)i
(the)f(STLB)g(can)g(be)g(mapped)f(using)g(a)i(well-kno)o(wn)1062
605 y(capability)n(,)7 b(which)f(allo)o(ws)h(applications)e(to)i(ef)o
(\256ciently)g(probe)f(for)h(entries.)1062 705 y Fo(5.5)41
b(Protected)14 b(Control)e(T)m(ransfers)1062 784 y Fn(Ae)o(gis)6
b(pro)o(vides)g(a)g Fm(pr)n(ote)o(cted)f(con)o(tr)n(ol)h(tr)o(ansfe)o
(r)g Fn(me)o(cha)o(nism)f(as)g(a)g(sub)o(strate)1062
826 y(for)11 b(ef)o(\256cient)e(implementations)g(of)i(IPC)f
(abstractions.)k(Operationally)n(,)c(a)1062 867 y(protected)5
b(control)h(transfer)h(changes)s(the)f(program)g(counter)f(to)i(an)e
(agreed-)1062 909 y(upon)h(v)o(alue)g(in)g(the)h(callee,)g(donates)e
(the)h(current)h(time)g(slice)g(to)g(the)f(callee')n(s)1062
950 y(processor)13 b(en)o(vironment,)h(and)f(installs)i(the)f(required)
g(elements)f(of)i(the)1062 992 y(callee')n(s)e(processor)f(conte)o(xt)h
(\(addressing-conte)o(xt)f(identi\256er)o(,)j(address-)1062
1033 y(space)7 b(tag,)j(and)e(processor)f(status)i(word\).)1118
1091 y(Ae)o(gis)j(pro)o(vides)f(two)h(forms)h(of)f(protected)g(control)
g(transfers:)19 b Fm(syn-)1062 1133 y(c)o(hr)n(onous)12
b Fn(and)i Fm(async)o(hr)n(onous)o Fn(.)27 b(The)14 b(dif)o(ference)g
(between)f(the)h(two)g(is)1062 1174 y(what)d(happens)d(to)j(the)f
(processor)f(time)j(slice.)17 b(Asynchronous)8 b(calls)j(do-)1062
1216 y(nate)d(only)h(the)f(remainder)g(of)h(the)g(current)g(time)g
(slice)f(to)h(the)g(callee.)k(Syn-)1062 1257 y(chronous)8
b(calls)i(donate)f(the)h(current)h(time)f(and)g(all)g(future)h
(instantiations)1062 1299 y(of)j(it;)i(the)d(callee)f(can)h(return)g
(the)g(time)h(slice)f(via)g(a)g(synchronous)d(con-)1062
1340 y(trol)i(transfer)f(call)g(back)e(to)i(the)g(original)g(caller)n
(.)19 b(Both)10 b(forms)h(of)g(control)1062 1382 y(transfer)g
(guarantee)d(two)j(important)f(properties.)17 b(First,)12
b(to)e(applications,)1062 1423 y(a)i(protected)f(control)i(transfer)f
(is)g(atomic:)20 b(once)11 b(initiated)i(it)g(will)g(reach)1062
1465 y(the)8 b(callee.)k(Second,)7 b(Ae)o(gis)g(will)i(not)f(o)o(v)o
(erwrite)h(an)o(y)e(application-visible)1062 1506 y(re)o(gister)n(.)13
b(These)5 b(two)h(properties)f(allo)o(w)i(the)f(lar)o(ge)g(re)o(gister)
h(sets)e(of)h(modern)1062 1548 y(processors)h(to)i(be)g(used)f(as)g(a)h
(temporary)g(message)e(b)o(uf)o(fer)j([14].)1118 1606
y(Currently)n(,)f(our)f(synchronous)e(protected)h(control)i(transfer)f
(operation)1062 1647 y(takes)g(30)h(instructions.)k(Roughly)8
b(ten)i(of)f(these)f(instructions)h(are)g(used)f(to)1062
1689 y(distinguish)f(the)h(system)e(call)i(\252e)o(xception\272)e(from)
j(other)f(hardware)e(e)o(xcep-)1062 1730 y(tions)h(on)f(the)h(MIPS)g
(architecture.)12 b(Setting)7 b(the)f(status,)h(co-processor)o(,)e(and)
1062 1772 y(address-tag)10 b(re)o(gisters)h(consumes)e(the)i(remaining)
g(20)g(instructions,)g(and)1062 1814 y(could)d(bene\256t)g(from)i
(additional)e(optimizations.)13 b(Because)7 b(Ae)o(gis)i(imple-)1062
1855 y(ments)h(the)g(minimum)h(functionality)f(required)g(for)h(an)o(y)
f(control)g(transfer)1062 1897 y(mechanism,)15 b(applications)f(can)g
(ef)o(\256ciently)g(construct)g(their)i(o)o(wn)e(IPC)1062
1938 y(abstractions.)e(Sections)c(6)h(and)g(7)g(pro)o(vide)g(e)o
(xamples.)1118 1996 y(T)m(able)14 b(6)h(sho)o(ws)f(the)h(performance)f
(in)h(microseconds)e(of)i(a)g(\252bare-)1062 2038 y(bone\272)10
b(protected)g(control)h(transfer)n(.)21 b(This)11 b(time)g(is)h(deri)o
(v)o(ed)f(by)g(di)o(viding)1062 2079 y(the)c(time)g(to)g(perform)h(a)e
(call)h(and)f(reply)h(in)g(half)h(\()p Fm(i.e)o(.,)h
Fn(we)e(measure)e(the)i(time)1062 2121 y(to)j(perform)g(a)g
(unidirectional)f(control)h(transfer\).)16 b(Since)9
b(the)h(e)o(xperiment)1062 2162 y(is)d(intended)g(to)g(measure)f(the)h
(cost)g(of)g(protected)g(control)g(transfer)h(only)n(,)f(no)1062
2204 y(re)o(gisters)i(are)f(sa)o(v)o(ed)g(and)f(restored.)13
b(Ho)o(we)o(v)o(er)o(,)8 b(due)g(to)h(our)f(measurement)1062
2245 y(code,)g(the)g(time)h(includes)f(the)g(o)o(v)o(erhead)g(of)g
(incrementing)g(a)h(counter)e(and)1062 2287 y(performing)i(a)g(branch.)
1118 2345 y(W)m(e)e(attempt)h(a)e(crude)h(comparison)e(of)j(our)f
(protected)f(control)h(transfer)1062 2386 y(operation)12
b(to)h(the)f(equi)o(v)o(alent)f(operation)h(on)g(L3)h([33)o(].)25
b(The)12 b(L3)g(imple-)1062 2428 y(mentation)d(is)g(the)h(fastest)e
(published)g(result,)i(b)o(ut)f(it)i(runs)e(on)f(an)h(Intel)h(486)1062
2469 y(DX-50)g(\(50)g(MHz\).)16 b(F)o(or)10 b(T)m(able)f(6,)h(we)g
(scaled)e(the)i(published)e(L3)i(results)1062 2511 y(\(5)15
b(microseconds\))e(by)h(the)h(SPECint92)e(rating)j(of)e(Ae)o(gis')n(s)h
(DEC5000)1062 2552 y(and)g(L3')n(s)g(486)h(\(16.1)f(vs.)33
b(30.1\).)h(Ae)o(gis')n(s)16 b(trusted)f(control)h(transfer)1062
2594 y(mechanism)11 b(is)i(6.6)f(times)h(faster)f(than)g(the)h(scaled)e
(time)i(for)h(L3')n(s)e(RPC)1062 2635 y(mechanism.)1003
2806 y(9)p eop
%%Page: 10 10
10 9 bop 121 -43 687 2 v 120 -6 2 38 v 144 -17 a Ff(Filter)p
365 -6 V 165 w(Cold)9 b(Cache)p 575 -6 V 44 w(W)n(arm)f(Cache)p
807 -6 V 121 -4 687 2 v 120 33 2 38 v 144 22 a Fe(MPF)p
365 33 V 285 w(71.0)p 575 33 V 173 w(35.0)p 807 33 V
121 35 687 2 v 120 72 2 38 v 144 61 a(P)m(A)l(THFINDER)p
365 72 V 153 w(39.0)p 575 72 V 173 w(19.0)p 807 72 V
121 74 687 2 v 120 111 2 38 v 144 100 a(DPF)p 365 111
V 308 w(7.5)p 575 111 V 190 w(1.5)p 807 111 V 121 113
687 2 v -34 184 a Fn(T)m(able)h(7:)15 b(T)o(ime)10 b(on)g(a)f
(DEC5000/200)f(to)i(classify)g(TCP/IP)g(headers)e(des-)-34
226 y(tined)h(for)h(one)e(of)i(ten)f(TCP/IP)g(\256lters;)h(times)f(are)
g(in)h(microseconds.)22 347 y(Architectural)j(characteristics)e(of)i
(the)f(Intel)h(486)e(partially)i(account)-34 389 y(for)g(Ae)o(gis')n(s)
e(better)h(performance.)21 b(L3)11 b(pays)g(a)g(hea)o(vy)g(penalty)g
(to)h(enter)-34 430 y(and)7 b(lea)o(v)o(e)h(the)g(kernel)g(\(71)g(and)f
(36)h(c)o(ycles,)g(respecti)o(v)o(ely\))f(and)h(must)g(\257ush)-34
472 y(the)h(TLB)g(on)g(a)g(conte)o(xt)f(switch.)-34 572
y Fo(5.6)41 b(Dynamic)13 b(P)o(ack)o(et)g(Filter)g(\(DPF\))-34
651 y Fn(Ae)o(gis')n(s)g(network)f(subsystem)f(uses)h(aggressi)o(v)o(e)
f(dynamic)h(code)g(gener)o(-)-34 693 y(ation)h(techniques)e(to)i(pro)o
(vide)g(ef)o(\256cient)f(message)f(demultiple)o(xing)h(and)-34
734 y(handling.)18 b(W)m(e)11 b(brie\257y)g(discuss)e(some)h(ke)o(y)g
(features)g(of)h(this)h(system.)17 b(A)-34 776 y(complete)8
b(discussion)f(can)i(be)f(found)h(in)g([22].)22 834 y(Message)j
(demultiple)o(xing)i(is)g(the)f(process)f(of)j(determining)e(which)-34
876 y(application)f(an)h(incoming)f(message)f(should)h(be)g(deli)o(v)o
(ered)h(to.)26 b(P)o(acket)-34 917 y(\256lters)15 b(are)f(a)h(well-kno)
o(wn)f(technique)f(used)g(to)i(implement)f(e)o(xtensible)-34
959 y(kernel)d(demultiple)o(xing)h([6,)h(56)o(].)23 b(T)o(raditionally)
n(,)13 b(packet)d(\256lters)i(are)g(in-)-34 1000 y(terpreted,)18
b(which)d(entails)h(a)g(high)f(computational)g(cost.)33
b(Ae)o(gis)16 b(uses)-34 1042 y(Dynamic)e(P)o(acket)f(Filter)j
(\(DPF\),)f(a)f(ne)o(w)g(packet)f(\256lter)i(system)f(that)h(is)-34
1083 y(o)o(v)o(er)10 b(an)e(order)i(of)f(magnitude)f(more)h(ef)o
(\256cient)g(than)g(pre)o(vious)f(systems.)22 1141 y(The)j(ke)o(y)g(in)
h(our)f(approach)f(to)i(making)f(\256lters)h(run)g(fast)f(is)h(dynamic)
-34 1183 y(code)e(generation.)18 b(Dynamic)10 b(code)g(generation)g(is)
h(the)f(creation)h(of)g(e)o(x)o(e-)-34 1224 y(cutable)e(code)f(at)i
Fm(runtime)p Fn(.)k(DPF)c(e)o(xploits)f(dynamic)g(code)f(generation)g
(in)-34 1266 y(two)k(ways:)18 b(\(1\))13 b(by)e(using)g(it)i(to)f
(eliminate)h(interpretation)f(o)o(v)o(erhead)f(by)-34
1307 y(compiling)e(packet)f(\256lters)i(to)g(e)o(x)o(ecutable)e(code)g
(when)h(the)o(y)g(are)h(installed)-34 1349 y(into)16
b(the)g(kernel)f(and)g(\(2\))h(by)g(using)f(\256lter)h(constants)e(to)i
(aggressi)o(v)o(ely)-34 1390 y(optimize)c(this)g(e)o(x)o(ecutable)e
(code.)20 b(T)m(o)11 b(gain)g(portability)n(,)i(DPF)f(compiles)-34
1432 y(\256lters)i(using)f Fh(VCODE)p Fn(,)i(a)e(portable,)i(v)o(ery)f
(fast,)h(dynamic)e(code)f(genera-)-34 1473 y(tion)d(system)f([20].)14
b Fh(VCODE)8 b Fn(generates)f(machine)h(code)f(in)j(approximately)-34
1515 y(10)h(instructions)g(per)g(generated)f(instruction)h(and)f(runs)h
(on)g(a)g(number)f(of)-34 1556 y(machines)e(\()p Fm(e)o(.g)o(.,)j
Fn(MIPS,)e(Alpha)g(and)f(SP)m(ARC\).)22 1614 y(W)m(e)k(measured)f(DPF')
n(s)h(time)h(to)f(classify)g(packets)e(destined)h(for)h(one)-34
1656 y(of)f(ten)e(TCP/IP)i(\256lters,)g(and)e(compare)g(its)i(times)f
(to)g(times)g(for)h(MPF)f([56])-34 1697 y(\(a)15 b(widely)g(used)f
(packet)f(\256lter)j(engine\))e(and)g(P)m(A)l(THFINDER)h([6])g(\(the)
-34 1739 y(fastest)10 b(packet)f(\256lter)i(engine)e(in)i(the)f
(literature\).)19 b(T)m(able)10 b(7)g(presents)f(both)-34
1780 y(the)g(\252cold-cache\272)e(and)h(\252warm-cache\272)f(times)i
(to)h(perform)f(this)h(message)-34 1822 y(classi\256cation.)32
b(W)m(arm)16 b(cache)e(refers)i(to)g(two)g(properties.)33
b(First,)19 b(the)-34 1863 y(packet)14 b(\256lter)j(is)e(in)h(the)g
(processor)e(cache.)31 b(Second,)16 b(both)f(MPF)g(and)-34
1905 y(P)m(A)l(THFINDER)6 b(\(b)o(ut)g(not)g(DPF\))g(maintain)g(a)g
(cac)o(he)f(of)h(\256lters)g(that)g(rece)o(ntly)-34 1946
y(accepted)f(messages.)10 b(This)c(e)o(xperiment)h(and)f(the)g(numbers)
g(for)h(both)g(MPF)-34 1988 y(and)h(P)m(A)l(THFINDER)h(are)g(taken)f
(from)h([6)q(].)22 2046 y(T)m(o)14 b(ensure)g(meaningful)f(comparisons)
g(between)g(the)h(systems,)h(we)-34 2088 y(ran)h(our)g(DPF)g(e)o
(xperiments)f(on)h(the)g(same)f(hardware)g(\(a)h(DECstation)-34
2129 y(5000/200\))c(in)h(user)f(space.)23 b(F)o(or)13
b(cold)g(cache)e(performance)g(we)i(ensure)-34 2171 y(that)d(the)g
(\256lter)h(code)e(does)g(not)g(reside)h(in)g(the)g(instruction)g
(cache)e(by)i(allo-)-34 2212 y(cating)g(64)h(contigous)e(pages,)h
(placing)g(the)g(\256lter)i(code)d(at)i(the)g(be)o(ginning)-34
2254 y(of)k(each)e(page,)i(and)f(c)o(ycling)g(through)g(these)g(pages)f
(in)i(\252round-robin\272)-34 2295 y(order)n(.)27 b(Because)11
b(the)j(DECStation5000)e(has)h(a)g(physically-addresse)o(d,)-34
2337 y(direct-mapped)c(cache)g(and)g(because)f(Ultrix)k(guarentees)c
(that)i(contigous)-34 2378 y(virtual)k(pages)e(within)i(a)g
(page-aligned)d(64K-re)o(gion)j(will)h(not)e(con\257ict,)-34
2420 y(this)e(methodology)f(is)h(suf)o(\256cient)g(to)g(ensure)f(that)h
(the)g(\256lter)h(is)f(not)g(in)h(the)-34 2461 y(instruction)d(cache.)j
(It)e(is)f(unclear)g(why)f(the)h(performance)f(dif)o(ference)h(be-)-34
2503 y(tween)i(warm)g(and)g(cold)g(caches)e(for)j(MPF)f(and)g(P)m(A)l
(THFINDER)f(is)i(only)-34 2544 y(a)g(factor)g(of)g(two.)21
b(Due)12 b(to)g(its)g(use)f(of)h(dynamic)f(code)f(generation,)i(DPF)-34
2586 y(is)g(10)e(to)i(20)f(times)g(faster)g(than)g(MPF)h(and)e(\256v)o
(e)h(to)h(10)f(times)g(faster)g(than)-34 2627 y(P)m(A)l(THFINDER.)p
1180 -43 761 2 v 1179 -6 2 38 v 1211 -17 a Ff(Machine)p
1357 -6 V 81 w(OS)p 1481 -6 V 59 w(pipe)p 1600 -6 V 46
w(pipe')p 1717 -6 V 61 w(shm)p 1837 -6 V 46 w(lrpc)p
1940 -6 V 1180 -4 761 2 v 1179 33 2 38 v 1202 22 a Fe(DEC2100)p
1357 33 V 44 w(Ultrix)p 1481 33 V 45 w(326.0)p 1600 33
V 75 w(n/a)p 1717 33 V 44 w(187.0)p 1837 33 V 62 w(n/a)p
1940 33 V 1179 70 V 1202 59 a(DEC2100)p 1357 70 V 44
w(ExOS)p 1481 70 V 62 w(30.9)p 1600 70 V 57 w(24.8)p
1717 70 V 61 w(12.4)p 1837 70 V 44 w(13.9)p 1940 70 V
1180 72 761 2 v 1179 109 2 38 v 1202 98 a(DEC3100)p 1357
109 V 44 w(Ultrix)p 1481 109 V 45 w(243.0)p 1600 109
V 75 w(n/a)p 1717 109 V 44 w(139.0)p 1837 109 V 62 w(n/a)p
1940 109 V 1179 147 V 1202 135 a(DEC3100)p 1357 147 V
44 w(ExOS)p 1481 147 V 62 w(22.6)p 1600 147 V 57 w(18.6)p
1717 147 V 78 w(9.3)p 1837 147 V 44 w(10.4)p 1940 147
V 1180 148 761 2 v 1179 186 2 38 v 1202 174 a(DEC5000)p
1357 186 V 44 w(Ultrix)p 1481 186 V 45 w(199.0)p 1600
186 V 75 w(n/a)p 1717 186 V 44 w(118.0)p 1837 186 V 62
w(n/a)p 1940 186 V 1179 223 V 1202 212 a(DEC5000)p 1357
223 V 44 w(ExOS)p 1481 223 V 62 w(14.2)p 1600 223 V 57
w(10.7)p 1717 223 V 78 w(5.7)p 1837 223 V 61 w(6.3)p
1940 223 V 1180 225 761 2 v 1062 295 a Fn(T)m(able)j(8:)24
b(T)o(ime)15 b(for)g(IPC)g(using)f(pipes,)h(shared)f(memory)n(,)h(and)f
(LRPC)1062 337 y(on)d(ExOS)g(and)g(Ultrix;)j(times)e(are)g(in)f
(microseconds.)19 b(Pipe)11 b(and)g(shared)1062 378 y(memory)e(are)g
(unidirectional,)g(while)g(LRPC)g(is)g(bidirectional.)1062
503 y Fo(5.7)41 b(Summa)o(ry)1062 582 y Fn(The)13 b(main)g(conclusion)f
(we)h(dra)o(w)h(from)g(these)e(e)o(xperiments)h(is)g(that)h(an)1062
624 y(e)o(xokernel)8 b(can)h(be)g(implemented)g(ef)o(\256ciently)n(.)15
b(The)9 b(reasons)f(for)j(Ae)o(gis')n(s)1062 665 y(good)d(performance)g
(are)h(the)g(follo)o(wing.)14 b(One,)9 b(keeping)f(track)h(of)g(o)o
(wner)o(-)1062 707 y(ship)h(is)g(a)g(simple)g(task)g(and)f(can)g
(therefore)i(be)e(implemented)h(ef)o(\256ciently)n(.)1062
748 y(T)m(wo,)e(since)f(the)h(kernel)g(pro)o(vides)f(v)o(ery)i(little)h
(functionality)e(be)o(yond)f(lo)o(w-)1062 790 y(le)o(v)o(el)13
b(multiple)o(xing,)i(it)g(is)e(small)g(and)f(lean:)21
b(for)14 b(instance,)f(it)h(keeps)d(its)1062 831 y(data)d(structures)f
(in)h(physical)f(memory)n(.)13 b(Three,)8 b(by)f(caching)g(secure)f
(bind-)1062 873 y(ings)i(in)g(a)g(software)g(TLB,)h(most)f(hardware)f
(TLB)h(misses)f(can)g(be)h(handled)1062 914 y(ef)o(\256ciently)n(.)14
b(F)o(our)o(,)9 b(by)g(do)o(wnloading)f(packets)g(\256lters)h(and)g(by)
g(employing)1062 956 y(dynamic)14 b(code)f(generation,)j(secure)d
(binding)h(to)h(the)g(network)f(can)g(be)1062 997 y(implemented)8
b(ef)o(\256ciently)n(.)1062 1098 y Fo(6)41 b(ExOS:)13
b(a)g(Lib)o(ra)o(ry)f(Op)q(erating)g(System)1062 1194
y Fn(The)f(most)g(unusual)f(aspect)g(of)i(ExOS)f(is)g(that)h(it)g
(manages)e(fundamental)1062 1236 y(operating)j(system)g(abstractions)f
(\()p Fm(e)o(.g)o(.,)k Fn(virtual)f(memory)e(and)g(process\))1062
1277 y(at)i Fm(application)g(le)o(vel)p Fn(,)j(completely)c(within)i
(the)f(address)f(space)f(of)j(the)1062 1319 y(application)d(that)g(is)h
(using)f(it.)27 b(This)13 b(section)g(demonstrates)f(that)i(basic)1062
1360 y(system)e(abstractions)g(can)h(be)g(implemented)f(at)i
(application)e(le)o(v)o(el)i(in)g(a)1062 1402 y(direct)d(and)f(ef)o
(\256cient)h(manner)n(.)18 b(Due)10 b(to)h(space)e(constraints)h(we)h
(focus)f(on)1062 1443 y(IPC,)g(virtual)g(memory)n(,)f(and)f(remote)h
(communication.)1062 1544 y Fo(6.1)41 b(IPC)14 b(Abstractions)1062
1623 y Fn(F)o(ast)6 b(interprocess)f(communication)g(is)i(crucial)f
(for)h(b)o(uilding)f(ef)o(\256cient)g(and)1062 1664 y(decoupled)f
(systems)i([8,)h(27)o(,)h(33)o(].)14 b(As)7 b(described)f(in)i(Section)
f(5,)h(the)g(Ae)o(gis)1062 1706 y(protected)13 b(control)g(transfer)h
(mechanism)e(is)h(an)g(ef)o(\256cient)g(substrate)g(for)1062
1747 y(implementing)7 b(IPC)g(abstractions.)12 b(This)7
b(section)f(describes)f(e)o(xperiments)1062 1789 y(used)12
b(to)h(measure)f(the)h(performance)f(of)i(ExOS')n(s)f(IPC)g
(abstractions)f(on)1062 1830 y(top)g(of)h(the)f(Ae)o(gis)g(primiti)o(v)
o(es.)24 b(The)12 b(results)f(of)i(these)e(e)o(xperiments)h(are)1062
1872 y(summarized)c(in)h(T)m(able)g(8.)k(The)c(e)o(xperiments)f(are:)
1118 1930 y Fi(pipe)p Fn(:)21 b(measures)11 b(the)i(latenc)o(y)g(of)g
(sending)e(a)i(word-sized)f(message)1062 1972 y(from)6
b(one)g(process)g(to)f(an)o(other)h(us)o(ing)f(pipes)g(by)g(\252p)o
(ing-pon)o(ging\272)g(a)g(cou)o(nter)1062 2013 y(between)j(two)g
(processes.)j(The)d(Ultrix)i Fi(pipe)f Fn(implementation)f(uses)g
(stan-)1062 2055 y(dard)i(UNIX)i(pipes.)18 b(The)10 b(ExOS)g
Fi(pipe)h Fn(implementation)f(uses)g(a)g(shared-)1062
2096 y(memory)d(circular)g(b)o(uf)o(fer)n(.)14 b(Writes)7
b(to)h(full)g(b)o(uf)o(fers)f(and)f(reads)g(from)i(empty)1062
2138 y(ones)d(cause)g(the)i(current)g(time)g(slice)g(to)g(be)f(yielded)
g(by)g(the)h(current)f(process)1062 2179 y(to)k(the)g(reader)g(or)g
(writer)i(of)e(the)g(b)o(uf)o(fer)o(,)h(respecti)o(v)o(ely)n(.)k(W)m(e)
10 b(use)f(two)h(pipe)1062 2221 y(implementations:)16
b(the)10 b(\256rst)h(is)g(a)f(nai)o(v)o(e)g(implementation)g(\()p
Fi(pipe)p Fn(\),)i(while)1062 2262 y(the)e(second)e(\()p
Fi(pipe')p Fn(\))j(e)o(xploits)f(the)f(fact)h(that)g(this)h(library)f
(e)o(xists)g(in)g(appli-)1062 2304 y(cation)i(space)e(by)i(simply)g
(inlining)h(the)f(read)f(and)h(write)h(calls.)22 b(ExOS')n(s)1062
2345 y(unoptimized)12 b Fi(pipe)g Fn(implementation)g(is)h(an)f(order)g
(of)h(magnitude)f(more)1062 2387 y(ef)o(\256cient)d(than)g(the)g(equi)o
(v)o(alent)f(operation)g(under)h(Ultrix.)1118 2445 y
Fi(shm)p Fn(:)k(measures)5 b(the)i(time)h(for)g(two)g(processes)t(to)g
(\252ping-pong\272)d(using)1062 2486 y(a)k(shared)f(counter)n(.)14
b(ExOS)9 b(uses)f(Ae)o(gis')n(s)h Fc(yield)j Fn(system)c(call)i(to)g
(switch)1062 2528 y(between)g(partners.)21 b(Ultrix)13
b(does)d(not)i(pro)o(vide)f(a)h Fc(yield)i Fn(primiti)o(v)o(e,)g(so)
1062 2569 y(we)7 b(synthesized)t(it)h(using)e(signals.)12
b(ExOS')n(s)6 b Fi(shm)h Fn(is)g(15)f(to)h(20)g(times)g(faster)1062
2611 y(than)k(Ultrix')n(s)i Fi(shm)p Fn(.)22 b(ExOS')n(s)11
b Fi(shm)g Fn(is)h(about)f(twice)h(as)f(fast)g(as)h(its)g
Fi(pipe)1062 2652 y Fn(implementation,)d(which)g(must)g(manipulate)f
(circular)i(b)o(uf)o(fers.)994 2806 y(10)p eop
%%Page: 11 11
11 10 bop 243 -43 443 2 v 242 -6 2 38 v 275 -17 a Ff(Machine)p
420 -6 V 80 w(OS)p 544 -6 V 45 w(matrix)p 685 -6 V 243
-4 443 2 v 242 33 2 38 v 265 22 a Fe(DEC2100)p 420 33
V 44 w(Ultrix)p 544 33 V 100 w(7.1)p 685 33 V 242 70
V 265 59 a(DEC2100)p 420 70 V 44 w(ExOS)p 544 70 V 100
w(7.0)p 685 70 V 243 72 443 2 v 242 109 2 38 v 265 98
a(DEC3100)p 420 109 V 44 w(Ultrix)p 544 109 V 100 w(5.2)p
685 109 V 242 147 V 265 135 a(DEC3100)p 420 147 V 44
w(ExOS)p 544 147 V 100 w(5.2)p 685 147 V 243 148 443
2 v 242 186 2 38 v 265 174 a(DEC5000)p 420 186 V 44 w(Ultrix)p
544 186 V 100 w(3.8)p 685 186 V 242 223 V 265 212 a(DEC5000)p
420 223 V 44 w(ExOS)p 544 223 V 100 w(3.7)p 685 223 V
243 225 443 2 v -34 296 a Fn(T)m(able)9 b(9:)k(T)o(ime)c(to)h(perform)f
(a)g(150x150)e(matrix)j(multiplication;)h(time)e(in)-34
338 y(seconds.)22 455 y Fi(lrpc)p Fn(:)18 b(this)12 b(e)o(xperiment)g
(measures)e(the)i(time)g(to)g(perform)h(an)e(LRPC)-34
496 y(into)d(another)e(address)g(space,)g(increment)h(a)g(counter)g
(and)f(return)i(its)g(v)o(alue.)-34 538 y(ExOS')n(s)i(LRPC)h(is)f(b)o
(uilt)i(on)e(top)h(of)g(Ae)o(gis')n(s)g(protected)f(control)g(transfer)
-34 579 y(mechanism.)18 b Fi(lrpc)11 b Fn(sa)o(v)o(es)f(all)h
(general-purpose)e(callee-sa)o(v)o(ed)h(re)o(gisters.)-34
621 y(The)g Fi(lrpc)f Fn(implementation)i(assumes)d(that)i(only)h(a)f
(single)g(function)g(is)g(of)-34 662 y(interest)g(\()p
Fm(e)o(.g)o(.,)h Fn(it)f(does)e(not)h(use)f(the)i(RPC)f(number)f(to)i
(inde)o(x)f(into)g(a)g(table\))-34 704 y(and)14 b(it)i(does)e(not)h
(check)e(permissions.)30 b(The)14 b(implementation)h(is)g(also)-34
745 y(single-threaded.)22 803 y(Because)8 b(Ultrix)j(is)e(b)o(uilt)i
(around)e(a)g(set)g(of)h(\256x)o(ed)f(high-le)o(v)o(el)h(abstrac-)-34
845 y(tions,)d(ne)o(w)g(primiti)o(v)o(es)g(can)f(be)g(added)f(only)i
(by)f(emulating)g(them)h(on)f(top)g(of)-34 886 y(e)o(xisting)i(ones.)k
(Speci\256cally)n(,)7 b(implementations)h(of)g Fi(lrpc)f
Fn(must)h(use)g(pipes)-34 928 y(or)k(signals)e(to)h(transfer)h
(control.)20 b(The)10 b(cost)h(of)h(such)d(emulation)i(is)h(high:)-34
969 y(on)e(Ultrix,)i Fi(lrpc)e Fn(using)f(pipes)h(costs)f(46)h(to)g(60)
g(more)g(than)g(on)g(ExOS)f(and)-34 1011 y(using)e(signals)f(costs)h
(26)g(to)h(37)f(more)g(than)g(on)g(ExOS.)g(These)f(e)o(xperiments)-34
1052 y(indicate)i(that)g(an)g(Ultrix)h(user)f(either)g(pays)f
(substantially)g(in)i(performance)-34 1094 y(for)h(ne)o(w)f
(functionality)n(,)g(or)g(is)h(forced)e(to)i(modify)f(the)g(kernel.)-34
1194 y Fo(6.2)41 b(Application-level)11 b(Virtual)h(Memo)o(ry)-34
1273 y Fn(ExOS)k(pro)o(vides)f(a)h(rudimentary)g(virtual)h(memory)f
(system)f(\(approxi-)-34 1315 y(mately)10 b(1000)e(lines)h(of)h(hea)o
(vily)f(commented)f(code\).)14 b(Its)c(two)f(main)h(limi-)-34
1356 y(tations)e(are)g(that)g(it)h(does)e(not)g(handle)g(swapping)f
(and)h(that)i(page-tables)d(are)-34 1398 y(implemented)k(as)f(a)h
(linear)h(v)o(ector)f(\(address)f(translations)h(are)g(looked)f(up)-34
1439 y(in)f(this)f(structure)h(using)e(binary)h(search\).)12
b(Barring)c(these)e(two)h(limitations,)-34 1481 y(its)12
b(interface)e(is)h(richer)g(than)g(other)g(virtual)h(memory)e(systems)g
(we)g(kno)o(w)-34 1522 y(of.)18 b(It)11 b(pro)o(vides)f(\257e)o(xible)g
(support)f(for)i(aliasing,)g(sharing,)f(disabling)f(and)-34
1564 y(enabling)i(of)h(caching)f(on)g(a)h(per)o(-page)f(basis,)h
(speci\256c)f(page-allocation,)-34 1606 y(and)d(DMA.)22
1664 y(The)h(o)o(v)o(erhead)f(of)i(application-le)o(v)o(el)f(memory)g
(is)g(measured)f(by)h(per)o(-)-34 1705 y(forming)j(a)f(150)g(by)f(150)h
(inte)o(ger)h(matrix)g(multiplication.)20 b(Because)9
b(this)-34 1747 y(nai)o(v)o(e)k(v)o(ersion)h(of)g(matrix)g(multiply)g
(does)f(not)g(use)g(an)o(y)g(of)h(the)g(special)-34 1788
y(abilities)i(of)g(ExOS)f(or)h(Ae)o(gis)g(\()p Fm(e)o(.g)o(.,)j
Fn(page-coloring)14 b(to)i(reduce)e(cache)-34 1830 y(con\257icts\),)e
(we)g(e)o(xpect)f(it)i(to)f(perform)g(equi)o(v)o(alently)f(on)h(both)f
(operating)-34 1871 y(systems.)h(The)7 b(times)h(in)g(T)m(able)g(9)g
(indicate)f(that)h(application-le)o(v)o(el)g(virtual)-34
1913 y(memory)j(does)f(not)h(add)f(noticeable)g(o)o(v)o(erhead)g(to)i
(operations)e(that)h(ha)o(v)o(e)-34 1954 y(reasonable)f(virtual)j
(memory)f(footprints.)23 b(Of)13 b(course,)f(this)h(is)f(hardly)g(a)-34
1996 y(conclusi)o(v)o(e)c(proof.)22 2054 y(T)m(able)i(10)h(compares)e
(Ae)o(gis)i(and)f(ExOS)g(to)h(Ultrix)i(on)d(se)o(v)o(en)g(virtual)-34
2095 y(memory)15 b(e)o(xperiments)f(based)f(on)i(those)f(used)f(by)i
(Appel)f(and)g(Li)i([5].)-34 2137 y(These)d(e)o(xperiments)h(are)h(of)g
(particular)g(interest,)i(since)c(the)o(y)i(measure)-34
2178 y(the)d(cost)g(of)g(VM)g(operations)f(that)i(are)f(crucial)g(for)g
(the)g(construction)f(of)-34 2220 y(ambitious)f(systems,)f(such)g(as)g
(page-based)f(distrib)o(uted)i(shared)f(memory)-34 2261
y(systems)14 b(and)h(garbage)f(collectors.)33 b(Note)16
b(that)g(Ultrix')n(s)h(VM)f(perfor)o(-)-34 2303 y(mance)7
b(is)h(quite)g(good)f(compared)f(to)i(other)g(systems)f([5].)14
b(The)7 b(operations)-34 2344 y(measured)h(are)h(the)g(follo)o(wing:)22
2403 y Fi(dirty)p Fn(:)k(time)c(to)g(query)e(whether)h(a)g(page)f(is)h
(\252dirty)n(.)m(\272)13 b(Since)8 b(it)h(does)e(not)-34
2444 y(require)i(e)o(xamination)e(of)i(the)f(TLB,)h(this)f(e)o
(xperiment)g(measures)f(the)h(base)-34 2486 y(cost)g(of)h(looking)f(up)
g(a)h(virtual)g(address)e(in)i(ExOS')n(s)f(page-table)f(structure.)-34
2527 y(This)i(operation)f(is)i(not)f(pro)o(vided)f(by)h(Ultrix.)22
2585 y Fi(pr)o(ot1)p Fn(:)14 b(time)9 b(to)h(change)d(the)i(protection)
g(of)g(a)g(single)g(page.)22 2643 y Fi(pr)o(ot100)p Fn(:)k(time)d(to)f
(\252read-protect\272)f(100)g(pages.)1118 -42 y Fi(unpr)o(ot100)p
Fn(:)k(time)e(to)g(remo)o(v)o(e)f(read-protections)f(on)h(100)f(pages.)
1118 16 y Fi(trap)p Fn(:)13 b(time)d(to)g(handle)e(a)g(page-protection)
g(trap.)1118 74 y Fi(appel1)p Fn(:)23 b(time)15 b(to)f(access)e(a)i
(random)g(protected)f(page)g(and,)i(in)g(the)1062 116
y(fault)f(handler)o(,)f(protect)g(some)f(other)i(page)d(and)i
(unprotect)f(the)h(faulting)1062 157 y(page)8 b(\(this)i(benchmark)d
(is)i(\252prot1+trap+unprot\272)f(in)i(Appel)e(and)h(Li)g([5]\).)1118
216 y Fi(appel2)p Fn(:)17 b(time)11 b(to)h(protect)e(100)h(pages,)f
(then)g(access)f(each)h(page)f(in)j(a)1062 257 y(random)g(sequence)e
(and,)j(in)g(the)f(fault-handler)o(,)h(unprotect)f(the)g(faulting)1062
299 y(page)7 b(\(this)i(benchmark)e(is)h(\252protN+trap+unprot\272)g
(in)h(Appel)f(and)f(Li)i([5]\).)1062 340 y(Note)g(that)g
Fi(appel2)g Fn(requires)f(less)h(time)g(than)g Fi(appel1)f
Fn(since)g Fi(appel1)h Fn(must)1062 382 y(both)g(unprotect)f(and)h
(protect)g(dif)o(ferent)h(pages)d(in)i(the)g(fault)h(handler)n(.)1118
440 y(The)i Fi(dirty)h Fn(benchmark)e(measures)g(the)i(a)o(v)o(erage)f
(time)i(to)f(parse)f(the)1062 481 y(page-table)e(for)h(a)g(random)f
(entry)n(.)19 b(This)10 b(operation)h(illustrates)g(two)g(con-)1062
523 y(sequences)f(of)k(the)f(e)o(xokernel)f(architecture.)26
b(First,)16 b(kernel)d(transitions)1062 564 y(can)6 b(be)g(eliminated)g
(by)h(implementing)f(abstractions)f(at)i(application)f(le)o(v)o(el.)
1062 606 y(Second,)g(application-le)o(v)o(el)g(software)g(can)f
(implement)i(functionality)f(that)1062 647 y(is)j(frequently)g(not)g
(pro)o(vided)g(by)g(traditional)h(operating)e(systems.)1118
705 y(If)j(we)g(compare)e(the)h(time)h(for)g Fi(dirty)f
Fn(to)h(the)f(time)h(for)g Fi(pr)o(ot1)p Fn(,)g(we)f(see)1062
747 y(that)15 b(o)o(v)o(er)g(half)f(the)h(time)g(spent)e(in)i
Fi(pr)o(ot1)f Fn(is)g(due)g(to)h(the)f(o)o(v)o(erhead)f(of)1062
788 y(parsing)e(the)g(page)f(table.)21 b(As)11 b(we)g(sho)o(w)g(in)h
(Section)e(7.2,)j(this)f(o)o(v)o(erhead)1062 830 y(can)f(be)h(reduced)f
(through)h(the)g(use)f(of)i(a)f(data)f(structure)i(more)f(tuned)f(to)
1062 871 y(ef)o(\256cient)f(lookup)g(\()p Fm(e)o(.g)o(.,)i
Fn(a)f(hash)e(table\).)18 b(Ev)o(en)9 b(with)j(this)e(penalty)n(,)g
(ExOS)1062 913 y(performs)e Fi(pr)o(ot1)g Fn(almost)g(twice)g(as)g
(fast)f(as)h(Ultrix.)15 b(The)7 b(likely)h(reason)f(for)1062
954 y(this)h(dif)o(ference)g(is)f(that,)i(as)e(sho)o(wn)g(in)h(T)m
(able)f(4,)h(Ae)o(gis)g(dispatches)e(system)1062 996
y(calls)j(an)f(order)i(of)f(magnitude)f(more)h(ef)o(\256ciently)g(than)
g(Ultrix.)1118 1054 y(In)k(general,)g(our)f(e)o(xokernel-based)d
(system)j(performs)g(well)h(on)f(this)1062 1096 y(set)h(of)g
(benchmarks.)23 b(The)13 b(e)o(xceptions)e(are)i Fi(pr)o(ot100)f
Fn(and)h Fi(unpr)o(ot100)p Fn(.)1062 1137 y(Ultrix)c(is)f(e)o(xtremely)
g(ef)o(\256cient)f(in)i(protecting)e(and)g(unprotecting)g(contigu-)1062
1179 y(ous)12 b(ranges)g(of)i(virtual)g(addresses:)20
b(it)14 b(performs)f(these)f(operations)h(1.1)1062 1220
y(to)h(1.6)f(times)h(faster)f(than)g(Ae)o(gis.)27 b(One)13
b(reason)f(for)i(this)g(dif)o(ference)f(is)1062 1262
y(the)g(immaturity)i(of)e(our)g(implementation.)26 b(Another)13
b(is)g(that)g(changing)1062 1303 y(page)g(protections)h(in)h(ExOS)f
(requires)g(access)f(to)i(two)f(data)g(structures)1062
1345 y(\(Ae)o(gis')n(s)c(STLB)g(and)f(ExOS')n(s)h(page-table\).)16
b(Ho)o(we)o(v)o(er)o(,)10 b(e)o(v)o(en)f(with)i(poor)1062
1386 y(performance)d(on)h(these)g(two)g(operations,)g(the)g(benchmark)f
(that)h(uses)f(this)1062 1428 y(operation)g(\()p Fi(appel2)p
Fn(\))h(is)h(close)e(to)h(an)f(order)h(of)h(magnitude)e(more)h(ef)o
(\256cient)1062 1469 y(on)j(ExOS)f(than)g(on)h(Ultrix.)23
b(In)12 b(fact,)h(we)f(can)f(e)o(xpect)g(further)h(impro)o(v)o(e-)1062
1511 y(ments)6 b(in)g(performance)f(from)i(more)f(sophisticated)t
(page-table)f(structures)1062 1552 y(and)10 b(hand-coded)f(assembly)g
(language)h(for)h(some)g(operations.)18 b(The)11 b(use)1062
1594 y(of)d(a)f(high-le)o(v)o(el)h(language)e(\(C\))j(to)e(handle)g(e)o
(xceptions)f(adds)g(o)o(v)o(erhead)h(for)1062 1635 y(sa)o(ving)j(and)h
(restoring)g(all)h(caller)o(-sa)o(v)o(ed)f(re)o(gisters)g(when)g(a)g
(trap)g(handler)1062 1677 y(starts)e(and)g(returns.)1062
1789 y Fo(6.3)41 b(Application-Sp)q(eci\014c)12 b(Safe)g(Handlers)h(\()
p Fh(ASH)p Fo(\))1062 1873 y Fn(ExOS)d(operates)e(ef)o(\256ciently)i
(in)h(spite)f(of)g(e)o(x)o(ecuting)g(at)g(application)f(le)o(v)o(el)
1062 1914 y(in)e(part)h(because)t(the)f(cost)g(of)g(crossing)f(between)
g(kernel)g(and)h(user)f(space)f(is)1062 1956 y(e)o(xtremely)j(lo)o(w)g
(in)g(our)g(prototype)f(\(18)h(instructions\).)13 b(Most)8
b(application-)1062 1997 y(speci\256c)h(optimizations)g(can)h
(therefore)g(be)g(implemented)f(in)i(libraries)f(at)1062
2039 y(application)f(le)o(v)o(el.)15 b(Ho)o(we)o(v)o(er)o(,)9
b(in)h(the)f(conte)o(xt)g(of)h(networking,)f(there)h(are)1062
2080 y(two)j(reasons)f(for)i(ExOS)f(to)h(do)o(wnload)e(code:)21
b(the)13 b(\256rst)h(is)f(technology)1062 2122 y(dri)o(v)o(en,)g(while)
f(the)f(second)f(is)i(more)f(fundamental.)20 b(First,)14
b(the)d(network)1062 2163 y(b)o(uf)o(fers)g(on)g(our)f(machines)g
(cannot)f(be)i(easily)f(mapped)f(into)i(application)1062
2205 y(space)g(in)i(a)f(secure)g(way)n(.)23 b(Therefore,)13
b(by)f(do)o(wnloading)f(code)h(into)h(the)1062 2246 y(kernel,)k
(applications)e(can)g(inte)o(grate)h(operations)f(such)f(as)h
(checksum-)1062 2288 y(ming)f(during)g(the)g(copy)e(of)i(the)g(message)
e(from)j(these)e(b)o(uf)o(fers)h(to)g(user)1062 2329
y(space.)25 b(Such)12 b(inte)o(gration)i(can)e(impro)o(v)o(e)i
(performance)f(on)f(a)i(DECsta-)1062 2371 y(tion5000/200)6
b(by)i(almost)g(a)f(factor)h(of)g(two)g([22].)14 b(Second,)6
b(if)j(the)f(runtime)1062 2412 y(of)13 b(do)o(wnloaded)d(code)h(is)i
(bounded,)e(it)i(can)f(be)g(run)g(in)h(situations)e(when)1062
2454 y(performing)h(a)g(full)i(conte)o(xt)d(switch)h(to)g(an)g
(unscheduled)d(application)i(is)1062 2495 y(impractical.)16
b(Do)o(wnloading)8 b(code)h(thus)g(allo)o(ws)h(applications)f(to)h
(decou-)1062 2537 y(ple)g(latenc)o(y-critical)h(operations)e(such)g(as)
h(message)e(reply)i(from)h(process)1062 2579 y(scheduling.)1118
2637 y(W)m(e)16 b(e)o(xamine)g(these)f(issues)g(using)h
(application-speci\256c)e(handlers)1062 2678 y(\(ASHs\).)27
b(ASHs)13 b(are)h Fm(untrusted)d Fn(application-le)o(v)o(el)j
(message-hand)o(lers)994 2806 y(11)p eop
%%Page: 12 12
12 11 bop 371 -43 1283 2 v 370 -6 2 38 v 403 -17 a Ff(Machine)p
548 -6 V 45 w(OS)p 672 -6 V 80 w(dirty)p 787 -6 V 45
w(pr)o(ot1)p 909 -6 V 45 w(pr)o(ot100)p 1063 -6 V 44
w(unpr)o(ot100)p 1255 -6 V 58 w(trap)p 1375 -6 V 45 w(appel1)p
1514 -6 V 45 w(appel2)p 1653 -6 V 371 -4 1283 2 v 370
33 2 38 v 393 22 a Fe(DEC2100)p 548 33 V 44 w(Ultrix)p
672 33 V 75 w(n/a)p 787 33 V 63 w(51.6)p 909 33 V 79
w(175.0)p 1063 33 V 116 w(175.0)p 1255 33 V 44 w(240.0)p
1375 33 V 63 w(383.0)p 1514 33 V 62 w(335.0)p 1653 33
V 370 70 V 393 59 a(DEC2100)p 548 70 V 44 w(ExOS)p 672
70 V 57 w(17.5)p 787 70 V 63 w(32.5)p 909 70 V 79 w(213.0)p
1063 70 V 116 w(275.0)p 1255 70 V 60 w(13.9)p 1375 70
V 80 w(74.4)p 1514 70 V 80 w(45.9)p 1653 70 V 371 72
1283 2 v 370 109 2 38 v 393 98 a(DEC3100)p 548 109 V
44 w(Ultrix)p 672 109 V 75 w(n/a)p 787 109 V 63 w(39.0)p
909 109 V 79 w(133.0)p 1063 109 V 116 w(133.0)p 1255
109 V 44 w(185.0)p 1375 109 V 63 w(302.0)p 1514 109 V
62 w(267.0)p 1653 109 V 370 147 V 393 135 a(DEC3100)p
548 147 V 44 w(ExOS)p 672 147 V 57 w(13.1)p 787 147 V
63 w(24.4)p 909 147 V 79 w(156.0)p 1063 147 V 116 w(206.0)p
1255 147 V 60 w(10.1)p 1375 147 V 80 w(55.0)p 1514 147
V 80 w(34.0)p 1653 147 V 371 148 1283 2 v 370 186 2 38
v 393 174 a(DEC5000)p 548 186 V 44 w(Ultrix)p 672 186
V 75 w(n/a)p 787 186 V 63 w(32.0)p 909 186 V 79 w(102.0)p
1063 186 V 116 w(102.0)p 1255 186 V 44 w(161.0)p 1375
186 V 63 w(262.0)p 1514 186 V 62 w(232.0)p 1653 186 V
370 223 V 393 212 a(DEC5000)p 548 223 V 44 w(ExOS)p 672
223 V 74 w(9.8)p 787 223 V 63 w(16.9)p 909 223 V 79 w(109.0)p
1063 223 V 116 w(143.0)p 1255 223 V 77 w(4.8)p 1375 223
V 80 w(34.0)p 1514 223 V 80 w(22.0)p 1653 223 V 371 225
1283 2 v -34 296 a Fn(T)m(able)9 b(10:)k(T)o(ime)c(to)g(perform)h
(virtual)f(memory)g(operations)f(on)h(ExOS)g(and)f(Ultrix;)j(times)e
(are)g(in)g(microseconds.)j(The)c(times)h(for)h Fi(appel1)e
Fn(and)h Fi(appel2)f Fn(are)-34 337 y(per)h(page.)p 87
460 756 2 v 86 497 2 38 v 177 486 a Ff(Machine)p 322
497 V 171 w(OS)p 537 497 V 45 w(Roundtrip)h(latency)p
841 497 V 87 499 756 2 v 86 536 2 38 v 109 525 a Fe(DEC5000/125)p
322 536 V 58 w(ExOS/ASH)p 537 536 V 255 w(259)p 841 536
V 87 538 756 2 v 86 575 2 38 v 109 564 a(DEC5000/125)p
322 575 V 133 w(ExOS)p 537 575 V 255 w(320)p 841 575
V 87 577 756 2 v 86 614 2 38 v 109 603 a(DEC5000/125)p
322 614 V 133 w(Ultrix)p 537 614 V 238 w(3400)p 841 614
V 87 616 756 2 v 86 653 2 38 v 109 642 a(DEC5000/200)p
322 653 V 43 w(Ultrix/FRPC)p 537 653 V 256 w(340)p 841
653 V 87 655 756 2 v -34 726 a Fn(T)m(able)c(11:)12 b(Roundtrip)7
b(latenc)o(y)f(of)i(a)e(60-byte)g(packet)g(o)o(v)o(er)h(Ethernet)f
(using)-34 767 y(ExOS)11 b(with)h(ASHs,)f(ExOS)g(without)h(ASHs,)f
(Ultrix,)j(and)c(FRPC;)h(times)-34 809 y(are)e(in)h(microseconds.)-34
926 y(that)j(are)f(do)o(wnloaded)e(into)i(the)g(kernel,)h(made)e(safe)h
(by)g(a)g(combination)-34 967 y(of)i(code)d(inspection)h([18])i(and)e
(sandboxing)f([52)o(],)16 b(and)c(e)o(x)o(ecuted)g(upon)-34
1009 y(message)f(arri)o(v)o(al.)25 b(The)12 b(issues)g(in)h(other)g
(conte)o(xts)f(\()p Fm(e)o(.g)o(.,)j Fn(disk)e(I/O\))h(are)-34
1050 y(similar)n(.)22 1108 y(An)7 b(ASH)f(can)g(perform)h(general)e
(computation.)12 b(W)m(e)7 b(ha)o(v)o(e)e(augmented)-34
1150 y(this)i(ability)g(with)f(a)g(set)g(of)h(message)t(primiti)o(v)o
(es)h(that)e(enable)f(the)h(follo)o(wing)-34 1191 y(four)k(useful)e
(abilities:)13 1279 y(1.)19 b(Direct,)9 b(dynamic)e(message)f(v)o
(ectoring.)13 b(An)8 b(ASH)g(controls)f(where)60 1321
y(messages)f(are)j(copied)f(in)i(memory)n(,)f(and)g(can)f(therefore)h
(eliminate)60 1362 y(all)e(intermediate)g(copies,)g(which)f(are)h(the)g
(bane)f(of)i(fast)f(networking)60 1404 y(systems.)13
1475 y(2.)19 b(Dynamic)13 b(inte)o(grated)h(layer)f(processing)f
(\(ILP\))k([1,)e(16)o(].)29 b(ASHs)60 1517 y(can)8 b(inte)o(grate)i
(data)f(manipulations)f(such)g(as)h(checksumming)d(and)60
1558 y(con)o(v)o(ersion)i(into)k(the)e(data)g(transfer)h(engine)f
(itself.)19 b(This)11 b(inte)o(gra-)60 1600 y(tion)h(is)h(done)f(at)g
(the)h(le)o(v)o(el)g(of)g Fm(pipes)p Fn(.)23 b(A)12 b(pipe)h(is)f(a)h
(computation)60 1641 y(that)8 b(acts)f(on)h(streaming)f(data.)13
b(Pipes)7 b(contain)g(suf)o(\256cient)h(semantic)60 1683
y(information)j(for)g(the)g(ASH)g(compiler)f(to)h(inte)o(grate)g(se)o
(v)o(eral)g(pipes)60 1724 y(into)d(the)f(message)e(transfer)j(engine)f
(at)h Fm(runtime)p Fn(,)f(pro)o(viding)h(a)f(lar)o(ge)60
1766 y(de)o(gree)i(of)h(\257e)o(xibility)i(and)d(modularity)n(.)16
b(Pipe)10 b(inte)o(gration)h(allo)o(ws)60 1807 y(message)h(tra)o(v)o
(ersals)j(to)f(be)h(modularly)f(aggre)o(gated)f(to)i(a)f(single)60
1849 y(point)g(in)h(time.)31 b(T)m(o)15 b(the)g(best)f(of)h(our)f(kno)o
(wledge,)h(ASH-based)60 1890 y(ILP)c(is)g(the)g(\256rst)h(to)f(allo)o
(w)g(either)h(dynamic)e(pipe)g(composition)g(or)60 1932
y(application-e)o(xtended)d(in-kernel)i(ILP)l(.)13 2003
y(3.)19 b(Message)7 b(initiation.)14 b(ASHs)9 b(can)f(initiate)i
(message)d(sends,)h(allo)o(w-)60 2045 y(ing)h(for)h(lo)o(w-latenc)o(y)f
(message)e(replies.)13 2116 y(4.)19 b(Control)9 b(initiation.)14
b(ASHs)8 b(perform)i(general)e(computation.)k(This)60
2158 y(ability)d(allo)o(ws)g(them)f(to)h(perform)h(control)e
(operations)g(at)h(message)60 2199 y(reception)g(time,)i(implementing)f
(such)e(computational)h(actions)g(as)60 2241 y(traditional)g(acti)o(v)o
(e)h(messages)c([51])k(or)f(remote)g(lock)g(acquisition.)22
2329 y(It)16 b(is)f(important)g(to)g(note)g(the)g(po)o(wer)f(of)h(the)g
(ASH)g(computational)-34 2370 y(model.)j(It)12 b(allo)o(ws)f(the)f(v)o
(ectoring)h(process)e(to)i(be)f(completely)g(dynamic:)-34
2412 y(the)j(application)f(does)g(not)h(ha)o(v)o(e)f(to)h(pre-specify)g
(that)g(it)h(is)f(waiting)g(for)-34 2453 y(a)e(particular)g(message,)f
(nor)h(does)e(it)j(ha)o(v)o(e)f(to)g(pre-bind)g(b)o(uf)o(fer)h
(locations)-34 2495 y(for)e(the)e(message.)j(Instead,)e(it)g(can)f
(defer)h(these)e(decisions)g(until)j(message)-34 2536
y(reception)k(and)g(use)g(application-le)o(v)o(el)g(data)g(structures,)
i(system)e(state,)-34 2578 y(and/or)9 b(the)g(message)e(itself)j(to)g
(determine)f(where)g(to)g(place)f(the)i(message.)-34
2619 y(Capturing)g(the)h(same)e(e)o(xpressi)o(v)o(eness)f(within)j(a)f
(statically)h(de\256ned)d(pro-)-34 2661 y(tocol)h(is)g(dif)o(\256cult.)
1118 1234 y @beginspecial -31 @llx -24 @lly 157 @urx
138 @ury 2160 @rwi @setspecial
%%BeginDocument: ash.ps
1 setlinecap 1 setlinejoin
0.700 setlinewidth
0.00 setgray

/Jrnd { exch cvi exch cvi dup 3 1 roll idiv mul } def
/JDEdict 8 dict def
JDEdict /mtrx matrix put
/JDE {
  JDEdict begin
  /yrad exch def
  /xrad exch def
  /savematrix mtrx currentmatrix def
  xrad yrad scale
  0 0 1 0 360 arc
  savematrix setmatrix
  end
} def
/JSTR {
  gsave 1 eq { gsave 1 setgray fill grestore } if
    exch neg exch neg translate 
    clip                        
    rotate                      
    4 dict begin
      pathbbox  /&top exch def
                /&right exch def
                /&bottom exch def
                &right sub /&width exch def
      newpath
      currentlinewidth mul round dup               
      &bottom exch Jrnd exch &top             
      4 -1 roll currentlinewidth mul setlinewidth  
      { &right exch moveto &width 0 rlineto stroke } for    
    end
  grestore
  newpath
} bind def
 gsave /Times-Roman findfont 9.000000 scalefont setfont
0.000000 0.000000 translate
0.700000 setlinewidth  gsave newpath 0.000000 0.000000 moveto 154.080002 0.000000 lineto stroke
newpath 0.000000 0.000000 moveto 0.000000 -5.000000 lineto stroke
newpath 17.120001 0.000000 moveto 17.120001 -5.000000 lineto stroke
newpath 34.240002 0.000000 moveto 34.240002 -5.000000 lineto stroke
newpath 51.360001 0.000000 moveto 51.360001 -5.000000 lineto stroke
newpath 68.480003 0.000000 moveto 68.480003 -5.000000 lineto stroke
newpath 85.600006 0.000000 moveto 85.600006 -5.000000 lineto stroke
newpath 102.720001 0.000000 moveto 102.720001 -5.000000 lineto stroke
newpath 119.840004 0.000000 moveto 119.840004 -5.000000 lineto stroke
newpath 136.960007 0.000000 moveto 136.960007 -5.000000 lineto stroke
newpath 154.080002 0.000000 moveto 154.080002 -5.000000 lineto stroke
/Times-Roman findfont 5.000000 scalefont setfont
gsave 0.000000 -8.000000 translate 0.000000 rotate
0 -3.000000 translate (1) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 17.120001 -8.000000 translate 0.000000 rotate
0 -3.000000 translate (2) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 34.240002 -8.000000 translate 0.000000 rotate
0 -3.000000 translate (3) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 51.360001 -8.000000 translate 0.000000 rotate
0 -3.000000 translate (4) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 68.480003 -8.000000 translate 0.000000 rotate
0 -3.000000 translate (5) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 85.600006 -8.000000 translate 0.000000 rotate
0 -3.000000 translate (6) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 102.720001 -8.000000 translate 0.000000 rotate
0 -3.000000 translate (7) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 119.840004 -8.000000 translate 0.000000 rotate
0 -3.000000 translate (8) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 136.960007 -8.000000 translate 0.000000 rotate
0 -3.000000 translate (9) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 154.080002 -8.000000 translate 0.000000 rotate
0 -3.000000 translate (10) dup stringwidth pop 2 div neg 0 moveto
show
grestore
/Times-Bold findfont 8.000000 scalefont setfont
gsave 77.040001 -19.000000 translate 0.000000 rotate
0 -4.800000 translate (Number of Processes) dup stringwidth pop 2 div neg 0 moveto
show
grestore
 grestore 
0.700000 setlinewidth  gsave newpath 0.000000 0.000000 moveto 0.000000 136.800003 lineto stroke
newpath 0.000000 0.000000 moveto -5.000000 0.000000 lineto stroke
newpath 0.000000 9.704882 moveto -5.000000 9.704882 lineto stroke
newpath 0.000000 19.409763 moveto -5.000000 19.409763 lineto stroke
newpath 0.000000 29.114643 moveto -5.000000 29.114643 lineto stroke
newpath 0.000000 38.819527 moveto -5.000000 38.819527 lineto stroke
newpath 0.000000 48.524406 moveto -5.000000 48.524406 lineto stroke
newpath 0.000000 58.229286 moveto -5.000000 58.229286 lineto stroke
newpath 0.000000 67.934166 moveto -5.000000 67.934166 lineto stroke
newpath 0.000000 77.639053 moveto -5.000000 77.639053 lineto stroke
newpath 0.000000 87.343933 moveto -5.000000 87.343933 lineto stroke
newpath 0.000000 97.048813 moveto -5.000000 97.048813 lineto stroke
newpath 0.000000 106.753693 moveto -5.000000 106.753693 lineto stroke
newpath 0.000000 116.458572 moveto -5.000000 116.458572 lineto stroke
newpath 0.000000 126.163460 moveto -5.000000 126.163460 lineto stroke
newpath 0.000000 135.868332 moveto -5.000000 135.868332 lineto stroke
/Times-Roman findfont 5.000000 scalefont setfont
gsave -8.000000 0.000000 translate 0.000000 rotate
0 -1.500000 translate (0) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 9.704882 translate 0.000000 rotate
0 -1.500000 translate (250) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 19.409763 translate 0.000000 rotate
0 -1.500000 translate (500) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 29.114643 translate 0.000000 rotate
0 -1.500000 translate (750) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 38.819527 translate 0.000000 rotate
0 -1.500000 translate (1000) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 48.524406 translate 0.000000 rotate
0 -1.500000 translate (1250) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 58.229286 translate 0.000000 rotate
0 -1.500000 translate (1500) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 67.934166 translate 0.000000 rotate
0 -1.500000 translate (1750) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 77.639053 translate 0.000000 rotate
0 -1.500000 translate (2000) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 87.343933 translate 0.000000 rotate
0 -1.500000 translate (2250) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 97.048813 translate 0.000000 rotate
0 -1.500000 translate (2500) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 106.753693 translate 0.000000 rotate
0 -1.500000 translate (2750) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 116.458572 translate 0.000000 rotate
0 -1.500000 translate (3000) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 126.163460 translate 0.000000 rotate
0 -1.500000 translate (3250) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 135.868332 translate 0.000000 rotate
0 -1.500000 translate (3500) dup stringwidth pop neg 0 moveto
show
grestore
/Times-Bold findfont 8.000000 scalefont setfont
gsave -25.600000 68.400002 translate 90.000000 rotate
0 0.000000 translate (Roundtrip Latency \(microseconds\)) dup stringwidth pop 2 div neg 0 moveto
show
grestore
 grestore 
 gsave 
 gsave 0.000000 setgray
0.700000 setlinewidth  [] 0 setdash
0.000000 10.054257 moveto   17.120001 10.054257 lineto
  34.240002 10.054257 lineto
  51.360003 10.054257 lineto
  68.480003 10.054257 lineto
  85.600004 10.054257 lineto
  102.720005 10.054257 lineto
  119.840006 10.054257 lineto
  136.960007 10.054257 lineto
  154.080008 10.054257 lineto
stroke
0.700000 setlinewidth  [] 0 setdash
 gsave  0.000000 10.054257 translate 0.000000 rotate
newpath 1.284000 1.284000 JDE
gsave  fill grestore
stroke
 grestore  gsave  17.120001 10.054257 translate 0.000000 rotate
newpath 1.284000 1.284000 JDE
gsave  fill grestore
stroke
 grestore  gsave  34.240002 10.054257 translate 0.000000 rotate
newpath 1.284000 1.284000 JDE
gsave  fill grestore
stroke
 grestore  gsave  51.360001 10.054257 translate 0.000000 rotate
newpath 1.284000 1.284000 JDE
gsave  fill grestore
stroke
 grestore  gsave  68.480003 10.054257 translate 0.000000 rotate
newpath 1.284000 1.284000 JDE
gsave  fill grestore
stroke
 grestore  gsave  85.600006 10.054257 translate 0.000000 rotate
newpath 1.284000 1.284000 JDE
gsave  fill grestore
stroke
 grestore  gsave  102.720001 10.054257 translate 0.000000 rotate
newpath 1.284000 1.284000 JDE
gsave  fill grestore
stroke
 grestore  gsave  119.840004 10.054257 translate 0.000000 rotate
newpath 1.284000 1.284000 JDE
gsave  fill grestore
stroke
 grestore  gsave  136.960007 10.054257 translate 0.000000 rotate
newpath 1.284000 1.284000 JDE
gsave  fill grestore
stroke
 grestore  gsave  154.080002 10.054257 translate 0.000000 rotate
newpath 1.284000 1.284000 JDE
gsave  fill grestore
stroke
 grestore  grestore 
 gsave 0.000000 setgray
0.700000 setlinewidth  [] 0 setdash
0.000000 12.422248 moveto   17.120001 24.844496 lineto
  34.240002 37.305564 lineto
  51.360003 50.931217 lineto
  68.480003 62.188880 lineto
  85.600004 74.611128 lineto
  102.720005 99.494444 lineto
  119.840006 111.916692 lineto
  136.960007 124.377759 lineto
  154.080008 136.800007 lineto
stroke
0.700000 setlinewidth  [] 0 setdash
 gsave  0.000000 12.422248 translate 0.000000 rotate
 newpath 1.284000 -1.164586 moveto  0.000000 1.164586 lineto
  -1.284000 -1.164586 lineto
closepath gsave  fill grestore
stroke
 grestore  gsave  17.120001 24.844496 translate 0.000000 rotate
 newpath 1.284000 -1.164586 moveto  0.000000 1.164586 lineto
  -1.284000 -1.164586 lineto
closepath gsave  fill grestore
stroke
 grestore  gsave  34.240002 37.305565 translate 0.000000 rotate
 newpath 1.284000 -1.164586 moveto  0.000000 1.164586 lineto
  -1.284000 -1.164586 lineto
closepath gsave  fill grestore
stroke
 grestore  gsave  51.360001 50.931217 translate 0.000000 rotate
 newpath 1.284000 -1.164586 moveto  0.000000 1.164586 lineto
  -1.284000 -1.164586 lineto
closepath gsave  fill grestore
stroke
 grestore  gsave  68.480003 62.188881 translate 0.000000 rotate
 newpath 1.284000 -1.164586 moveto  0.000000 1.164586 lineto
  -1.284000 -1.164586 lineto
closepath gsave  fill grestore
stroke
 grestore  gsave  85.600006 74.611130 translate 0.000000 rotate
 newpath 1.284000 -1.164586 moveto  0.000000 1.164586 lineto
  -1.284000 -1.164586 lineto
closepath gsave  fill grestore
stroke
 grestore  gsave  102.720001 99.494446 translate 0.000000 rotate
 newpath 1.284000 -1.164586 moveto  0.000000 1.164586 lineto
  -1.284000 -1.164586 lineto
closepath gsave  fill grestore
stroke
 grestore  gsave  119.840004 111.916695 translate 0.000000 rotate
 newpath 1.284000 -1.164586 moveto  0.000000 1.164586 lineto
  -1.284000 -1.164586 lineto
closepath gsave  fill grestore
stroke
 grestore  gsave  136.960007 124.377762 translate 0.000000 rotate
 newpath 1.284000 -1.164586 moveto  0.000000 1.164586 lineto
  -1.284000 -1.164586 lineto
closepath gsave  fill grestore
stroke
 grestore  gsave  154.080002 136.800003 translate 0.000000 rotate
 newpath 1.284000 -1.164586 moveto  0.000000 1.164586 lineto
  -1.284000 -1.164586 lineto
closepath gsave  fill grestore
stroke
 grestore  grestore 
 grestore 
 gsave 17.120001 116.458572 translate 0.000000 rotate
 gsave 0.000000 setgray
0.700000 setlinewidth  [] 0 setdash
0.000000 4.200000 moveto   24.000000 4.200000 lineto
stroke
0.700000 setlinewidth  [] 0 setdash
 gsave  12.000000 4.200000 translate 0.000000 rotate
newpath 1.284000 1.284000 JDE
gsave  fill grestore
stroke
 grestore  grestore 
/Times-Roman findfont 7.000000 scalefont setfont
gsave 28.000000 6.300000 translate 0.000000 rotate
0 -4.200000 translate (ExOS with ASH) dup stringwidth pop pop 0 0 moveto
show
grestore
 gsave 0.000000 setgray
0.700000 setlinewidth  [] 0 setdash
0.000000 -4.200000 moveto   24.000000 -4.200000 lineto
stroke
0.700000 setlinewidth  [] 0 setdash
 gsave  12.000000 -4.200000 translate 0.000000 rotate
 newpath 1.284000 -1.164586 moveto  0.000000 1.164586 lineto
  -1.284000 -1.164586 lineto
closepath gsave  fill grestore
stroke
 grestore  grestore 
gsave 28.000000 -2.100000 translate 0.000000 rotate
0 -4.200000 translate (ExOS without ASH) dup stringwidth pop pop 0 0 moveto
show
grestore
 grestore 
-0.000000 -0.000000 translate
 grestore 
%%EndDocument
 @endspecial 1062 1280 a(Figure)15 b(2:)26 b(A)m(v)o(erage)15
b(roundtrip)h(latenc)o(y)e(with)i(increasing)f(number)f(of)1062
1322 y(acti)o(v)o(e)9 b(processes)e(on)h(recei)o(v)o(er)n(.)1118
1446 y(T)m(able)13 b(11)h(sho)o(ws)e(the)i(roundtrip)g(latenc)o(y)f(o)o
(v)o(er)h(Ethernet)g(of)g(ASH-)1062 1487 y(based)7 b(network)h
(messaging)f(and)h(compares)g(it)i(to)f(ExOS)f(without)i(ASHs,)1062
1529 y(Ultrix,)f(and)d(FRPC)h([49)o(])h(\(the)f(fastest)f(RPC)h(in)g
(the)g(literature)h(on)e(compara-)1062 1570 y(ble)g(hardware\).)11
b(Roundtrip)6 b(latenc)o(y)g(for)g(Ae)o(gis)g(and)f(Ultrix)h(was)f(mea)
o(sured)1062 1612 y(by)k(ping-ponging)f(a)i(counter)f(in)g(a)h(60-byte)
f(UDP/IP)h(packet)e(4096)g(times)1062 1653 y(between)d(two)h(processes)
t(in)h(user)o(-space)t(on)f(DECstation5000/125s.)k(The)1062
1695 y(FRPC)f(numbers)f(are)i(taken)e(from)i(the)g(literature)g([49].)
15 b(The)o(y)9 b(were)h(mea-)1062 1736 y(sured)f(on)g(a)g
(DECstation5000/200,)e(which)i(is)h(approximately)e(1.2)h(times)1062
1778 y(faster)g(than)g(a)g(DECstation5000/125)d(on)j(SPECint92.)1118
1836 y(The)h(message)f(processing)g(at)i(each)e(node)h(consisted)f(of)j
(reading)e(the)1062 1878 y(60-byte)f(message,)e(incrementing)i(the)g
(counter)o(,)g(copying)e(the)i(ne)o(w)g(v)o(alue)1062
1919 y(and)g(a)g(precomputed)f(message)g(header)g(into)j(a)e
(transmission)g(b)o(uf)o(fer)o(,)h(and)1062 1961 y(then)16
b(sending)f(the)h(reply)h(message.)33 b(In)17 b(comparison)e(to)i(a)f
(complete)1062 2002 y(application-le)o(v)o(el)9 b(implementation,)g
(ASHs)g(sa)o(v)o(e)f(61)h(microseconds.)1118 2060 y(Despite)k(being)g
(measured)f(on)h(a)h(slo)o(wer)f(machine,)h(ExOS/ASH)f(is)1062
2102 y(81)7 b(microseconds)f(faster)i(than)f(a)h(high-performance)f
(implementation)g(of)1062 2143 y(RPC)g(for)h(Ultrix)g(\(FRPC\))g
(running)e(on)h(DECstation5000/200s)t(and)f(using)1062
2185 y(a)k(specialized)d(transport)j(protocol)g([49)o(].)16
b(In)10 b(fact,)g(ExOS/ASH)g(is)f(only)h(6)1062 2226
y(microseconds)c(slo)o(wer)i(than)g(the)g(lo)o(wer)h(bound)e(for)i
(cross-machine)e(com-)1062 2268 y(munication)i(on)f(Ethernet,)h
(measured)f(on)h(DECstation5000/200s)d([49].)1118 2326
y(ASHs)k(can)f(be)h(used)f(to)h(decouple)f(latenc)o(y-critical)i
(operations)e(such)1062 2367 y(as)k(message)e(reply)i(from)i(the)e
(scheduling)e(of)j(processes.)24 b(T)m(o)13 b(measure)1062
2409 y(the)8 b(impact)g(of)g(this)g(decoupling)e(on)h(a)o(v)o(erage)g
(message)f(roundtrip)i(latenc)o(y)1062 2450 y(we)j(performed)h(the)f
(same)g(e)o(xperiment)g(as)g(abo)o(v)o(e)g(while)g(increasing)g(the)
1062 2492 y(number)i(of)h(acti)o(v)o(e)g(processes)d(on)i(the)g(recei)o
(ving)g(host)g(\(see)g(Figure)h(2\).)1062 2533 y(W)o(ith)g(ASHs,)f(the)
g(roundtrip)g(latenc)o(y)g(stays)f(constant.)24 b(W)o(ithout)13
b(them,)1062 2575 y(the)c(latenc)o(y)f(increases,)g(since)g(the)g
(reply)h(can)f(be)h(sent)f(only)h(when)f(the)h(ap-)1062
2616 y(plication)e(is)h(scheduled.)i(As)d(the)g(number)g(of)g(acti)o(v)
o(e)g(processes)e(increases,)1062 2658 y(it)j(becomes)e(less)g(likely)h
(that)h(the)f(process)f(is)h(scheduled.)k(Since)6 b(processes)994
2806 y(12)p eop
%%Page: 13 13
13 12 bop 268 -82 394 2 v 267 -44 2 38 v 299 -56 a Ff(Machine)p
444 -44 V 47 w(lrpc)p 547 -44 V 45 w(tlrpc)p 660 -44
V 268 -43 394 2 v 267 -5 2 38 v 290 -17 a Fe(DEC2100)p
444 -5 V 44 w(13.9)p 547 -5 V 70 w(8.6)p 660 -5 V 268
-4 394 2 v 267 34 2 38 v 290 23 a(DEC3100)p 444 34 V
44 w(10.4)p 547 34 V 70 w(6.4)p 660 34 V 268 35 394 2
v 267 73 2 38 v 290 62 a(DEC5000)p 444 73 V 60 w(6.3)p
547 73 V 71 w(2.9)p 660 73 V 268 74 394 2 v -34 145 a
Fn(T)m(able)15 b(12:)27 b(T)o(ime)15 b(to)h(perform)h(untrusted)e(\()p
Fi(lrpc)p Fn(\))h(and)e(trusted)i(\()p Fi(tlrpc)p Fn(\))-34
187 y(LRPC)9 b(e)o(xtensions;)f(times)h(are)g(in)g(microseconds.)-34
308 y(are)e(scheduled)t(in)h(\252round-robin\272)d(order)o(,)j(latenc)o
(y)e(increases)f(linearly)n(.)13 b(On)-34 350 y(Ultrix,)f(the)e
(increase)e(in)i(latenc)o(y)f(was)g(more)h(erratic,)h(ranging)e(from)h
(.5)g(to)-34 391 y(4.5)e(milliseconds)g(with)h(10)e(acti)o(v)o(e)i
(processes.)h(While)f(the)f(e)o(xact)g(rate)g(that)-34
433 y(latenc)o(y)i(increases)f(will)i(v)o(ary)f(depending)e(on)i
(algorithm)h(used)e(to)i(sched-)-34 474 y(ule)g(processes,)d(the)j
(implication)g(is)f(clear:)17 b(decoupling)8 b(actions)i(such)f(as)-34
516 y(message)h(reception)h(from)i(scheduling)d(of)j(a)e(process)g(can)
g(dramatically)-34 557 y(impro)o(v)o(e)f(performance.)-34
658 y Fo(7)41 b(Extensibilit)o(y)11 b(with)i(ExOS)-34
755 y Fn(Library)e(operating)f(systems,)g(which)g(work)g(abo)o(v)o(e)g
(the)h(e)o(xokernel)e(inter)o(-)-34 796 y(face,)14 b(implement)f
(higher)o(-le)o(v)o(el)h(abstractions)e(and)g(can)g(de\256ne)g
(special-)-34 838 y(purpose)c(implementations)g(that)h(best)f(meet)h
(the)g(performance)f(and)g(func-)-34 879 y(tionality)g(goals)f(of)g
(applications.)12 b(W)m(e)7 b(demonstrate)g(the)g(\257e)o(xibility)h
(of)g(the)-34 921 y(e)o(xokernel)f(architecture)h(by)g(sho)o(wing)f(ho)
o(w)g(fundamental)h(operating)f(sys-)-34 962 y(tem)j(abstractions)f
(can)g(be)g(rede\256ned)f(by)i(simply)g(changing)e(application-)-34
1004 y(le)o(v)o(el)13 b(libraries.)24 b(W)m(e)13 b(sho)o(w)e(that)i
(these)e(e)o(xtensions)g(can)h(ha)o(v)o(e)g(dramatic)-34
1045 y(performance)h(bene\256ts.)24 b(These)12 b(dif)o(ferent)i(v)o
(ersions)f(of)g(ExOS)g(can)g(co-)-34 1087 y(e)o(xist)d(on)e(the)h(same)
f(machine)g(and)h(are)f(fully)i(protected)f(by)f(Ae)o(gis.)-34
1187 y Fo(7.1)41 b(Extensible)12 b(RPC)22 1266 y Fn(Most)g(RPC)g
(systems)f(do)h(not)g(trust)h(the)f(serv)o(er)g(to)h(sa)o(v)o(e)e(and)h
(restore)-34 1308 y(re)o(gisters)e([27].)15 b(W)m(e)10
b(implemented)f(a)g(v)o(ersion)g(of)h Fi(lrpc)f Fn(\(see)f(Section)h
(6.1\))-34 1349 y(that)h(trusts)g(the)g(serv)o(er)g(to)g(sa)o(v)o(e)f
(and)g(restore)g(callee-sa)o(v)o(ed)g(re)o(gisters.)16
b(W)m(e)-34 1391 y(call)11 b(this)f(v)o(ersion)g Fi(tlrpc)g
Fn(\(trusted)h(LRPC\).)f(T)m(able)g(12)g(compares)e Fi(tlrpc)i
Fn(to)-34 1432 y(ExOS')n(s)c(more)g(general)g(IPC)g(mech)o(anism,)s
Fi(lrpc)p Fn(,)g(which)g(sa)o(v)o(es)g(all)g(general-)-34
1474 y(purpose)j(callee-sa)o(v)o(ed)g(re)o(gisters.)18
b(Both)11 b(implementations)f(assume)e(that)-34 1515
y(only)15 b(a)h(single)f(function)g(is)g(of)h(interest)g(\()p
Fm(e)o(.g)o(.,)j Fn(neither)c(uses)f(the)i(RPC)-34 1557
y(number)10 b(to)h(inde)o(x)f(into)h(a)f(table\))h(and)e(do)h(not)h
(check)d(permissions.)17 b(Both)-34 1598 y(implementations)7
b(are)g(also)g(single-threaded.)12 b(The)7 b(measurements)e(sho)o(w)-34
1640 y(that)12 b(this)f(simple)g(optimization)g(can)f(impro)o(v)o(e)i
(performance)e(by)h(up)f(to)i(a)-34 1681 y(factor)d(of)h(two.)-34
1782 y Fo(7.2)41 b(Extensible)12 b(P)o(age-table)g(Structures)22
1861 y Fn(W)m(e)h(made)f(a)g(ne)o(w)h(v)o(ersion)f(of)h(ExOS)f(that)h
(supports)f(in)o(v)o(erted)g(page)-34 1902 y(tables.)i(Applications)8
b(that)i(ha)o(v)o(e)f(a)g(dense)e(address)h(space)g(can)g(use)g(linear)
-34 1944 y(page)g(tables,)h(while)g(applications)f(with)i(a)e(sparse)g
(address)f(space)h(can)g(use)-34 1985 y(in)o(v)o(erted)f(ones.)12
b(T)m(able)7 b(13)g(sho)o(ws)g(the)g(performance)g(for)h(this)g(ne)o(w)
f(v)o(ersion)-34 2027 y(of)k(ExOS.)g(The)f(in)o(v)o(erted)g(page-table)
g(trades)g(the)h(performance)e(of)j(mod-)-34 2068 y(ifying)f
(protection)e(on)h(memory)g(re)o(gions)g(for)g(the)g(performance)f(of)i
(faster)-34 2110 y(lookup.)24 b(On)13 b(the)g(virtual)h(memory)e
(benchmarks)f(of)i(Section)f(6.2,)j(it)f(is)-34 2151
y(o)o(v)o(er)c(a)f(factor)g(of)h(two)f(more)g(ef)o(\256cient)g(on)g
Fi(dirty)p Fn(,)g(37\045)g(faster)g(on)g Fi(appel1)p
Fn(,)-34 2193 y(and)h(17\045)h(faster)g(on)f Fi(appel2)p
Fn(.)19 b(Because)8 b(VM)k(is)f(implemented)f(at)h(appli-)-34
2234 y(cation)h(le)o(v)o(el,)i(applications)d(can)g(make)g(such)g
(tradeof)o(fs)h(as)g(appropriate.)-34 2276 y(This)e(e)o(xperiment)f
(emphasizes)e(the)j(de)o(gree)f(of)h(\257e)o(xibility)h(of)o(fered)f
(by)f(an)-34 2317 y(e)o(xokernel)f(architecture.)-34
2418 y Fo(7.3)41 b(Extensible)12 b(Schedulers)22 2497
y Fn(Ae)o(gis)6 b(includes)g(a)g(yield)g(primiti)o(v)o(e)g(to)g(donate)
g(the)g(remainder)g(of)g(a)g(pro-)-34 2538 y(cess')j(current)h(time)h
(slice)f(to)g(another)f(\(speci\256c\))h(process.)k(Applications)-34
2580 y(can)9 b(use)f(this)i(simple)g(mechanism)e(to)h(implement)h
(their)g(o)o(wn)g(scheduling)-34 2621 y(algorithms.)k(T)m(o)8
b(demonstrate)g(this,)i(we)e(ha)o(v)o(e)h(b)o(uilt)g(an)g
(application-le)o(v)o(el)-34 2663 y(scheduler)h(that)i(implements)f
Fm(stride)g(sc)o(heduling)f Fn([54],)k(a)d(deterministic,)1118
678 y @beginspecial -35 @llx -26 @lly 160 @urx 139 @ury
2160 @rwi @setspecial
%%BeginDocument: stride.ps
1 setlinecap 1 setlinejoin
0.700 setlinewidth
0.00 setgray

/Jrnd { exch cvi exch cvi dup 3 1 roll idiv mul } def
/JDEdict 8 dict def
JDEdict /mtrx matrix put
/JDE {
  JDEdict begin
  /yrad exch def
  /xrad exch def
  /savematrix mtrx currentmatrix def
  xrad yrad scale
  0 0 1 0 360 arc
  savematrix setmatrix
  end
} def
/JSTR {
  gsave 1 eq { gsave 1 setgray fill grestore } if
    exch neg exch neg translate 
    clip                        
    rotate                      
    4 dict begin
      pathbbox  /&top exch def
                /&right exch def
                /&bottom exch def
                &right sub /&width exch def
      newpath
      currentlinewidth mul round dup               
      &bottom exch Jrnd exch &top             
      4 -1 roll currentlinewidth mul setlinewidth  
      { &right exch moveto &width 0 rlineto stroke } for    
    end
  grestore
  newpath
} bind def
 gsave /Times-Roman findfont 9.000000 scalefont setfont
0.000000 0.000000 translate
0.700000 setlinewidth  gsave newpath 0.000000 0.000000 moveto 154.080002 0.000000 lineto stroke
newpath 0.000000 0.000000 moveto 0.000000 -5.000000 lineto stroke
newpath 15.408000 0.000000 moveto 15.408000 -5.000000 lineto stroke
newpath 30.816000 0.000000 moveto 30.816000 -5.000000 lineto stroke
newpath 46.223999 0.000000 moveto 46.223999 -5.000000 lineto stroke
newpath 61.632000 0.000000 moveto 61.632000 -5.000000 lineto stroke
newpath 77.040001 0.000000 moveto 77.040001 -5.000000 lineto stroke
newpath 92.447998 0.000000 moveto 92.447998 -5.000000 lineto stroke
newpath 107.855995 0.000000 moveto 107.855995 -5.000000 lineto stroke
newpath 123.264000 0.000000 moveto 123.264000 -5.000000 lineto stroke
newpath 138.671997 0.000000 moveto 138.671997 -5.000000 lineto stroke
newpath 154.080002 0.000000 moveto 154.080002 -5.000000 lineto stroke
/Times-Roman findfont 7.000000 scalefont setfont
gsave 0.000000 -8.000000 translate 0.000000 rotate
0 -4.200000 translate (0) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 15.408000 -8.000000 translate 0.000000 rotate
0 -4.200000 translate (10) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 30.816000 -8.000000 translate 0.000000 rotate
0 -4.200000 translate (20) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 46.223999 -8.000000 translate 0.000000 rotate
0 -4.200000 translate (30) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 61.632000 -8.000000 translate 0.000000 rotate
0 -4.200000 translate (40) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 77.040001 -8.000000 translate 0.000000 rotate
0 -4.200000 translate (50) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 92.447998 -8.000000 translate 0.000000 rotate
0 -4.200000 translate (60) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 107.855995 -8.000000 translate 0.000000 rotate
0 -4.200000 translate (70) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 123.264000 -8.000000 translate 0.000000 rotate
0 -4.200000 translate (80) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 138.671997 -8.000000 translate 0.000000 rotate
0 -4.200000 translate (90) dup stringwidth pop 2 div neg 0 moveto
show
grestore
gsave 154.080002 -8.000000 translate 0.000000 rotate
0 -4.200000 translate (100) dup stringwidth pop 2 div neg 0 moveto
show
grestore
/Times-Bold findfont 8.000000 scalefont setfont
gsave 77.040001 -20.200001 translate 0.000000 rotate
0 -4.800000 translate (Time \(quanta\)) dup stringwidth pop 2 div neg 0 moveto
show
grestore
 grestore 
0.700000 setlinewidth  gsave newpath 0.000000 0.000000 moveto 0.000000 136.800003 lineto stroke
newpath 0.000000 0.000000 moveto -5.000000 0.000000 lineto stroke
newpath 0.000000 13.680000 moveto -5.000000 13.680000 lineto stroke
newpath 0.000000 27.360001 moveto -5.000000 27.360001 lineto stroke
newpath 0.000000 41.040001 moveto -5.000000 41.040001 lineto stroke
newpath 0.000000 54.720001 moveto -5.000000 54.720001 lineto stroke
newpath 0.000000 68.400002 moveto -5.000000 68.400002 lineto stroke
newpath 0.000000 82.080002 moveto -5.000000 82.080002 lineto stroke
newpath 0.000000 95.760002 moveto -5.000000 95.760002 lineto stroke
newpath 0.000000 109.440002 moveto -5.000000 109.440002 lineto stroke
newpath 0.000000 123.119995 moveto -5.000000 123.119995 lineto stroke
newpath 0.000000 136.800003 moveto -5.000000 136.800003 lineto stroke
/Times-Roman findfont 7.000000 scalefont setfont
gsave -8.000000 0.000000 translate 0.000000 rotate
0 -2.100000 translate (0) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 13.680000 translate 0.000000 rotate
0 -2.100000 translate (250) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 27.360001 translate 0.000000 rotate
0 -2.100000 translate (500) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 41.040001 translate 0.000000 rotate
0 -2.100000 translate (750) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 54.720001 translate 0.000000 rotate
0 -2.100000 translate (1000) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 68.400002 translate 0.000000 rotate
0 -2.100000 translate (1250) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 82.080002 translate 0.000000 rotate
0 -2.100000 translate (1500) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 95.760002 translate 0.000000 rotate
0 -2.100000 translate (1750) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 109.440002 translate 0.000000 rotate
0 -2.100000 translate (2000) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 123.119995 translate 0.000000 rotate
0 -2.100000 translate (2250) dup stringwidth pop neg 0 moveto
show
grestore
gsave -8.000000 136.800003 translate 0.000000 rotate
0 -2.100000 translate (2500) dup stringwidth pop neg 0 moveto
show
grestore
/Times-Bold findfont 8.000000 scalefont setfont
gsave -29.439999 68.400002 translate 90.000000 rotate
0 0.000000 translate (Cumulative Iterations \(thousands\)) dup stringwidth pop 2 div neg 0 moveto
show
grestore
 grestore 
 gsave 
 gsave 0.600000 setgray
0.700000 setlinewidth  [] 0 setdash
6.163200 2.629077 moveto   15.408000 5.258209 lineto
  24.652800 7.887286 lineto
  33.897599 10.516418 lineto
  43.142399 13.145495 lineto
  52.387199 15.774626 lineto
  61.631999 18.403704 lineto
  70.876799 21.032836 lineto
  80.121599 23.661968 lineto
  89.366399 26.291044 lineto
  98.611198 28.920178 lineto
  107.855998 31.549253 lineto
  117.100798 34.178384 lineto
  126.345598 36.807462 lineto
  135.590398 39.436594 lineto
  144.835198 42.065672 lineto
stroke
0.700000 setlinewidth  [] 0 setdash
 grestore 
 gsave 0.600000 setgray
0.700000 setlinewidth  [] 0 setdash
1.540800 2.629077 moveto   7.704000 5.258209 lineto
  10.785600 7.887286 lineto
  16.948800 10.516418 lineto
  20.030400 13.145495 lineto
  26.193600 15.774626 lineto
  29.275200 18.403704 lineto
  35.438399 21.032836 lineto
  38.519999 23.661968 lineto
  44.683199 26.291044 lineto
  47.764799 28.920178 lineto
  53.927999 31.549253 lineto
  57.009599 34.178384 lineto
  63.172799 36.807462 lineto
  66.254399 39.436594 lineto
  72.417599 42.065672 lineto
  75.499199 44.694804 lineto
  81.662399 47.323936 lineto
  84.743999 49.953010 lineto
  90.907199 52.582145 lineto
  93.988798 55.211220 lineto
  100.151998 57.840355 lineto
  103.233598 60.469427 lineto
  109.396798 63.098558 lineto
  112.478398 65.727690 lineto
  118.641598 68.356768 lineto
  121.723198 70.985900 lineto
  127.886398 73.614978 lineto
  130.967998 76.244110 lineto
  137.131198 78.873188 lineto
  140.212798 81.502320 lineto
  146.375998 84.131398 lineto
  149.457598 86.760530 lineto
stroke
0.700000 setlinewidth  [] 0 setdash
 grestore 
 gsave 0.600000 setgray
0.700000 setlinewidth  [] 0 setdash
0.000000 2.629077 moveto   3.081600 5.258209 lineto
  4.622400 7.887286 lineto
  9.244800 10.516418 lineto
  12.326400 13.145495 lineto
  13.867200 15.774626 lineto
  18.489600 18.403704 lineto
  21.571200 21.032836 lineto
  23.112000 23.661968 lineto
  27.734400 26.291044 lineto
  30.816000 28.920178 lineto
  32.356799 31.549253 lineto
  36.979199 34.178384 lineto
  40.060799 36.807462 lineto
  41.601599 39.436594 lineto
  46.223999 42.065672 lineto
  49.305599 44.694804 lineto
  50.846399 47.323936 lineto
  55.468799 49.953010 lineto
  58.550399 52.582145 lineto
  60.091199 55.211220 lineto
  64.713599 57.840355 lineto
  67.795199 60.469427 lineto
  69.335999 63.098558 lineto
  73.958399 65.727690 lineto
  77.039999 68.356768 lineto
  78.580799 70.985900 lineto
  83.203199 73.614978 lineto
  86.284799 76.244110 lineto
  87.825599 78.873188 lineto
  92.447999 81.502320 lineto
  95.529598 84.131398 lineto
  97.070398 86.760530 lineto
  101.692798 89.389661 lineto
  104.774398 92.018739 lineto
  106.315198 94.647871 lineto
  110.937598 97.276949 lineto
  114.019198 99.906081 lineto
  115.559998 102.535153 lineto
  120.182398 105.164291 lineto
  123.263998 107.793362 lineto
  124.804798 110.422494 lineto
  129.427198 113.051626 lineto
  132.508798 115.680711 lineto
  134.049598 118.309836 lineto
  138.671998 120.938920 lineto
  141.753598 123.568045 lineto
  143.294398 126.197117 lineto
  147.916798 128.826255 lineto
  150.998398 131.455380 lineto
  152.539198 134.084465 lineto
stroke
0.700000 setlinewidth  [] 0 setdash
 grestore 
 gsave  gsave  6.163200 2.618133 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  15.408000 5.253777 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  24.652800 7.889912 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  33.897598 10.526158 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  43.142399 13.162403 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  52.387199 15.798594 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  61.632000 18.434893 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  70.876801 21.071194 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  80.121597 23.707439 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  89.366402 26.343575 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  98.611198 28.979820 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  107.855995 31.616066 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  117.100800 34.252312 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  126.345596 36.888447 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  135.590393 39.524693 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  144.835205 42.160938 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  grestore 
 gsave  gsave  1.540800 2.593783 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  7.704000 5.226143 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  10.785600 7.862389 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  16.948799 10.498633 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  20.030399 13.134825 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  26.193600 15.770961 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  29.275200 18.407206 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  35.438400 21.043451 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  38.520000 23.679586 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  44.683201 26.315832 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  47.764801 28.952076 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  53.927998 31.588322 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  57.009598 34.224567 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  63.172798 36.860649 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  66.254402 39.496895 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  72.417603 42.133141 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  75.499199 44.769276 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  81.662399 47.405521 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  84.743996 50.041767 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  90.907196 52.678013 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  93.988800 55.314259 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  100.152000 57.950397 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  109.396797 63.222889 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  112.478401 65.859070 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  118.641602 68.495377 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  121.723198 71.131622 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  127.886398 73.767807 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  130.968002 76.404053 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  137.131195 79.040192 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  140.212799 81.676384 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  146.375992 84.312630 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  149.457596 86.948875 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  grestore 
 gsave  gsave  0.000000 1.996295 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  3.081600 4.627506 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  4.622400 7.263697 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  9.244800 9.899505 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  12.326400 12.535695 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  13.867200 15.171776 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  18.489599 17.808022 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  21.571199 20.444323 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  23.112000 23.080513 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  27.734400 25.716648 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  30.816000 28.352896 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  32.356800 30.989141 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  36.979198 33.625385 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  40.060799 36.261520 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  41.601601 38.897766 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  46.223999 41.534012 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  49.305599 44.170258 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  50.846397 46.806339 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  55.468800 49.442585 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  58.550400 52.078773 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  60.091198 54.715019 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  64.713600 57.351154 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  67.795197 59.987400 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  69.335999 62.623646 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  73.958397 65.259842 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  77.040001 67.895973 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  78.580795 70.533859 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  83.203201 73.168465 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  86.284798 75.804710 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  87.825600 78.440842 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  92.447998 81.077087 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  95.529602 83.713280 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  97.070396 86.349579 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  101.692795 88.985657 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  104.774399 91.621902 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  106.315201 94.258148 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  110.937599 96.894394 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  114.019196 99.530479 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  115.559998 102.166725 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  120.182396 104.802917 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  123.264000 107.439217 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  124.804794 110.075348 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  129.427200 112.711548 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  132.508804 115.347725 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  134.049591 117.983917 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  138.671997 120.620056 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  141.753601 123.256248 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  143.294403 125.892441 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  147.916794 128.528687 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  150.998398 131.164825 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  gsave  152.539200 133.800964 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  grestore 
 grestore 
 gsave 15.408000 120.383995 translate 0.000000 rotate
 gsave 0.600000 setgray
0.700000 setlinewidth  [] 0 setdash
0.000000 4.200000 moveto   24.000000 4.200000 lineto
stroke
0.700000 setlinewidth  [] 0 setdash
 grestore 
/Times-Roman findfont 7.000000 scalefont setfont
gsave 28.000000 6.300000 translate 0.000000 rotate
0 -4.200000 translate (Ideal) dup stringwidth pop pop 0 0 moveto
show
grestore
 gsave  gsave  12.000000 -4.200000 translate 0.000000 rotate
newpath 1.001520 1.001520 JDE
gsave  fill grestore
stroke
 grestore  grestore 
gsave 28.000000 -2.100000 translate 0.000000 rotate
0 -4.200000 translate (Measured) dup stringwidth pop pop 0 0 moveto
show
grestore
 grestore 
-0.000000 -0.000000 translate
 grestore 
%%EndDocument
 @endspecial 1229 724 a(Figure)e(3:)14 b(Application-le)o(v)o(el)9
b(stride)h(scheduler)n(.)1062 849 y(proportional-share)g(scheduling)f
(mechanism)g(that)i(impro)o(v)o(es)g(on)f(recent)1062
890 y(work)e([53].)14 b(The)8 b(ExOS)g(implementation)h(maintains)f(a)h
(list)g(of)g(processes)1062 932 y(for)j(which)f(it)h(is)f(responsible,)
f(along)h(with)g(the)g(proportional)g(share)g(the)o(y)1062
973 y(are)f(to)h(recei)o(v)o(e)f(of)g(its)h(time)g(slice\(s\).)17
b(On)10 b(e)o(v)o(ery)g(time)h(slice)f(wakeup,)f(the)1062
1015 y(scheduler)e(calculates)h(which)g(process)f(is)j(to)f(be)f
(scheduled)f(and)h(yields)g(to)1062 1056 y(it)i(directly)n(.)1118
1114 y(W)m(e)e(measure)e(the)h(ef)o(fecti)o(v)o(eness)f(of)i(this)f
(scheduler)f(by)h(creating)g(three)1062 1156 y(processes)t(that)g
(increment)g(counters)e(in)i(shared)f(memory)n(.)12 b(The)6
b(processes)1062 1197 y(are)j(assigned)e(a)h(3:2:1)h(relati)o(v)o(e)h
(allocation)e(of)h(the)g(scheduler')n(s)e(time)j(slice)1062
1239 y(quanta.)19 b(By)11 b(plotting)h(the)f(cumulati)o(v)o(e)g(v)o
(alues)f(of)i(the)f(shared)f(counters,)1062 1280 y(we)d(can)f
(determine)h(ho)o(w)g(closely)f(this)h(scheduling)f(allocation)g(is)i
(realized.)1062 1322 y(As)13 b(can)e(be)i(seen)e(in)i(Figure)f(3,)i
(the)f(achie)o(v)o(ed)e(ratios)i(are)g(v)o(ery)g(close)e(to)1062
1364 y(idealized)d(ones.)1118 1422 y(It)14 b(is)f(important)g(to)g
(note)g(that)g(there)f(is)h(nothing)g(special)e(about)h(this)1062
1463 y(scheduler)6 b(either)j(in)f(terms)g(of)h(pri)o(vile)o(ges)f(\()p
Fm(any)g Fn(application)f(can)g(perform)1062 1505 y(identical)i
(actions\))g(or)g(in)g(its)h(comple)o(xity)f(\(the)g(entire)h
(implementation)e(is)1062 1546 y(less)g(than)h(100)g(lines)g(of)g
(code\).)k(As)c(a)g(result,)h(an)o(y)e(application)h(can)f(easily)1062
1588 y(manage)i(processes.)17 b(An)12 b(important)f(use)g(of)g(such)f
(\256ne-grained)g(control)1062 1629 y(is)16 b(to)h(enhance)c(the)j
(modularity)h(of)f(application)f(design:)27 b(pre)o(viously)n(,)1062
1671 y(applications)7 b(that)i(had)f(subtasks)e(of)j(dif)o
(ferent/\257uctuating)g(priorities)g(had)1062 1712 y(to)h(internalize)f
(them)h(in)g(the)f(form)h(of)g(schedulable)d(threads.)14
b(As)c(a)f(result,)1062 1754 y(the)16 b(likelihood)g(of)h(software)f
(errors)h(increased,)g(and)e(the)i(comple)o(xity)1062
1795 y(of)12 b(the)g(design)f(gre)o(w)n(.)21 b(By)12
b(constructing)f(a)h(domain-speci\256c)d(scheduler)o(,)1062
1837 y(these)e(applications)f(can)h(no)o(w)h(ef)o(fecti)o(v)o(ely)g
(and)f(accurately)f(schedule)g(sub-)1062 1878 y(processes,)h(greatly)i
(impro)o(ving)g(fault)h(isolation)f(and)f(independence.)1062
1979 y Fo(8)41 b(Related)13 b(w)o(o)o(rk)1062 2075 y
Fn(Man)o(y)i(early)h(operating)f(system)g(papers)f(discussed)f(the)i
(need)g(for)h(e)o(x-)1062 2117 y(tendible,)9 b(\257e)o(xible)g(kernels)
f([32,)i(42].)k(Lampson')n(s)8 b(description)g(of)i(CAL-)1062
2158 y(TSS)d([31])i(and)e(Brinch)g(Hansen')n(s)f(microkernel)h(paper)g
([24])i(are)e(two)h(clas-)1062 2200 y(sic)i(rationales.)15
b(Hydra)9 b(was)g(the)h(most)g(ambitious)f(early)h(system)f(to)h(ha)o
(v)o(e)1062 2241 y(the)f(separation)f(of)h(kernel)g(polic)o(y)g(and)f
(mechanism)g(as)g(one)h(of)g(its)h(central)1062 2283
y(tenets)g([55].)18 b(An)11 b(e)o(xokernel)e(takes)g(the)i(elimination)
g(of)g(polic)o(y)f(one)g(step)1062 2324 y(further)f(by)f(remo)o(ving)g
(\252mechanism\272)e(where)o(v)o(er)h(possible.)12 b(This)c(process)
1062 2366 y(is)g(moti)o(v)o(ated)f(by)g(the)g(insight)h(that)f
(mechanism)f Fm(is)i Fn(polic)o(y)n(,)g(albeit)f(with)h(one)1062
2407 y(less)e(layer)h(of)g(indirection.)13 b(F)o(or)7
b(instance,)f(a)g(page-table)g(is)h(a)f(v)o(ery)h(detailed)1062
2449 y(polic)o(y)h(that)h(controls)e(ho)o(w)h(to)g(translate,)h(store)f
(and)f(delete)h(mappings)e(and)1062 2491 y(what)j(actions)f(to)i(take)e
(on)h(in)o(v)o(alid)f(addresses)f(and)h(accesses.)1118
2549 y(VM/370)13 b([17])g(e)o(xports)f(the)h(ideal)g(e)o(xokernel)e
(interface:)21 b(the)12 b(hard-)1062 2590 y(ware)7 b(interface.)12
b(On)c(top)f(of)h(this)g(hardware)e(interface,)h(VM/370)h(supports)1062
2632 y(a)13 b(number)f(of)h(virtual)g(machines)e(on)i(top)g(of)g(which)
f(radically)h(dif)o(ferent)1062 2673 y(operating)g(systems)f(can)h(be)g
(implemented.)27 b(Ho)o(we)o(v)o(er)o(,)14 b(the)g(important)994
2806 y(13)p eop
%%Page: 14 14
14 13 bop 289 -82 1447 2 v 288 -44 2 38 v 320 -56 a Ff(Machine)p
466 -44 V 46 w(Method)p 768 -44 V 192 w(dirty)p 883 -44
V 45 w(pr)o(ot1)p 1004 -44 V 45 w(pr)o(ot100)p 1159 -44
V 44 w(unpr)o(ot100)p 1351 -44 V 44 w(trap)p 1457 -44
V 45 w(appel1)p 1596 -44 V 45 w(appel2)p 1735 -44 V 289
-43 1447 2 v 288 -5 2 38 v 311 -17 a Fe(DEC2100)p 466
-5 V 44 w(Original)8 b(page-table)p 768 -5 V 55 w(17.5)p
883 -5 V 63 w(32.5)p 1004 -5 V 96 w(213.)p 1159 -5 V
133 w(275.)p 1351 -5 V 46 w(13.9)p 1457 -5 V 80 w(74.4)p
1596 -5 V 80 w(45.9)p 1735 -5 V 288 32 V 311 21 a(DEC2100)p
466 32 V 44 w(In)o(verted)e(page-table)p 768 32 V 74
w(8.0)p 883 32 V 63 w(23.1)p 1004 32 V 96 w(253.)p 1159
32 V 133 w(325.)p 1351 32 V 46 w(13.9)p 1457 32 V 80
w(54.4)p 1596 32 V 80 w(38.8)p 1735 32 V 289 34 1447
2 v 288 71 2 38 v 311 60 a(DEC3100)p 466 71 V 44 w(Original)i
(page-table)p 768 71 V 55 w(13.1)p 883 71 V 63 w(24.4)p
1004 71 V 96 w(156.)p 1159 71 V 133 w(206.)p 1351 71
V 46 w(10.1)p 1457 71 V 80 w(55.0)p 1596 71 V 80 w(34.0)p
1735 71 V 288 108 V 311 97 a(DEC3100)p 466 108 V 44 w(In)o(verted)e
(page-table)p 768 108 V 74 w(5.9)p 883 108 V 63 w(17.7)p
1004 108 V 96 w(189.)p 1159 108 V 133 w(243.)p 1351 108
V 46 w(10.1)p 1457 108 V 80 w(40.4)p 1596 108 V 80 w(28.9)p
1735 108 V 289 110 1447 2 v 23 181 a Fn(T)m(able)i(13:)13
b(T)o(ime)c(to)h(perform)f(virtual)h(memory)f(operations)f(on)h(ExOS)f
(using)h(two)g(dif)o(ferent)h(page-table)d(structures;)i(times)h(are)f
(in)g(microseconds.)-34 305 y(dif)o(ference)j(is)h(that)g(VM/370)f(pro)
o(vides)g(this)h(\257e)o(xibility)g(by)f Fm(virtualizing)-34
347 y Fn(the)c(entire)h(base-machine.)i(Since)d(the)g(base)f(machine)g
(can)g(be)h(quite)h(com-)-34 388 y(plicated,)j(virtualization)g(can)f
(be)g(e)o(xpensi)o(v)o(e)g(and)g(dif)o(\256cult.)21 b(Often,)13
b(this)-34 430 y(approach)8 b(requires)h(additional)h(hardware)e
(support)h([23,)i(40)o(].)16 b(Addition-)-34 471 y(ally)n(,)9
b(since)f(much)h(of)g(the)g(actual)g(machine)e(is)j(intentionally)f
(hidden)f(from)-34 513 y(application-le)o(v)o(el)h(software,)h(such)e
(software)h(has)f(little)j(control)f(o)o(v)o(er)g(the)-34
554 y Fm(actual)d Fn(resources)e(and)i(may)f(manage)g(the)h(virtual)h
(resources)d(in)j(a)f(counter)o(-)-34 596 y(producti)o(v)o(e)k(way)n(.)
17 b(F)o(or)11 b(instance,)g(the)f(LR)o(U)g(polic)o(y)h(of)h(pagers)d
(on)i(top)f(of)-34 637 y(the)i(virtual)h(machine)f(can)f(con\257ict)g
(with)i(the)g(paging)e(strate)o(gy)h(used)f(by)-34 679
y(the)e(virtual)h(machine)e(monitor)i([23)o(].)15 b(In)9
b(short,)h(while)f(a)g(virtual)h(machine)-34 720 y(can)d(pro)o(vide)g
(more)g(control)h(than)f(man)o(y)g(other)g(operating)g(systems,)f
(appli-)-34 762 y(cation)11 b(performance)f(can)g(suf)o(fer)h(and)f
(actual)h(control)g(is)g(lacking)f(in)h(ke)o(y)-34 803
y(areas.)22 862 y(Modern)c(re)o(visitations)g(of)h(microkernels)e(ha)o
(v)o(e)h(ar)o(gued)g(for)h(kernel)e(e)o(x-)-34 903 y(tensibility)11
b([2,)g(43)o(,)g(48)o(].)17 b(Like)10 b(microkernels,)f(e)o(xokernels)g
(are)h(designed)-34 945 y(to)g(increase)e(e)o(xtensibility)n(.)16
b(Unlike)9 b(traditional)i(microkernels,)e(an)g(e)o(xok-)-34
986 y(ernel)d(pushes)t(the)g(kernel)g(interface)g(much)f(closer)h(to)g
(the)g(hardware,)g(which)-34 1028 y(allo)o(ws)i(for)h(greater)f(\257e)o
(xibility)n(.)14 b(An)7 b(e)o(xokernel)g(allo)o(ws)h(application-le)o
(v)o(el)-34 1069 y(libraries)g(to)f(de\256ne)e(virtual)i(memory)g(and)f
(IPC)h(abstractions.)12 b(In)7 b(addition,)-34 1111 y(the)12
b(e)o(xokernel)e(architecture)i(attempts)f(to)i(a)o(v)o(oid)e(shared)g
(serv)o(ers)g(\(espe-)-34 1152 y(cially)j(trusted)f(shared)e(serv)o
(ers\),)k(since)d(the)o(y)h(often)g(limit)i(e)o(xtensibility)n(.)-34
1194 y(F)o(or)10 b(e)o(xample,)e(it)i(is)g(dif)o(\256cult)f(to)h
(change)d(the)i(b)o(uf)o(fer)g(management)f(polic)o(y)-34
1235 y(of)g(a)f(shared)e(\256le)j(serv)o(er)n(.)k(In)c(man)o(y)f(ways,)
f(serv)o(ers)h(can)f(be)g(vie)o(wed)h(as)f(\256x)o(ed)-34
1277 y(kernel)12 b(subsystems)d(that)k(run)f(in)h(user)o(-space.)21
b(Some)11 b(ne)o(wer)h(microker)o(-)-34 1318 y(nels)7
b(push)g(the)h(kernel)f(interface)g(closer)h(to)g(the)g(hardware)e
([34],)j(obtaining)-34 1360 y(better)15 b(performance)f(than)g(pre)o
(vious)g(microkernels.)30 b(Ho)o(we)o(v)o(er)o(,)16 b(since)-34
1401 y(these)10 b(systems)g(do)h(not)g(employ)f(secure)g(bindings,)h
(visible)g(resource)f(re-)-34 1443 y(v)o(ocation,)e(and)g(abort)h
(protocols,)g(the)o(y)f(gi)o(v)o(e)h(less)f(control)h(of)g(resources)e
(to)-34 1484 y(application-le)o(v)o(el)i(software.)22
1542 y(The)h(SPIN)g(project)h(is)f(b)o(uilding)h(a)f(microkernel)g
(system)f(that)i(allo)o(ws)-34 1584 y(applications)h(to)i(make)f(polic)
o(y)g(decisions)f([9])i(by)f(safely)g(do)o(wnloading)-34
1625 y Fm(e)o(xtensions)d Fn(into)i(the)g(kernel.)21
b(Unlike)11 b(SPIN,)i(the)e(focus)g(in)h(the)g(e)o(xoker)o(-)-34
1667 y(nel)c(architecture)g(is)h(to)g(obtain)f(\257e)o(xibility)h(and)f
(performance)f(by)h(securely)-34 1708 y(e)o(xposing)f(lo)o(w-le)o(v)o
(el)i(hardware)e(primiti)o(v)o(es)j(rather)e(than)g(e)o(xtending)f(a)i
(tra-)-34 1750 y(ditional)j(operating)e(system)g(in)i(a)f(secure)f(way)
n(.)18 b(Because)9 b(the)i(e)o(xokernel)-34 1791 y(lo)o(w-le)o(v)o(el)i
(primiti)o(v)o(es)g(are)f(simple)g(compared)f(to)h(traditional)h
(kernel)e(in-)-34 1833 y(terfaces,)f(the)o(y)g(can)g(be)f(made)h(v)o
(ery)g(fast.)17 b(Therefore,)11 b(the)f(e)o(xokernel)f(has)-34
1874 y(less)g(use)f(for)i(kernel)e(e)o(xtensions.)22
1933 y(Scout)h([25)o(])h(and)e(V)n(ino)h([46])h(are)f(other)g(current)g
(e)o(xtensible)f(operating)-34 1974 y(systems.)16 b(These)9
b(systems)g(are)h(just)g(be)o(ginning)g(to)h(be)e(constructed,)h(so)g
(it)-34 2016 y(is)h(dif)o(\256cult)h(to)f(determine)g(their)h
(relationship)f(to)g(e)o(xokernels)e(in)i(general)-34
2057 y(and)d(Ae)o(gis)h(in)h(particular)n(.)22 2115 y(SP)m(A)o(CE)c(is)
i(a)f(\252submicro-kernel\272)e(that)j(pro)o(vides)f(only)g(lo)o(w-le)o
(v)o(el)h(ker)o(-)-34 2157 y(nel)i(abstractions)e(de\256ned)g(by)h(the)
h(trap)g(and)e(architecture)i(interface)f([41].)-34 2198
y(Its)g(close)e(coupling)g(to)i(the)f(architecture)g(makes)e(it)j
(similar)h(in)e(man)o(y)g(ways)-34 2240 y(to)j(an)f(e)o(xokernel,)g(b)o
(ut)h(we)g(ha)o(v)o(e)f(not)g(been)g(able)g(to)h(make)e(detailed)i
(com-)-34 2281 y(parisons)c(because)e(its)j(design)f(methodology)f(and)
h(performance)f(ha)o(v)o(e)i(not)-34 2323 y(yet)h(been)f(published.)22
2381 y(Anderson)j([3)q(])i(makes)e(a)h(clear)h(ar)o(gument)f(for)i
(application-speci\256c)-34 2422 y(library)d(operating)f(systems)f(and)
g(proposes)f(that)j(the)f(kernel)f(concentrate)-34 2464
y(solely)j(on)h(the)f(adjudication)g(of)h(hardware)e(resources.)23
b(The)12 b(e)o(xokernel)-34 2505 y(design)g(addresses)f(ho)o(w)i(to)g
(pro)o(vide)h(secure)d(multiple)o(xing)j(of)g(physical)-34
2547 y(resources)5 b(in)h(such)f(a)h(system,)h(and)e(mo)o(v)o(es)h(the)
g(kernel)g(interface)g(to)g(a)g(lo)o(wer)-34 2588 y(le)o(v)o(el)k(of)f
(abstraction.)k(In)d(addition,)f(Ae)o(gis)g(and)g(ExOS)f(demonstrate)g
(that)-34 2630 y(lo)o(w-le)o(v)o(el)16 b(secure)e(multiple)o(xing)h
(and)g(library)h(operating)e(systems)g(can)-34 2671 y(of)o(fer)c(e)o
(xcellent)f(performance.)1118 305 y(Like)h(Ae)o(gis,)h(the)g(Cache)e(K)
o(ernel)h([13])h(pro)o(vides)f(a)h(lo)o(w-le)o(v)o(el)g(kernel)1062
347 y(that)h(can)f(support)g(multiple)i(application-le)o(v)o(el)f
(operating)f(systems.)21 b(T)m(o)1062 388 y(the)15 b(best)g(of)h(our)f
(kno)o(wledge)f(ExOS)h(and)g(the)g(Cache)f(K)o(ernel)h(are)h(the)1062
430 y(\256rst)e(general-purpose)e(library)i(operating)f(systems)g
(implemented)g(in)h(a)1062 471 y(multiprogramming)7 b(en)o(vironment.)k
(The)6 b(dif)o(ference)g(between)f(the)h(Cache)1062 513
y(K)o(ernel)16 b(and)f(Ae)o(gis)g(is)h(mainly)g(one)e(of)i(high-le)o(v)
o(el)g(philosophy)n(.)31 b(The)1062 554 y(Cache)9 b(K)o(ernel)h
(focuses)f(primarily)j(on)e(reliability)n(,)i(rather)f(than)f(securely)
1062 596 y(e)o(xporting)e(hardware)f(resources)f(to)j(applications.)j
(As)c(result,)h(it)g(is)f(biased)1062 637 y(to)o(wards)i(a)h(serv)o(er)
o(-based)f(system)f(structure.)19 b(F)o(or)12 b(e)o(xample,)f(it)h
(supports)1062 679 y(only)d(16)g(\252application-le)o(v)o(el\272)f
(kernels)f(concurrently)n(.)1062 779 y Fo(9)41 b(Conclusion)1062
876 y Fn(In)15 b(the)g(e)o(xokernel)f(architecture,)i(an)f(e)o
(xokernel)e(securely)h(multiple)o(x)o(es)1062 918 y(a)o(v)o(ailable)c
(hardware)g(resources)f(among)h(applications.)17 b(Library)12
b(operat-)1062 959 y(ing)g(systems,)f(which)g(work)g(abo)o(v)o(e)g(the)
g(lo)o(w-le)o(v)o(el)i(e)o(xokernel)d(interface,)1062
1001 y(implement)e(higher)o(-le)o(v)o(el)g(abstractions)f(and)g(can)g
(de\256ne)f(special-purpose)1062 1042 y(implementations)14
b(that)h(best)g(meet)g(the)f(performance)g(and)g(functional-)1062
1084 y(ity)e(goals)f(of)h(applications.)20 b(The)11 b(e)o(xokernel)f
(architecture)h(is)h(moti)o(v)o(ated)1062 1125 y(by)i(a)h(simple)f
(observ)o(ation:)23 b(the)15 b(lo)o(wer)g(the)f(le)o(v)o(el)h(of)g(a)g
(primiti)o(v)o(e,)j(the)1062 1167 y(more)c(ef)o(\256ciently)h(it)g(can)
e(be)h(implemented,)i(and)d(the)h(more)h(latitude)g(it)1062
1208 y(grants)g(to)g(implementors)f(of)i(higher)o(-le)o(v)o(el)f
(abstractions.)30 b(T)m(o)15 b(achie)o(v)o(e)1062 1250
y(a)g(lo)o(w-le)o(v)o(el)h(interface,)g(the)f(e)o(xokernel)f(separates)
f(management)h(from)1062 1291 y(protection.)24 b(T)m(o)13
b(make)e(this)i(separation)f(ef)o(\256cient)g(it)i(uses)d(secure)g
(bind-)1062 1333 y(ings,)i(implemented)f(using)g(hardware)g
(mechanisms,)f(software)h(caches,)1062 1374 y(or)e(do)o(wnloading)d
(code.)1118 1432 y(Experiments)f(using)g(our)h(Ae)o(gis)g(and)f(ExOS)h
(prototypes)f(demonstrate)1062 1474 y(our)i(four)g(hypotheses.)i
(First,)f(the)e(simplicity)i(and)e(limited)h(number)f(of)h(e)o(x-)1062
1515 y(okernel)h(primiti)o(v)o(es)i(allo)o(ws)f(them)f(to)h(be)g
(implemented)f(v)o(ery)h(ef)o(\256ciently)n(.)1062 1557
y(Measurements)e(of)j(Ae)o(gis)f(sho)o(w)g(that)g(its)h(basic)e
(primiti)o(v)o(es)j(are)e(substan-)1062 1598 y(tially)g(more)f(ef)o
(\256cient)g(than)f(the)h(general)f(primiti)o(v)o(es)j(pro)o(vided)d
(by)h(Ultrix.)1062 1640 y(In)j(addition,)h(Ae)o(gis')n(s)f(performance)
f(is)h(better)g(than)g(or)g(on)f(par)h(with)h(re-)1062
1681 y(cent)7 b(high-performance)g(implementations)g(of)h(e)o
(xceptions)f(dispatch)f(and)1062 1723 y(control)j(transfer)h(primiti)o
(v)o(es.)1118 1781 y(Second,)e(because)e(e)o(xokernel)h(primiti)o(v)o
(es)j(are)f(fast,)g(lo)o(w-le)o(v)o(el)h(secure)1062
1822 y(multiple)o(xing)e(of)g(hardware)f(resources)f(can)h(be)g
(implemented)g(ef)o(\256ciently)n(.)1062 1864 y(F)o(or)14
b(e)o(xample,)h(Ae)o(gis)e(multiple)o(x)o(es)h(resources)e(such)h(as)g
(the)g(processor)o(,)1062 1905 y(memory)n(,)c(and)g(the)g(network)g
(more)g(ef)o(\256ciently)h(than)f(state-of-the-art)h(im-)1062
1947 y(plementations.)1118 2005 y(Third,)21 b(traditional)e(operating)f
(system)f(abstractions)g(can)h(be)f(im-)1062 2047 y(plemented)c(ef)o
(\256ciently)i(at)f(application)g(le)o(v)o(el.)30 b(F)o(or)15
b(instance,)g(ExOS')n(s)1062 2088 y(application-le)o(v)o(el)c(VM)g(and)
f(IPC)h(primiti)o(v)o(es)h(are)f(much)f(faster)g(than)h(Ul-)1062
2130 y(trix')n(s)f(corresponding)c(primiti)o(v)o(es)k(and)e(than)h
(state-of-the-art)g(implemen-)1062 2171 y(tations)g(reported)g(in)g
(the)g(literature.)1118 2229 y(F)o(ourth,)19 b(applications)d(can)g
(create)g(special-purpose)e(implementa-)1062 2271 y(tions)g(of)h
(abstractions)f(by)g(merely)g(modifying)h(a)f(library)n(.)30
b(W)m(e)15 b(imple-)1062 2312 y(mented)7 b(se)o(v)o(eral)g(v)o
(ariations)g(of)h(fundamental)f(operating)f(system)h(abstrac-)1062
2354 y(tions)16 b(such)f(as)h(interprocess)f(communication,)i(virtual)g
(memory)n(,)g(and)1062 2395 y(schedulers)7 b(with)j(substantial)e
(impro)o(v)o(ements)i(in)f(functionality)g(and)g(per)o(-)1062
2437 y(formance.)j(Man)o(y)6 b(of)g(these)g(v)o(ariations)g(wo)o(uld)g
(requ)o(ire)g(subs)o(tantial)g(ke)o(rnel)1062 2478 y(alternations)j(on)
f(today')n(s)h(systems.)1118 2536 y(Based)e(on)i(the)f(results)g(of)i
(these)d(e)o(xperiments,)i(we)f(conclude)f(that)i(the)1062
2578 y(e)o(xokernel)i(architecture)h(is)h(a)f(viable)g(structure)h(for)
g(high-performance,)1062 2619 y(e)o(xtensible)8 b(operating)h(systems.)
994 2806 y(14)p eop
%%Page: 15 15
15 14 bop -34 -42 a Fo(Ackno)o(wledgments)-34 55 y Fn(W)m(e)6
b(thank)g(Henri)g(Bal,)f(Robert)h(Bedichek,)t(Matthe)o(w)g(Frank,)f
(Gre)o(g)h(Ganger)o(,)-34 96 y(Bob)14 b(Gruber)o(,)i(Sandeep)c(Gupta,)k
(W)o(ilson)e(Hsieh,)i(Kirk)f(Johnson,)f(But-)-34 138
y(ler)h(Lampson,)f(Ulana)f(Le)o(gedza,)h(Hank)f(Le)o(vy)g(\(our)i
(shepherd\),)f(Da)o(vid)-34 179 y(Mosber)o(ger)o(-T)m(ang,)6
b(Massimiliano)g(Poletto,)f(Robbert)h(v)o(an)g(Rene)o(sse)o(,)t(Satya)
-34 221 y(\(M.)12 b(Satyanarayana)o(n\),)d(Raymie)g(Stata,)i(Carl)g(W)m
(aldspur)o(ger)o(,)f(and)f(Debo-)-34 263 y(rah)f(W)m(allach)g(for)h
(insightful)f(discussions)d(and)j(careful)f(reading)h(of)g(earlier)-34
304 y(v)o(ersions)j(of)h(this)f(paper)n(.)20 b(W)m(e)12
b(also)f(thank)f(the)i(anon)o(ymous)d(referees)i(for)-34
346 y(their)j(v)o(aluable)e(feedback.)24 b(W)m(e)13 b(thank)g(Jochen)e
(Lietdke)h(for)i(his)f(aid)g(in)-34 387 y(comparing)e(the)h(IPC)g
(mechanisms)e(of)j(Ae)o(gis)f(and)f(L3.)22 b(W)m(e)12
b(thank)f(K)o(en)-34 429 y(Mackenzie)t(for)d(man)o(y)e(insights)g(and)g
(discussions.)k(In)d(addition,)g(we)f(thank)-34 470 y(Hector)i(Briceno)
g(for)h(porting)g(NFS)f(and)f(SUN)h(RPC;)h(Sandeep)d(Gupta)i(for)-34
512 y(de)o(v)o(eloping)15 b(an)g(in)o(v)o(erted)h(page-table;)i(Robert)
e(Grimm)h(for)g(porting)f(a)-34 553 y(disk)11 b(dri)o(v)o(er;)i(and)e
(T)m(om)g(Pinckne)o(y)e(for)j(porting)g(gdb)e(and)g(de)o(v)o(eloping)g
(an)-34 595 y(application-le)o(v)o(el)i(\256le)g(system.)21
b(Finally)n(,)13 b(we)f(thank)f(Deborah)g(W)m(allach)-34
636 y(for)f(her)f(input)h(on)e(the)h(design)f(of)i(ASHs,)f(the)g
(software)g(she)f(de)o(v)o(eloped)f(to)-34 678 y(e)o(v)o(aluate)h
(them,)h(and)g(porting)g(Ae)o(gis)g(to)g(the)g(DECstation5000.)j(Her)d
(help)-34 719 y(was)f(in)o(v)o(aluable.)-34 836 y Fo(References)-15
931 y Fn([1])19 b(M.)9 b(B.)g(Abbot)g(and)e(L.)i(L.)g(Peterson.)j
(Increasing)7 b(network)h(through-)47 973 y(put)k(by)g(inte)o(grating)h
(protocol)f(layers.)21 b Fm(IEEE/A)o(CM)13 b(T)n(r)o(ansactions)47
1014 y(on)c(Networking)p Fn(,)f(1\(5\):600\261610,)g(October)h(1993.)
-15 1086 y([2])19 b(M.)e(Accetta,)h(R.)f(Baron,)h(W)m(.)e(Bolosk)o(y)n
(,)i(D.)e(Golub,)j(R.)d(Rashid,)47 1127 y(A.)11 b(T)m(e)o(v)o(anian,)e
(and)g(M.)i(Y)l(oung.)k(Mach:)g(a)10 b(ne)o(w)f(kernel)h(foundation)47
1169 y(for)h(UNIX)g(de)o(v)o(elopment.)k(In)c Fm(Pr)n(oceedings)c(of)k
(the)f(Summer)f(1986)47 1210 y(USENIX)g(Confer)o(ence)p
Fn(,)e(pages)g(93\261112,)h(July)g(1986.)-15 1282 y([3])19
b(T)m(.E.)c(Anderson.)26 b(The)13 b(case)g(for)i
(application-speci\256c)d(operating)47 1323 y(systems.)20
b(In)12 b Fm(Thir)o(d)f(W)m(orkshop)f(on)h(W)m(orkstation)g(Oper)o
(ating)g(Sys-)47 1365 y(tems)p Fn(,)e(pages)f(92\26194,)g(1992.)-15
1436 y([4])19 b(T)m(.E.)7 b(Anderson,)f(B.N.)h(Bershad,)e(E.D.)i(Lazo)o
(wska,)e(and)g(H.M.)j(Le)o(vy)n(.)47 1477 y(Scheduler)j(acti)o(v)o
(ations:)18 b(Ef)o(fecti)o(v)o(e)13 b(kernel)e(support)h(for)h(the)e
(user)o(-)47 1519 y(le)o(v)o(el)f(management)d(of)j(parallelism.)k(In)9
b Fm(Pr)n(oceedings)e(of)i(the)g(Thir)o(-)47 1561 y(teenth)17
b(A)o(CM)g(Symposium)f(on)g(Oper)o(ating)h(Systems)e(Principles)p
Fn(,)47 1602 y(pages)7 b(95\261109,)h(October)h(1991.)-15
1673 y([5])19 b(A.W)m(.)14 b(Appel)e(and)h(K.)g(Li.)24
b(V)n(irtual)14 b(memory)f(primiti)o(v)o(es)h(for)g(user)47
1715 y(programs.)9 b(In)e Fm(F)l(ourth)f(International)h(Confer)o(ence)
t(on)f(Ar)o(c)o(hitectur)o(e)47 1756 y(Support)g(for)h(Pr)n(ogr)o
(amming)f(Languages)t(and)h(Oper)o(ating)g(Systems)p
Fn(,)47 1798 y(pages)g(96\261107,)h(Santa)h(Clara,)g(CA,)h(April)g
(1991.)-15 1869 y([6])19 b(M.)c(L.)f(Baile)o(y)n(,)h(B.)g(Gopal,)g(M.)f
(A.)h(P)o(agels,)g(L.)f(L.)g(Peterson,)g(and)47 1911
y(P)l(.)e(Sarkar)n(.)22 b(P)m(A)l(THFINDER:)12 b(A)g(pattern-based)f
(packet)f(classi\256er)n(.)47 1952 y(In)g Fm(Pr)n(oceedings)c(of)j(the)
g(F)n(irst)g(Symposium)f(on)h(Oper)o(ating)f(Systems)47
1994 y(Design)e(and)g(Implementation)p Fn(,)i(pages)d(115\261123,)h(No)
o(v)o(ember)g(1994.)-15 2065 y([7])19 b(K.)10 b(Bala,)f(M.F)m(.)h
(Kaashoek,)e(and)g(W)m(.E.)i(W)m(eihl.)15 b(Software)9
b(prefetch-)47 2107 y(ing)g(and)e(caching)g(for)i(translation)g
(lookaside)e(b)o(uf)o(fers.)12 b(In)d Fm(Pr)n(oceed-)47
2148 y(ings)e(of)g(the)g(F)n(irst)g(Symposium)f(on)h(Oper)o(ating)f
(Systems)g(Design)g(and)47 2190 y(Implementation)p Fn(,)j(pages)f
(243\261253,)f(No)o(v)o(ember)i(1994.)-15 2261 y([8])19
b(B.)12 b(N.)h(Bershad,)f(T)m(.)g(E.)g(Anderson,)g(E.)g(D.)h(Lazo)o
(wska,)d(and)h(H.)i(M.)47 2303 y(Le)o(vy)n(.)f(Lightweight)d(remote)g
(procedure)e(call.)14 b Fm(A)o(CM)9 b(T)n(r)o(ansactions)47
2344 y(on)g(Computer)f(Systems)p Fn(,)g(8\(1\):37\26155,)g(February)g
(1990.)-15 2416 y([9])19 b(B.)8 b(N.)g(Bershad,)f(S.)h(Sa)o(v)o(age,)e
(P)l(.)i(P)o(ardyak,)f(E.)h(G.)g(Sirer)o(,)g(M.)h(Fiuczyn-)47
2457 y(ski,)15 b(D.)f(Becker)o(,)e(S.)i(Eggers,)g(and)e(C.)i(Chambers.)
24 b(Extensibility)n(,)47 2499 y(safety)15 b(and)g(performance)g(in)h
(the)f(SPIN)h(operating)f(system.)30 b(In)47 2540 y Fm(Pr)n(oceedings)9
b(of)j(the)g(F)n(ifteenth)g(A)o(CM)g(Symposium)e(on)h(Oper)o(ating)47
2582 y(Systems)d(Principles)p Fn(,)g(December)g(1995.)1062
-42 y([10])19 b(P)l(.)11 b(Cao,)g(E.)g(W)m(.)g(Felten,)g(and)f(K.)h
(Li.)19 b(Implementation)10 b(and)g(perfor)o(-)1143 0
y(mance)f(of)h(application-controlled)f(\256le)h(caching.)15
b(In)10 b Fm(Pr)n(oceedings)1143 41 y(of)16 b(the)g(F)n(irst)g
(Symposium)e(on)i(Oper)o(ating)f(Systems)f(Design)h(and)1143
83 y(Implementation)p Fn(,)9 b(pages)f(165\261178,)f(No)o(v)o(ember)i
(1994.)1062 152 y([11])19 b(J.)12 b(S.)g(Chase,)f(H.)h(M.)g(Le)o(vy)n
(,)g(M.)g(J.)g(Feele)o(y)n(,)f(and)g(E.)h(D.)g(Lazo)o(wska.)1143
193 y(Sharing)j(and)h(protection)g(in)g(a)g(single-address-spac)o(e)d
(operating)1143 235 y(system.)d Fm(A)o(CM)e(T)n(r)o(ansactions)e(on)h
(Computer)f(Systems)p Fn(,)h(12\(4\):271\261)1143 276
y(308,)i(No)o(v)o(ember)g(1994.)1062 345 y([12])19 b(D.)9
b(L.)g(Chaum)e(and)h(R.)h(S.)f(F)o(abry)n(.)k(Implementing)c
(capability-based)1143 387 y(protection)18 b(using)f(encryption.)36
b(T)m(echnical)17 b(Report)h(UCB/ERL)1143 428 y(M78/46,)9
b(Uni)o(v)o(ersity)h(of)f(California)h(at)f(Berkele)o(y)n(,)f(July)h
(1978.)1062 497 y([13])19 b(D.)d(Cheriton)g(and)f(K.)h(Duda.)31
b(A)16 b(caching)e(model)h(of)h(operating)1143 539 y(system)9
b(kernel)g(functionality)n(.)14 b(In)d Fm(Pr)n(oceedings)c(of)j(the)f
(F)n(irst)h(Sym-)1143 580 y(posium)k(on)h(Oper)o(ating)g(Systems)f
(Design)g(and)g(Implementation)p Fn(,)1143 622 y(pages)7
b(179\261193,)h(No)o(v)o(ember)h(1994.)1062 691 y([14])19
b(D.)i(R.)g(Cheriton.)43 b(An)20 b(e)o(xperiment)g(using)g(re)o
(gisters)h(for)g(fast)1143 732 y(message-base)o(d)9 b(interprocess)h
(communication.)18 b Fm(Oper)o(ating)10 b(Sys-)1143 774
y(tems)f(Re)o(vie)o(w)p Fn(,)g(18:12\26120,)f(October)h(1984.)1062
843 y([15])19 b(D.)9 b(R.)f(Cheriton.)k(The)c(V)g(kernel:)k(A)d
(software)f(base)e(for)j(distrib)o(uted)1143 884 y(systems.)j
Fm(IEEE)d(Softwar)o(e)p Fn(,)f(1\(2\):19\26142,)h(April)h(1984.)1062
953 y([16])19 b(D.)10 b(D.)f(Clark)h(and)e(D.)h(L.)h(T)m(ennenhouse.)g
(Architectural)g(considera-)1143 995 y(tions)e(for)i(a)e(ne)o(w)g
(generation)f(of)i(protocols.)j(In)d Fm(A)o(CM)f(Communica-)1143
1036 y(tion)j(Ar)o(c)o(hitectur)o(es,)d(Pr)n(otocols,)j(and)e
(Applications)h(\(SIGCOMM\))1143 1078 y(1990)p Fn(,)e(September)g
(1990.)1062 1147 y([17])19 b(R.)10 b(J.)g(Creasy)n(.)j(The)c(origin)h
(of)g(the)g(VM/370)f(time-sharing)h(system.)1143 1188
y Fm(IBM)i(J)o(.)f(Resear)o(c)o(h)d(and)j(De)o(velopment)p
Fn(,)g(25\(5\):483\261490,)f(Septem-)1143 1230 y(ber)f(1981.)1062
1299 y([18])19 b(P)l(.)10 b(Deutsch)f(and)g(C.)i(A.)f(Grant.)17
b(A)10 b(\257e)o(xible)g(measurement)e(tool)j(for)1143
1340 y(software)e(systems.)j Fm(Information)d(Pr)n(ocessing)d(71)p
Fn(,)j(1971.)1062 1409 y([19])19 b(P)l(.)14 b(Druschel,)h(L.)g(L.)f
(Peterson,)h(and)e(B.)i(S.)f(Da)o(vie.)27 b(Experiences)1143
1451 y(with)12 b(a)g(high-speed)e(network)h(adaptor:)18
b(A)12 b(software)f(perspecti)o(v)o(e.)1143 1493 y(In)f
Fm(A)o(CM)f(Communication)f(Ar)o(c)o(hitectur)o(es,)g(Pr)n(otocols,)g
(and)h(Appli-)1143 1534 y(cations)f(\(SIGCOMM\))j(1994)p
Fn(,)d(pages)g(2\26113,)g(October)h(1994.)1062 1603 y([20])19
b(D.)9 b(R.)h(Engler)n(.)i Fh(VCODE)p Fn(:)h(a)c(v)o(ery)f(fast,)h
(retar)o(getable,)g(and)f(e)o(xtensible)1143 1645 y(dynamic)h(code)h
(generation)f(substrate.)16 b(T)m(echnical)10 b(Memorandum)1143
1686 y(MIT/LCS/TM534,)g(MIT)m(,)g(July)f(1995.)1062 1755
y([21])19 b(D.)10 b(R.)g(Engler)o(,)f(M.)h(F)m(.)g(Kaashoek,)d(and)i
(J.)g(O'T)m(oole.)14 b(The)9 b(operating)1143 1797 y(system)c(kernel)h
(as)g(a)g(secure)f(programmable)h(machine.)h(In)g Fm(Pr)n(oceed-)1143
1838 y(ings)j(of)h(the)f(Sixth)h(SIGOPS)f(Eur)n(opean)e(W)m(orkshop)p
Fn(,)h(pages)g(62\26167,)1143 1880 y(September)f(1994.)1062
1949 y([22])19 b(D.)8 b(R.)g(Engler)o(,)g(D.)g(W)m(allach,)g(and)f(M.)i
(F)m(.)f(Kaashoek.)h(Ef)o(\256cient,)f(safe,)1143 1990
y(application-speci\256c)k(message)h(processing.)26 b(T)m(echnical)13
b(Memo-)1143 2032 y(randum)8 b(MIT/LCS/TM533,)i(MIT)m(,)g(March)f
(1995.)1062 2101 y([23])19 b(R.)14 b(P)l(.)f(Goldber)o(g.)25
b(Surv)o(e)o(y)13 b(of)h(virtual)g(machine)e(research.)23
b Fm(IEEE)1143 2142 y(Computer)p Fn(,)8 b(pages)f(34\26145,)i(June)e
(1974.)1062 2211 y([24])19 b(P)l(.)6 b(Brinch)g(Hansen.)g(The)g
(nucleus)g(of)g(a)g(multiprogramming)g(system.)1143 2253
y Fm(Communications)i(of)h(the)g(A)o(CM)p Fn(,)g(13\(4\):238\261241,)f
(April)i(1970.)1062 2322 y([25])19 b(J.H.)c(Hartman,)i(A.B.)e(Montz,)i
(D.)e(Mosber)o(ger)o(,)g(S.W)m(.)h(O'Malle)o(y)n(,)1143
2363 y(L.L.)7 b(Peterson,)g(and)f(T)m(.A.)h(Proebsting.)i(Scout:)j(A)6
b(communication-)1143 2405 y(oriented)k(operating)f(system.)16
b(T)m(echnical)9 b(Report)h(TR)h(94-20,)f(Uni-)1143 2446
y(v)o(ersity)f(of)h(Arizona,)f(T)n(ucson,)f(AZ,)h(June)f(1994.)1062
2515 y([26])19 b(K.)14 b(Harty)g(and)f(D.R.)i(Cheriton.)26
b(Application-controlled)13 b(physi-)1143 2557 y(cal)d(memory)f(using)g
(e)o(xternal)h(page-cache)d(management.)14 b(In)c Fm(F)n(ifth)1143
2598 y(International)15 b(Confer)o(ence)f(on)h(Ar)o(c)o(hitectur)o(e)f
(Support)h(for)h(Pr)n(o-)1143 2640 y(gr)o(amming)6 b(Languag)o(es)f
(and)g(Oper)n(ating)h(Sys)o(tems)p Fn(,)t(pages)g(187\26119)o(9,)1143
2681 y(October)j(1992.)994 2806 y(15)p eop
%%Page: 16 16
16 15 bop -34 -42 a Fn([27])19 b(W)m(.C.)11 b(Hsieh,)f(M.F)m(.)i
(Kaashoek,)c(and)h(W)m(.E.)i(W)m(eihl.)18 b(The)9 b(persistent)47
0 y(rele)o(v)o(ance)g(of)i(IPC)g(performance:)16 b(Ne)o(w)11
b(techniques)d(for)k(reducing)47 41 y(the)d(IPC)h(penalty)n(.)j(In)d
Fm(F)l(ourth)e(W)m(orkshop)f(on)i(W)m(orkstation)f(Oper)o(at-)47
83 y(ing)h(Systems)p Fn(,)f(pages)g(186\261190,)f(October)i(1993.)-34
154 y([28])19 b(J.)c(Huck)f(and)h(J.)g(Hays.)28 b(Architectural)15
b(support)g(for)h(translation)47 196 y(table)c(management)e(in)i(lar)o
(ge)g(address)e(space)g(machines.)19 b(In)13 b Fm(Pr)n(o-)47
237 y(ceedings)e(of)h(the)h(19th)f(International)g(Symposium)f(on)h
(Computer)47 279 y(Ar)o(c)o(hitectur)o(e)p Fn(,)7 b(pages)h(39\26151,)g
(May)h(1992.)-34 350 y([29])19 b(R.)d(E.)f(K)o(essler)g(and)f(M.)i(D.)f
(Hill.)31 b(P)o(age)15 b(placement)f(algorithms)47 392
y(for)d(lar)o(ge)g(real-inde)o(x)g(caches.)j Fm(A)o(CM)d(T)n(r)o
(ansactions)d(on)i(Computer)47 433 y(Systems)p Fn(,)e
(10\(4\):338\261359,)g(No)o(v)o(ember)h(1992.)-34 504
y([30])19 b(K.)8 b(Krue)o(ger)o(,)g(D.)g(Loftesness,)e(A.)j(V)l(ahdat,)
e(and)g(T)m(.)h(Anderson.)h(T)m(ools)47 546 y(for)h(de)o(v)o(elopment)e
(of)i(application-speci\256c)d(virtual)k(memory)e(man-)47
587 y(agement.)27 b(In)15 b Fm(Confer)o(ence)d(on)j(Object-Oriented)e
(Pr)n(ogr)o(amming)47 629 y(Systems,)5 b(Languages)o(,)t(and)h
(Applications)g(\(OOPSLA\))g(1993)o Fn(,)t(pages)47 670
y(48\26164,)i(October)h(1993.)-34 742 y([31])19 b(B.W)m(.)7
b(Lampson.)h(On)e(reliable)h(and)f(e)o(xtendable)f(operating)h
(systems.)47 783 y Fm(State)j(of)h(the)f(Art)g(Report,)f(Infotec)o(h)p
Fn(,)i(1,)f(1971.)-34 855 y([32])19 b(B.W)m(.)12 b(Lampson)e(and)h(R.F)
m(.)h(Sproull.)21 b(An)11 b(open)g(operating)g(system)47
896 y(for)h(a)g(single-user)e(machine.)19 b Fm(Pr)n(oceedings)9
b(of)j(the)f(Se)o(venth)g(A)o(CM)47 938 y(Symposium)e(on)i(Oper)o
(ating)f(Systems)f(Principles)p Fn(,)i(pages)e(98\261105,)47
979 y(December)f(1979.)-34 1051 y([33])19 b(J.)7 b(Liedtke.)i(Impro)o
(ving)f(IPC)f(by)g(kernel)f(design.)j(In)e Fm(Pr)n(oceedings)t(of)47
1092 y(the)j(F)l(ourteenth)e(A)o(CM)i(Symposium)f(on)h(Oper)o(ating)f
(Systems)g(Prin-)47 1134 y(ciples)p Fn(,)g(pages)e(175\261188,)h
(December)g(1993.)-34 1205 y([34])19 b(J.)11 b(Liedtke.)17
b(On)11 b(micro-kernel)f(construction.)17 b(In)11 b Fm(Pr)n(oceedings)d
(of)47 1247 y(the)i(F)n(ifteenth)h(A)o(CM)f(Symposium)f(on)h(Oper)o
(ating)g(Systems)f(Princi-)47 1288 y(ples)p Fn(,)g(December)f(1995.)-34
1360 y([35])19 b(K.)j(Mackenzie,)i(J.)e(K)o(ubiato)o(wicz,)j(A.)d
(Agarwal,)j(and)c(M.)h(F)m(.)47 1401 y(Kaashoek.)e(FUGU:)13
b(Implementing)g(translation)f(and)g(protection)47 1443
y(in)e(a)f(multiuser)o(,)h(multimodel)h(multiprocessor)n(.)j(T)m
(echnical)8 b(Memo-)47 1484 y(randum)h(MIT/LCS/TM503,)g(MIT)m(,)h
(October)f(1994.)-34 1556 y([36])19 b(H.)10 b(Massalin)f(and)g(C.)h
(Pu.)15 b(Threads)9 b(and)g(input/output)g(in)h(the)g(Syn-)47
1597 y(thesis)f(kernel.)k(In)c Fm(Pr)n(oceedings)e(of)i(the)g(T)m
(welfth)h(A)o(CM)f(Symposium)47 1639 y(on)g(Oper)o(ating)f(Systems)g
(Principles)p Fn(,)g(pages)f(191\261201,)h(1989.)-34
1710 y([37])19 b(J.C.)13 b(Mogul,)i(R.F)m(.)e(Rashid,)g(and)g(M.J.)g
(Accetta.)23 b(The)13 b(packet)e(\256l-)47 1751 y(ter:)19
b(An)11 b(ef)o(\256cient)g(mechanism)f(for)i(user)o(-le)o(v)o(el)g
(network)e(code.)18 b(In)47 1793 y Fm(Pr)n(oceedings)10
b(of)i(the)g(Ele)o(venth)g(A)o(CM)g(Symposium)f(on)g(Oper)o(ating)47
1834 y(Systems)d(Principles)p Fn(,)g(pages)f(39\26151,)h(No)o(v)o
(ember)h(1987.)-34 1906 y([38])19 b(D.)14 b(Nagle,)g(R.)g(Uhlig,)g(T)m
(.)g(Stanle)o(y)n(,)g(S.)g(Sechrest,)f(T)m(.)h(Mudge,)f(and)47
1947 y(R.)e(Bro)o(wn.)18 b(Design)9 b(tradeof)o(fs)i(for)g
(software-managed)e(TLBs.)16 b(In)47 1989 y Fm(20th)8
b(Annual)f(International)h(Symposium)e(on)i(Computer)e(Ar)o(c)o(hitec-)
47 2030 y(tur)o(e)p Fn(,)j(pages)e(27\26138,)h(May)h(1993.)-34
2102 y([39])19 b(J.)9 b(K.)g(Ousterhout.)j(Why)d(aren')o(t)g(operating)
f(systems)f(getting)i(faster)47 2143 y(as)14 b(fast)g(as)f(hardware?)39
b(In)15 b Fm(Pr)n(oceedings)c(of)k(the)f(Summer)f(1990)47
2185 y(USENIX)c(Confer)o(ence)p Fn(,)e(pages)g(247\261256,)g(June)h
(1990.)-34 2256 y([40])19 b(G.)14 b(J.)g(Popek)e(and)h(C.)h(S.)g
(Kline.)26 b(The)13 b(PDP-11)g(virtual)i(machine)47 2298
y(architecture.)29 b(In)15 b Fm(Pr)n(oceedings)d(of)j(the)g(F)n(ifth)h
(A)o(CM)f(Symposium)47 2339 y(on)e(Oper)o(ating)f(Systems)f(Principles)
p Fn(,)i(pages)e(97\261105,)i(No)o(v)o(ember)47 2381
y(1975.)-34 2452 y([41])19 b(D.)11 b(Probert,)g(J.L.)f(Bruno,)h(and)e
(M.)i(Karzaorman.)16 b(SP)m(A)o(CE:)9 b(A)h(ne)o(w)47
2494 y(approach)j(to)i(operating)f(system)g(abstraction.)27
b(In)15 b Fm(International)47 2535 y(W)m(orkshop)6 b(on)i(Object)g
(Orientation)g(in)h(Oper)o(ating)f(Systems)p Fn(,)f(pages)47
2577 y(133\261137,)h(October)g(1991.)1062 -42 y([42])19
b(D.D.)f(Redell,)i(Y)-5 b(.K.)18 b(Dalal,)i(T)m(.R.)e(Horsle)o(y)n(,)h
(H.C.)f(Lauer)o(,)h(W)m(.C.)1143 0 y(L)n(ynch,)11 b(P)l(.R.)h(McJones,)
f(H.G.)h(Murray)n(,)g(and)f(S.C.)h(Purcell.)20 b(Pilot:)1143
41 y(An)12 b(operating)g(system)f(for)i(a)f(personal)f(computer)n(.)21
b Fm(Communica-)1143 83 y(tions)9 b(of)g(the)g(A)o(CM)p
Fn(,)h(23\(2\):81\26192,)e(February)g(1980.)1062 154
y([43])19 b(M.)d(Rozier)o(,)f(V)-5 b(.)16 b(Abrossimo)o(v)n(,)f(F)m(.)h
(Armand,)g(I.)g(Boule,)g(M.)f(Gien,)1143 196 y(M.)27
b(Guillemont,)k(F)m(.)26 b(Herrmann,)k(C.)c(Kaiser)o(,)k(S.)c
(Langlois,)1143 237 y(P)l(.)11 b(Leonard,)f(and)g(W)m(.)i(Neuhauser)n
(.)k(Chorus)10 b(distrib)o(uted)h(operating)1143 279
y(system.)i Fm(Computing)8 b(Systems)p Fn(,)g(1\(4\):305\261370,)g
(1988.)1062 350 y([44])19 b(J.H.)6 b(Saltzer)o(,)h(D.P)l(.)f(Reed,)g
(and)g(D.D.)g(Clark.)j(End-to-end)c(ar)o(guments)1143
392 y(in)12 b(system)e(design.)19 b Fm(A)o(CM)12 b(T)n(r)o(ansactions)d
(on)i(Computer)g(Systems)p Fn(,)1143 433 y(2\(4\):277\261288,)d(No)o(v)
o(ember)h(1984.)1062 504 y([45])19 b(R.)10 b(L.)g(Sites.)k(Alpha)9
b(AXP)h(architecture.)k Fm(Communications)8 b(of)i(the)1143
546 y(A)o(CM)p Fn(,)f(36\(2\),)h(February)e(1993.)1062
617 y([46])19 b(C.)14 b(Small)h(and)e(M.)h(Seltzer)n(.)26
b(V)n(ino:)d(an)13 b(inte)o(grated)h(platform)h(for)1143
659 y(operating)e(systems)f(and)g(database)g(research.)23
b(T)m(echnical)13 b(Report)1143 700 y(TR-30-94,)c(Harv)o(ard,)g(1994.)
1062 772 y([47])19 b(M.)10 b(Stonebraker)n(.)i(Operating)d(system)g
(support)f(for)i(database)e(man-)1143 813 y(agement.)16
b Fm(Communications)9 b(of)i(the)f(A)o(CM)p Fn(,)h(24\(7\):412\261418,)
e(July)1143 855 y(1981.)1062 926 y([48])19 b(A.S.)10
b(T)m(anenbaum,)d(R.)j(v)o(an)f(Renesse,)e(H.)j(v)o(an)f(Sta)o(v)o
(eren,)g(G.)h(Sharp,)1143 968 y(S.J.)h(Mullender)o(,)g(A.)h(Jansen,)d
(and)h(G.)i(v)o(an)e(Rossum.)17 b(Experiences)1143 1009
y(with)11 b(the)f(Amoeba)g(distrib)o(uted)g(operating)g(system.)16
b Fm(Communica-)1143 1051 y(tions)9 b(of)g(the)g(A)o(CM)p
Fn(,)h(33\(12\):46\26163,)e(December)g(1990.)1062 1122
y([49])19 b(C.)11 b(A.)f(Thekkath)f(and)g(H.)i(M.)g(Le)o(vy)n(.)k
(Limits)c(to)f(lo)o(w-latenc)o(y)h(com-)1143 1164 y(munication)i(on)g
(high-speed)e(networks.)24 b Fm(A)o(CM)13 b(T)n(r)o(ansactions)e(on)
1143 1205 y(Computer)d(Systems)p Fn(,)g(11\(2\):179\261203,)f(May)i
(1993.)1062 1277 y([50])19 b(C.)d(A.)h(Thekkath)d(and)h(H.)h(M.)g(Le)o
(vy)n(.)30 b(Hardware)15 b(and)g(software)1143 1318 y(support)g(for)h
(ef)o(\256cient)f(e)o(xception)g(handling.)29 b(In)16
b Fm(Sixth)g(Interna-)1143 1360 y(tional)11 b(Confer)o(ence)e(on)h(Ar)o
(c)o(hitectur)o(e)f(Support)g(for)i(Pr)n(ogr)o(amming)1143
1401 y(Languages)d(and)i(Oper)o(ating)h(Systems)p Fn(,)f(pages)g
(110\261121,)g(October)1143 1443 y(1994.)1062 1514 y([51])19
b(T)m(.)7 b(v)o(on)g(Eicken,)f(D.E.)h(Culler)o(,)h(S.C.)g(Goldstein,)f
(and)f(K.E.)h(Schauser)n(.)1143 1556 y(Acti)o(v)o(e)h(messages:)j(a)d
(mechanism)e(for)j(inte)o(grated)f(communication)1143
1597 y(and)13 b(computation.)25 b(In)14 b Fm(Pr)n(oceedings)e(of)i(the)
g(19th)f(International)1143 1639 y(Symposium)d(on)h(Computer)f(Ar)o(c)o
(hitectur)o(e)p Fn(,)g(pages)g(256\261267,)h(May)1143
1680 y(1992.)1062 1751 y([52])19 b(R.)e(W)m(ahbe,)g(S.)g(Lucco,)g(T)m
(.)g(Anderson,)g(and)f(S.)g(Graham.)33 b(Ef)o(\256-)1143
1793 y(cient)15 b(software-based)e(fault)i(isolation.)29
b(In)15 b Fm(Pr)n(oceedings)d(of)k(the)1143 1834 y(F)l(ourteenth)d(A)o
(CM)i(Symposium)e(on)i(Oper)o(ating)f(Systems)f(Princi-)1143
1876 y(ples)p Fn(,)c(pages)e(203\261216,)h(December)g(1993.)1062
1947 y([53])19 b(C.)7 b(A.)g(W)m(aldspur)o(ger)g(and)e(W)m(.)j(E.)f(W)m
(eihl.)j(Lottery)c(scheduling:)11 b(Fle)o(x-)1143 1989
y(ible)d(proportional-share)e(resource)g(management.)j(In)e
Fm(Pr)n(oceedings)1143 2030 y(of)16 b(the)g(F)n(irst)g(Symposium)e(on)i
(Oper)o(ating)f(Systems)f(Design)h(and)1143 2072 y(Implementation)p
Fn(,)9 b(pages)f(1\26111,)g(No)o(v)o(ember)h(1994.)1062
2143 y([54])19 b(C.)9 b(A.)f(W)m(aldspur)o(ger)g(and)f(W)m(.)h(E.)h(W)m
(eihl.)j(Stride)d(scheduling:)i(deter)o(-)1143 2185 y(ministic)g
(proportional-share)e(resource)g(management.)15 b(T)m(echnical)1143
2226 y(Memorandum)8 b(MIT/LCS/TM528,)i(MIT)m(,)g(June)e(1995.)1062
2298 y([55])19 b(W)m(.)7 b(W)n(ulf,)h(E.)f(Cohen,)e(W)m(.)i(Corwin,)h
(A.)e(Jones,)g(R.)h(Le)o(vin,)f(C.)h(Pierson,)1143 2339
y(and)14 b(F)m(.)h(Pollack.)27 b(HYDRA:)15 b(The)f(kernel)g(of)h(a)g
(multiprocessing)1143 2381 y(operating)c(system.)19 b
Fm(Communications)11 b(of)h(the)f(A)o(CM)p Fn(,)h(17\(6\):337\261)1143
2422 y(345,)d(July)f(1974.)1062 2494 y([56])19 b(M.)c(Y)l(ahara,)g(B.)f
(Bershad,)g(C.)h(Maeda,)f(and)f(E.)i(Moss.)26 b(Ef)o(\256cient)1143
2535 y(packet)9 b(demultiple)o(xing)i(for)h(multiple)g(endpoints)d(and)
h(lar)o(ge)i(mes-)1143 2577 y(sages.)6 b(In)g Fm(Pr)n(oceedings)g(of)g
(the)g(W)n(inter)g(1994)f(USENIX)h(Con)o(fer)o(e)o(nc)o(e)p
Fn(,)1143 2618 y(1994.)994 2806 y(16)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
